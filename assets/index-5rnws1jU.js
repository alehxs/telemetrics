var T_=Object.defineProperty;var P_=(n,e,t)=>e in n?T_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Z=(n,e,t)=>P_(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function uy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function C_(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),t}var Xc={exports:{}},bo={},Jc={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function M_(){if(Up)return Oe;Up=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(I){return I===null||typeof I!="object"?null:(I=m&&I[m]||I["@@iterator"],typeof I=="function"?I:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,k={};function E(I,$,fe){this.props=I,this.context=$,this.refs=k,this.updater=fe||_}E.prototype.isReactComponent={},E.prototype.setState=function(I,$){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,$,"setState")},E.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function T(){}T.prototype=E.prototype;function M(I,$,fe){this.props=I,this.context=$,this.refs=k,this.updater=fe||_}var R=M.prototype=new T;R.constructor=M,b(R,E.prototype),R.isPureReactComponent=!0;var N=Array.isArray,L=Object.prototype.hasOwnProperty,B={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function q(I,$,fe){var he,ke={},xe=null,we=null;if($!=null)for(he in $.ref!==void 0&&(we=$.ref),$.key!==void 0&&(xe=""+$.key),$)L.call($,he)&&!U.hasOwnProperty(he)&&(ke[he]=$[he]);var Se=arguments.length-2;if(Se===1)ke.children=fe;else if(1<Se){for(var ye=Array(Se),je=0;je<Se;je++)ye[je]=arguments[je+2];ke.children=ye}if(I&&I.defaultProps)for(he in Se=I.defaultProps,Se)ke[he]===void 0&&(ke[he]=Se[he]);return{$$typeof:n,type:I,key:xe,ref:we,props:ke,_owner:B.current}}function ee(I,$){return{$$typeof:n,type:I.type,key:$,ref:I.ref,props:I.props,_owner:I._owner}}function ue(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function ce(I){var $={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(fe){return $[fe]})}var de=/\/+/g;function Me(I,$){return typeof I=="object"&&I!==null&&I.key!=null?ce(""+I.key):$.toString(36)}function Ne(I,$,fe,he,ke){var xe=typeof I;(xe==="undefined"||xe==="boolean")&&(I=null);var we=!1;if(I===null)we=!0;else switch(xe){case"string":case"number":we=!0;break;case"object":switch(I.$$typeof){case n:case e:we=!0}}if(we)return we=I,ke=ke(we),I=he===""?"."+Me(we,0):he,N(ke)?(fe="",I!=null&&(fe=I.replace(de,"$&/")+"/"),Ne(ke,$,fe,"",function(je){return je})):ke!=null&&(ue(ke)&&(ke=ee(ke,fe+(!ke.key||we&&we.key===ke.key?"":(""+ke.key).replace(de,"$&/")+"/")+I)),$.push(ke)),1;if(we=0,he=he===""?".":he+":",N(I))for(var Se=0;Se<I.length;Se++){xe=I[Se];var ye=he+Me(xe,Se);we+=Ne(xe,$,fe,ye,ke)}else if(ye=v(I),typeof ye=="function")for(I=ye.call(I),Se=0;!(xe=I.next()).done;)xe=xe.value,ye=he+Me(xe,Se++),we+=Ne(xe,$,fe,ye,ke);else if(xe==="object")throw $=String(I),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return we}function be(I,$,fe){if(I==null)return I;var he=[],ke=0;return Ne(I,he,"","",function(xe){return $.call(fe,xe,ke++)}),he}function se(I){if(I._status===-1){var $=I._result;$=$(),$.then(function(fe){(I._status===0||I._status===-1)&&(I._status=1,I._result=fe)},function(fe){(I._status===0||I._status===-1)&&(I._status=2,I._result=fe)}),I._status===-1&&(I._status=0,I._result=$)}if(I._status===1)return I._result.default;throw I._result}var te={current:null},H={transition:null},K={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:H,ReactCurrentOwner:B};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:be,forEach:function(I,$,fe){be(I,function(){$.apply(this,arguments)},fe)},count:function(I){var $=0;return be(I,function(){$++}),$},toArray:function(I){return be(I,function($){return $})||[]},only:function(I){if(!ue(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Oe.Component=E,Oe.Fragment=t,Oe.Profiler=s,Oe.PureComponent=M,Oe.StrictMode=i,Oe.Suspense=h,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,Oe.act=Q,Oe.cloneElement=function(I,$,fe){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var he=b({},I.props),ke=I.key,xe=I.ref,we=I._owner;if($!=null){if($.ref!==void 0&&(xe=$.ref,we=B.current),$.key!==void 0&&(ke=""+$.key),I.type&&I.type.defaultProps)var Se=I.type.defaultProps;for(ye in $)L.call($,ye)&&!U.hasOwnProperty(ye)&&(he[ye]=$[ye]===void 0&&Se!==void 0?Se[ye]:$[ye])}var ye=arguments.length-2;if(ye===1)he.children=fe;else if(1<ye){Se=Array(ye);for(var je=0;je<ye;je++)Se[je]=arguments[je+2];he.children=Se}return{$$typeof:n,type:I.type,key:ke,ref:xe,props:he,_owner:we}},Oe.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:o,_context:I},I.Consumer=I},Oe.createElement=q,Oe.createFactory=function(I){var $=q.bind(null,I);return $.type=I,$},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(I){return{$$typeof:u,render:I}},Oe.isValidElement=ue,Oe.lazy=function(I){return{$$typeof:p,_payload:{_status:-1,_result:I},_init:se}},Oe.memo=function(I,$){return{$$typeof:d,type:I,compare:$===void 0?null:$}},Oe.startTransition=function(I){var $=H.transition;H.transition={};try{I()}finally{H.transition=$}},Oe.unstable_act=Q,Oe.useCallback=function(I,$){return te.current.useCallback(I,$)},Oe.useContext=function(I){return te.current.useContext(I)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(I){return te.current.useDeferredValue(I)},Oe.useEffect=function(I,$){return te.current.useEffect(I,$)},Oe.useId=function(){return te.current.useId()},Oe.useImperativeHandle=function(I,$,fe){return te.current.useImperativeHandle(I,$,fe)},Oe.useInsertionEffect=function(I,$){return te.current.useInsertionEffect(I,$)},Oe.useLayoutEffect=function(I,$){return te.current.useLayoutEffect(I,$)},Oe.useMemo=function(I,$){return te.current.useMemo(I,$)},Oe.useReducer=function(I,$,fe){return te.current.useReducer(I,$,fe)},Oe.useRef=function(I){return te.current.useRef(I)},Oe.useState=function(I){return te.current.useState(I)},Oe.useSyncExternalStore=function(I,$,fe){return te.current.useSyncExternalStore(I,$,fe)},Oe.useTransition=function(){return te.current.useTransition()},Oe.version="18.3.1",Oe}var Vp;function Zh(){return Vp||(Vp=1,Jc.exports=M_()),Jc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function O_(){if(Hp)return bo;Hp=1;var n=Zh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,d){var p,m={},v=null,_=null;d!==void 0&&(v=""+d),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(_=h.ref);for(p in h)i.call(h,p)&&!o.hasOwnProperty(p)&&(m[p]=h[p]);if(u&&u.defaultProps)for(p in h=u.defaultProps,h)m[p]===void 0&&(m[p]=h[p]);return{$$typeof:e,type:u,key:v,ref:_,props:m,_owner:s.current}}return bo.Fragment=t,bo.jsx=l,bo.jsxs=l,bo}var Wp;function A_(){return Wp||(Wp=1,Xc.exports=O_()),Xc.exports}var J=A_(),Pe=Zh(),_l={},Gc={exports:{}},jt={},Kc={exports:{}},Zc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function I_(){return Yp||(Yp=1,function(n){function e(H,K){var Q=H.length;H.push(K);e:for(;0<Q;){var I=Q-1>>>1,$=H[I];if(0<s($,K))H[I]=K,H[Q]=$,Q=I;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var K=H[0],Q=H.pop();if(Q!==K){H[0]=Q;e:for(var I=0,$=H.length,fe=$>>>1;I<fe;){var he=2*(I+1)-1,ke=H[he],xe=he+1,we=H[xe];if(0>s(ke,Q))xe<$&&0>s(we,ke)?(H[I]=we,H[xe]=Q,I=xe):(H[I]=ke,H[he]=Q,I=he);else if(xe<$&&0>s(we,Q))H[I]=we,H[xe]=Q,I=xe;else break e}}return K}function s(H,K){var Q=H.sortIndex-K.sortIndex;return Q!==0?Q:H.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],d=[],p=1,m=null,v=3,_=!1,b=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(H){for(var K=t(d);K!==null;){if(K.callback===null)i(d);else if(K.startTime<=H)i(d),K.sortIndex=K.expirationTime,e(h,K);else break;K=t(d)}}function N(H){if(k=!1,R(H),!b)if(t(h)!==null)b=!0,se(L);else{var K=t(d);K!==null&&te(N,K.startTime-H)}}function L(H,K){b=!1,k&&(k=!1,T(q),q=-1),_=!0;var Q=v;try{for(R(K),m=t(h);m!==null&&(!(m.expirationTime>K)||H&&!ce());){var I=m.callback;if(typeof I=="function"){m.callback=null,v=m.priorityLevel;var $=I(m.expirationTime<=K);K=n.unstable_now(),typeof $=="function"?m.callback=$:m===t(h)&&i(h),R(K)}else i(h);m=t(h)}if(m!==null)var fe=!0;else{var he=t(d);he!==null&&te(N,he.startTime-K),fe=!1}return fe}finally{m=null,v=Q,_=!1}}var B=!1,U=null,q=-1,ee=5,ue=-1;function ce(){return!(n.unstable_now()-ue<ee)}function de(){if(U!==null){var H=n.unstable_now();ue=H;var K=!0;try{K=U(!0,H)}finally{K?Me():(B=!1,U=null)}}else B=!1}var Me;if(typeof M=="function")Me=function(){M(de)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,be=Ne.port2;Ne.port1.onmessage=de,Me=function(){be.postMessage(null)}}else Me=function(){E(de,0)};function se(H){U=H,B||(B=!0,Me())}function te(H,K){q=E(function(){H(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){b||_||(b=!0,se(L))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(H){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var Q=v;v=K;try{return H()}finally{v=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,K){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Q=v;v=H;try{return K()}finally{v=Q}},n.unstable_scheduleCallback=function(H,K,Q){var I=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?I+Q:I):Q=I,H){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=Q+$,H={id:p++,callback:K,priorityLevel:H,startTime:Q,expirationTime:$,sortIndex:-1},Q>I?(H.sortIndex=Q,e(d,H),t(h)===null&&H===t(d)&&(k?(T(q),q=-1):k=!0,te(N,Q-I))):(H.sortIndex=$,e(h,H),b||_||(b=!0,se(L))),H},n.unstable_shouldYield=ce,n.unstable_wrapCallback=function(H){var K=v;return function(){var Q=v;v=K;try{return H.apply(this,arguments)}finally{v=Q}}}}(Zc)),Zc}var qp;function D_(){return qp||(qp=1,Kc.exports=I_()),Kc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function R_(){if(Xp)return jt;Xp=1;var n=Zh(),e=D_();function t(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function o(r,a){l(r,a),l(r+"Capture",a)}function l(r,a){for(s[r]=a,r=0;r<a.length;r++)i.add(a[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(r){return h.call(m,r)?!0:h.call(p,r)?!1:d.test(r)?m[r]=!0:(p[r]=!0,!1)}function _(r,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,a,c,f){if(a===null||typeof a>"u"||_(r,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function k(r,a,c,f,g,y,x){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=r,this.type=a,this.sanitizeURL=y,this.removeEmptyString=x}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){E[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];E[a]=new k(a,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){E[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){E[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){E[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){E[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){E[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){E[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){E[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function M(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(T,M);E[a]=new k(a,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(T,M);E[a]=new k(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(T,M);E[a]=new k(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){E[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),E.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){E[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function R(r,a,c,f){var g=E.hasOwnProperty(a)?E[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(b(a,c,g,f)&&(c=null),f||g===null?v(a)&&(c===null?r.removeAttribute(a):r.setAttribute(a,""+c)):g.mustUseProperty?r[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,f=g.attributeNamespace,c===null?r.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?r.setAttributeNS(f,a,c):r.setAttribute(a,c))))}var N=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),B=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),ce=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),H=Symbol.iterator;function K(r){return r===null||typeof r!="object"?null:(r=H&&r[H]||r["@@iterator"],typeof r=="function"?r:null)}var Q=Object.assign,I;function $(r){if(I===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);I=a&&a[1]||""}return`
`+I+r}var fe=!1;function he(r,a){if(!r||fe)return"";fe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(F){var f=F}Reflect.construct(r,[],a)}else{try{a.call()}catch(F){f=F}r.call(a.prototype)}else{try{throw Error()}catch(F){f=F}r()}}catch(F){if(F&&f&&typeof F.stack=="string"){for(var g=F.stack.split(`
`),y=f.stack.split(`
`),x=g.length-1,P=y.length-1;1<=x&&0<=P&&g[x]!==y[P];)P--;for(;1<=x&&0<=P;x--,P--)if(g[x]!==y[P]){if(x!==1||P!==1)do if(x--,P--,0>P||g[x]!==y[P]){var O=`
`+g[x].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=x&&0<=P);break}}}finally{fe=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?$(r):""}function ke(r){switch(r.tag){case 5:return $(r.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return r=he(r.type,!1),r;case 11:return r=he(r.type.render,!1),r;case 1:return r=he(r.type,!0),r;default:return""}}function xe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case U:return"Fragment";case B:return"Portal";case ee:return"Profiler";case q:return"StrictMode";case Me:return"Suspense";case Ne:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ce:return(r.displayName||"Context")+".Consumer";case ue:return(r._context.displayName||"Context")+".Provider";case de:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case be:return a=r.displayName||null,a!==null?a:xe(r.type)||"Memo";case se:a=r._payload,r=r._init;try{return xe(r(a))}catch{}}return null}function we(r){var a=r.type;switch(r.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=a.render,r=r.displayName||r.name||"",a.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(a);case 8:return a===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Se(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ye(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function je(r){var a=ye(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),f=""+r[a];if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,y=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return g.call(this)},set:function(x){f=""+x,y.call(this,x)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(x){f=""+x},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function cn(r){r._valueTracker||(r._valueTracker=je(r))}function li(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return r&&(f=ye(r)?r.checked?"true":"false":r.value),r=f,r!==c?(a.setValue(r),!0):!1}function kn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function $n(r,a){var c=a.checked;return Q({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function ui(r,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=Se(a.value!=null?a.value:c),r._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Vt(r,a){a=a.checked,a!=null&&R(r,"checked",a,!1)}function hn(r,a){Vt(r,a);var c=Se(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}a.hasOwnProperty("value")?Is(r,a.type,c):a.hasOwnProperty("defaultValue")&&Is(r,a.type,Se(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function Ir(r,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,c||a===r.value||(r.value=a),r.defaultValue=a}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function Is(r,a,c){(a!=="number"||kn(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var Sn=Array.isArray;function at(r,a,c,f){if(r=r.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<r.length;c++)g=a.hasOwnProperty("$"+r[c].value),r[c].selected!==g&&(r[c].selected=g),g&&f&&(r[c].defaultSelected=!0)}else{for(c=""+Se(c),a=null,g=0;g<r.length;g++){if(r[g].value===c){r[g].selected=!0,f&&(r[g].defaultSelected=!0);return}a!==null||r[g].disabled||(a=r[g])}a!==null&&(a.selected=!0)}}function Dr(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return Q({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function aa(r,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Sn(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}r._wrapperState={initialValue:Se(c)}}function la(r,a){var c=Se(a.value),f=Se(a.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),a.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),f!=null&&(r.defaultValue=""+f)}function ua(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}function ca(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ds(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?ca(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ki,Rr=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,g){MSApp.execUnsafeLocalFunction(function(){return r(a,c,f,g)})}:r}(function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for(Ki=Ki||document.createElement("div"),Ki.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ki.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}});function ci(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var En={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lr=["Webkit","ms","Moz","O"];Object.keys(En).forEach(function(r){Lr.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),En[a]=En[r]})});function ha(r,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||En.hasOwnProperty(r)&&En[r]?(""+a).trim():a+"px"}function da(r,a){r=r.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=ha(c,a[c],f);c==="float"&&(c="cssFloat"),f?r.setProperty(c,g):r[c]=g}}var fu=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nr(r,a){if(a){if(fu[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function jr(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hi=null;function zr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Fr=null,Bn=null,Un=null;function Rs(r){if(r=oo(r)){if(typeof Fr!="function")throw Error(t(280));var a=r.stateNode;a&&(a=Ra(a),Fr(r.stateNode,r.type,a))}}function fa(r){Bn?Un?Un.push(r):Un=[r]:Bn=r}function pa(){if(Bn){var r=Bn,a=Un;if(Un=Bn=null,Rs(r),a)for(r=0;r<a.length;r++)Rs(a[r])}}function ga(r,a){return r(a)}function $r(){}var Br=!1;function ma(r,a,c){if(Br)return r(a,c);Br=!0;try{return ga(r,a,c)}finally{Br=!1,(Bn!==null||Un!==null)&&($r(),pa())}}function Zi(r,a){var c=r.stateNode;if(c===null)return null;var f=Ra(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var di=!1;if(u)try{var Qi={};Object.defineProperty(Qi,"passive",{get:function(){di=!0}}),window.addEventListener("test",Qi,Qi),window.removeEventListener("test",Qi,Qi)}catch{di=!1}function pu(r,a,c,f,g,y,x,P,O){var F=Array.prototype.slice.call(arguments,3);try{a.apply(c,F)}catch(Y){this.onError(Y)}}var fi=!1,pi=null,Ls=!1,Ns=null,gu={onError:function(r){fi=!0,pi=r}};function ya(r,a,c,f,g,y,x,P,O){fi=!1,pi=null,pu.apply(gu,arguments)}function va(r,a,c,f,g,y,x,P,O){if(ya.apply(this,arguments),fi){if(fi){var F=pi;fi=!1,pi=null}else throw Error(t(198));Ls||(Ls=!0,Ns=F)}}function Tn(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function Ur(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function js(r){if(Tn(r)!==r)throw Error(t(188))}function Vn(r){var a=r.alternate;if(!a){if(a=Tn(r),a===null)throw Error(t(188));return a!==r?null:r}for(var c=r,f=a;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===c)return js(g),r;if(y===f)return js(g),a;y=y.sibling}throw Error(t(188))}if(c.return!==f.return)c=g,f=y;else{for(var x=!1,P=g.child;P;){if(P===c){x=!0,c=g,f=y;break}if(P===f){x=!0,f=g,c=y;break}P=P.sibling}if(!x){for(P=y.child;P;){if(P===c){x=!0,c=y,f=g;break}if(P===f){x=!0,f=y,c=g;break}P=P.sibling}if(!x)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?r:a}function gi(r){return r=Vn(r),r!==null?mi(r):null}function mi(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var a=mi(r);if(a!==null)return a;r=r.sibling}return null}var es=e.unstable_scheduleCallback,zs=e.unstable_cancelCallback,mu=e.unstable_shouldYield,yu=e.unstable_requestPaint,ze=e.unstable_now,Mt=e.unstable_getCurrentPriorityLevel,Pn=e.unstable_ImmediatePriority,dn=e.unstable_UserBlockingPriority,Ot=e.unstable_NormalPriority,ts=e.unstable_LowPriority,Ht=e.unstable_IdlePriority,At=null,Wt=null;function _a(r){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(At,r,void 0,(r.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:Vr,Yt=Math.log,Fs=Math.LN2;function Vr(r){return r>>>=0,r===0?32:31-(Yt(r)/Fs|0)|0}var yi=64,vi=4194304;function Hn(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Wn(r,a){var c=r.pendingLanes;if(c===0)return 0;var f=0,g=r.suspendedLanes,y=r.pingedLanes,x=c&268435455;if(x!==0){var P=x&~g;P!==0?f=Hn(P):(y&=x,y!==0&&(f=Hn(y)))}else x=c&~g,x!==0?f=Hn(x):y!==0&&(f=Hn(y));if(f===0)return 0;if(a!==0&&a!==f&&(a&g)===0&&(g=f&-f,y=a&-a,g>=y||g===16&&(y&4194240)!==0))return a;if((f&4)!==0&&(f|=c&16),a=r.entangledLanes,a!==0)for(r=r.entanglements,a&=f;0<a;)c=31-xt(a),g=1<<c,f|=r[c],a&=~g;return f}function Cn(r,a){switch(r){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vu(r,a){for(var c=r.suspendedLanes,f=r.pingedLanes,g=r.expirationTimes,y=r.pendingLanes;0<y;){var x=31-xt(y),P=1<<x,O=g[x];O===-1?((P&c)===0||(P&f)!==0)&&(g[x]=Cn(P,a)):O<=a&&(r.expiredLanes|=P),y&=~P}}function $s(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Bs(){var r=yi;return yi<<=1,(yi&4194240)===0&&(yi=64),r}function Us(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function ns(r,a,c){r.pendingLanes|=a,a!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,a=31-xt(a),r[a]=c}function _u(r,a){var c=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<c;){var g=31-xt(c),y=1<<g;a[g]=0,f[g]=-1,r[g]=-1,c&=~y}}function w(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var f=31-xt(c),g=1<<f;g&a|r[f]&a&&(r[f]|=a),c&=~g}}var S=0;function C(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var z,W,ne,Ce,et,tt=!1,st=[],lt=null,_i=null,xi=null,Hr=new Map,Wr=new Map,wi=[],Xv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sd(r,a){switch(r){case"focusin":case"focusout":lt=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":Hr.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wr.delete(a.pointerId)}}function Yr(r,a,c,f,g,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:y,targetContainers:[g]},a!==null&&(a=oo(a),a!==null&&W(a)),r):(r.eventSystemFlags|=f,a=r.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),r)}function Jv(r,a,c,f,g){switch(a){case"focusin":return lt=Yr(lt,r,a,c,f,g),!0;case"dragenter":return _i=Yr(_i,r,a,c,f,g),!0;case"mouseover":return xi=Yr(xi,r,a,c,f,g),!0;case"pointerover":var y=g.pointerId;return Hr.set(y,Yr(Hr.get(y)||null,r,a,c,f,g)),!0;case"gotpointercapture":return y=g.pointerId,Wr.set(y,Yr(Wr.get(y)||null,r,a,c,f,g)),!0}return!1}function Ed(r){var a=is(r.target);if(a!==null){var c=Tn(a);if(c!==null){if(a=c.tag,a===13){if(a=Ur(c),a!==null){r.blockedOn=a,et(r.priority,function(){ne(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function xa(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=wu(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var f=new c.constructor(c.type,c);hi=f,c.target.dispatchEvent(f),hi=null}else return a=oo(c),a!==null&&W(a),r.blockedOn=c,!1;a.shift()}return!0}function Td(r,a,c){xa(r)&&c.delete(a)}function Gv(){tt=!1,lt!==null&&xa(lt)&&(lt=null),_i!==null&&xa(_i)&&(_i=null),xi!==null&&xa(xi)&&(xi=null),Hr.forEach(Td),Wr.forEach(Td)}function qr(r,a){r.blockedOn===a&&(r.blockedOn=null,tt||(tt=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Gv)))}function Xr(r){function a(g){return qr(g,r)}if(0<st.length){qr(st[0],r);for(var c=1;c<st.length;c++){var f=st[c];f.blockedOn===r&&(f.blockedOn=null)}}for(lt!==null&&qr(lt,r),_i!==null&&qr(_i,r),xi!==null&&qr(xi,r),Hr.forEach(a),Wr.forEach(a),c=0;c<wi.length;c++)f=wi[c],f.blockedOn===r&&(f.blockedOn=null);for(;0<wi.length&&(c=wi[0],c.blockedOn===null);)Ed(c),c.blockedOn===null&&wi.shift()}var Vs=N.ReactCurrentBatchConfig,wa=!0;function Kv(r,a,c,f){var g=S,y=Vs.transition;Vs.transition=null;try{S=1,xu(r,a,c,f)}finally{S=g,Vs.transition=y}}function Zv(r,a,c,f){var g=S,y=Vs.transition;Vs.transition=null;try{S=4,xu(r,a,c,f)}finally{S=g,Vs.transition=y}}function xu(r,a,c,f){if(wa){var g=wu(r,a,c,f);if(g===null)zu(r,a,f,ba,c),Sd(r,f);else if(Jv(g,r,a,c,f))f.stopPropagation();else if(Sd(r,f),a&4&&-1<Xv.indexOf(r)){for(;g!==null;){var y=oo(g);if(y!==null&&z(y),y=wu(r,a,c,f),y===null&&zu(r,a,f,ba,c),y===g)break;g=y}g!==null&&f.stopPropagation()}else zu(r,a,f,null,c)}}var ba=null;function wu(r,a,c,f){if(ba=null,r=zr(f),r=is(r),r!==null)if(a=Tn(r),a===null)r=null;else if(c=a.tag,c===13){if(r=Ur(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null);return ba=r,null}function Pd(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mt()){case Pn:return 1;case dn:return 4;case Ot:case ts:return 16;case Ht:return 536870912;default:return 16}default:return 16}}var bi=null,bu=null,ka=null;function Cd(){if(ka)return ka;var r,a=bu,c=a.length,f,g="value"in bi?bi.value:bi.textContent,y=g.length;for(r=0;r<c&&a[r]===g[r];r++);var x=c-r;for(f=1;f<=x&&a[c-f]===g[y-f];f++);return ka=g.slice(r,1<f?1-f:void 0)}function Sa(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Ea(){return!0}function Md(){return!1}function qt(r){function a(c,f,g,y,x){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(c=r[P],this[P]=c?c(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ea:Md,this.isPropagationStopped=Md,this}return Q(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ea)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ea)},persist:function(){},isPersistent:Ea}),a}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ku=qt(Hs),Jr=Q({},Hs,{view:0,detail:0}),Qv=qt(Jr),Su,Eu,Gr,Ta=Q({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Gr&&(Gr&&r.type==="mousemove"?(Su=r.screenX-Gr.screenX,Eu=r.screenY-Gr.screenY):Eu=Su=0,Gr=r),Su)},movementY:function(r){return"movementY"in r?r.movementY:Eu}}),Od=qt(Ta),e0=Q({},Ta,{dataTransfer:0}),t0=qt(e0),n0=Q({},Jr,{relatedTarget:0}),Tu=qt(n0),i0=Q({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),s0=qt(i0),r0=Q({},Hs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),o0=qt(r0),a0=Q({},Hs,{data:0}),Ad=qt(a0),l0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h0(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=c0[r])?!!a[r]:!1}function Pu(){return h0}var d0=Q({},Jr,{key:function(r){if(r.key){var a=l0[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Sa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?u0[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pu,charCode:function(r){return r.type==="keypress"?Sa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Sa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),f0=qt(d0),p0=Q({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Id=qt(p0),g0=Q({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pu}),m0=qt(g0),y0=Q({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),v0=qt(y0),_0=Q({},Ta,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),x0=qt(_0),w0=[9,13,27,32],Cu=u&&"CompositionEvent"in window,Kr=null;u&&"documentMode"in document&&(Kr=document.documentMode);var b0=u&&"TextEvent"in window&&!Kr,Dd=u&&(!Cu||Kr&&8<Kr&&11>=Kr),Rd=" ",Ld=!1;function Nd(r,a){switch(r){case"keyup":return w0.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jd(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ws=!1;function k0(r,a){switch(r){case"compositionend":return jd(a);case"keypress":return a.which!==32?null:(Ld=!0,Rd);case"textInput":return r=a.data,r===Rd&&Ld?null:r;default:return null}}function S0(r,a){if(Ws)return r==="compositionend"||!Cu&&Nd(r,a)?(r=Cd(),ka=bu=bi=null,Ws=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Dd&&a.locale!=="ko"?null:a.data;default:return null}}var E0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zd(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!E0[r.type]:a==="textarea"}function Fd(r,a,c,f){fa(f),a=Aa(a,"onChange"),0<a.length&&(c=new ku("onChange","change",null,c,f),r.push({event:c,listeners:a}))}var Zr=null,Qr=null;function T0(r){sf(r,0)}function Pa(r){var a=Gs(r);if(li(a))return r}function P0(r,a){if(r==="change")return a}var $d=!1;if(u){var Mu;if(u){var Ou="oninput"in document;if(!Ou){var Bd=document.createElement("div");Bd.setAttribute("oninput","return;"),Ou=typeof Bd.oninput=="function"}Mu=Ou}else Mu=!1;$d=Mu&&(!document.documentMode||9<document.documentMode)}function Ud(){Zr&&(Zr.detachEvent("onpropertychange",Vd),Qr=Zr=null)}function Vd(r){if(r.propertyName==="value"&&Pa(Qr)){var a=[];Fd(a,Qr,r,zr(r)),ma(T0,a)}}function C0(r,a,c){r==="focusin"?(Ud(),Zr=a,Qr=c,Zr.attachEvent("onpropertychange",Vd)):r==="focusout"&&Ud()}function M0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Pa(Qr)}function O0(r,a){if(r==="click")return Pa(a)}function A0(r,a){if(r==="input"||r==="change")return Pa(a)}function I0(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var fn=typeof Object.is=="function"?Object.is:I0;function eo(r,a){if(fn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!h.call(a,g)||!fn(r[g],a[g]))return!1}return!0}function Hd(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Wd(r,a){var c=Hd(r);r=0;for(var f;c;){if(c.nodeType===3){if(f=r+c.textContent.length,r<=a&&f>=a)return{node:c,offset:a-r};r=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Hd(c)}}function Yd(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Yd(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function qd(){for(var r=window,a=kn();a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=kn(r.document)}return a}function Au(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function D0(r){var a=qd(),c=r.focusedElem,f=r.selectionRange;if(a!==c&&c&&c.ownerDocument&&Yd(c.ownerDocument.documentElement,c)){if(f!==null&&Au(c)){if(a=f.start,r=f.end,r===void 0&&(r=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(r,c.value.length);else if(r=(a=c.ownerDocument||document)&&a.defaultView||window,r.getSelection){r=r.getSelection();var g=c.textContent.length,y=Math.min(f.start,g);f=f.end===void 0?y:Math.min(f.end,g),!r.extend&&y>f&&(g=f,f=y,y=g),g=Wd(c,y);var x=Wd(c,f);g&&x&&(r.rangeCount!==1||r.anchorNode!==g.node||r.anchorOffset!==g.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),r.removeAllRanges(),y>f?(r.addRange(a),r.extend(x.node,x.offset)):(a.setEnd(x.node,x.offset),r.addRange(a)))}}for(a=[],r=c;r=r.parentNode;)r.nodeType===1&&a.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)r=a[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var R0=u&&"documentMode"in document&&11>=document.documentMode,Ys=null,Iu=null,to=null,Du=!1;function Xd(r,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Du||Ys==null||Ys!==kn(f)||(f=Ys,"selectionStart"in f&&Au(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),to&&eo(to,f)||(to=f,f=Aa(Iu,"onSelect"),0<f.length&&(a=new ku("onSelect","select",null,a,c),r.push({event:a,listeners:f}),a.target=Ys)))}function Ca(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var qs={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionend:Ca("Transition","TransitionEnd")},Ru={},Jd={};u&&(Jd=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function Ma(r){if(Ru[r])return Ru[r];if(!qs[r])return r;var a=qs[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in Jd)return Ru[r]=a[c];return r}var Gd=Ma("animationend"),Kd=Ma("animationiteration"),Zd=Ma("animationstart"),Qd=Ma("transitionend"),ef=new Map,tf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(r,a){ef.set(r,a),o(a,[r])}for(var Lu=0;Lu<tf.length;Lu++){var Nu=tf[Lu],L0=Nu.toLowerCase(),N0=Nu[0].toUpperCase()+Nu.slice(1);ki(L0,"on"+N0)}ki(Gd,"onAnimationEnd"),ki(Kd,"onAnimationIteration"),ki(Zd,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(Qd,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j0=new Set("cancel close invalid load scroll toggle".split(" ").concat(no));function nf(r,a,c){var f=r.type||"unknown-event";r.currentTarget=c,va(f,a,void 0,r),r.currentTarget=null}function sf(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var f=r[c],g=f.event;f=f.listeners;e:{var y=void 0;if(a)for(var x=f.length-1;0<=x;x--){var P=f[x],O=P.instance,F=P.currentTarget;if(P=P.listener,O!==y&&g.isPropagationStopped())break e;nf(g,P,F),y=O}else for(x=0;x<f.length;x++){if(P=f[x],O=P.instance,F=P.currentTarget,P=P.listener,O!==y&&g.isPropagationStopped())break e;nf(g,P,F),y=O}}}if(Ls)throw r=Ns,Ls=!1,Ns=null,r}function Be(r,a){var c=a[Hu];c===void 0&&(c=a[Hu]=new Set);var f=r+"__bubble";c.has(f)||(rf(a,r,2,!1),c.add(f))}function ju(r,a,c){var f=0;a&&(f|=4),rf(c,r,f,a)}var Oa="_reactListening"+Math.random().toString(36).slice(2);function io(r){if(!r[Oa]){r[Oa]=!0,i.forEach(function(c){c!=="selectionchange"&&(j0.has(c)||ju(c,!1,r),ju(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Oa]||(a[Oa]=!0,ju("selectionchange",!1,a))}}function rf(r,a,c,f){switch(Pd(a)){case 1:var g=Kv;break;case 4:g=Zv;break;default:g=xu}c=g.bind(null,a,c,r),g=void 0,!di||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?r.addEventListener(a,c,{capture:!0,passive:g}):r.addEventListener(a,c,!0):g!==void 0?r.addEventListener(a,c,{passive:g}):r.addEventListener(a,c,!1)}function zu(r,a,c,f,g){var y=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var P=f.stateNode.containerInfo;if(P===g||P.nodeType===8&&P.parentNode===g)break;if(x===4)for(x=f.return;x!==null;){var O=x.tag;if((O===3||O===4)&&(O=x.stateNode.containerInfo,O===g||O.nodeType===8&&O.parentNode===g))return;x=x.return}for(;P!==null;){if(x=is(P),x===null)return;if(O=x.tag,O===5||O===6){f=y=x;continue e}P=P.parentNode}}f=f.return}ma(function(){var F=y,Y=zr(c),X=[];e:{var V=ef.get(r);if(V!==void 0){var ie=ku,oe=r;switch(r){case"keypress":if(Sa(c)===0)break e;case"keydown":case"keyup":ie=f0;break;case"focusin":oe="focus",ie=Tu;break;case"focusout":oe="blur",ie=Tu;break;case"beforeblur":case"afterblur":ie=Tu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=t0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=m0;break;case Gd:case Kd:case Zd:ie=s0;break;case Qd:ie=v0;break;case"scroll":ie=Qv;break;case"wheel":ie=x0;break;case"copy":case"cut":case"paste":ie=o0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Id}var ae=(a&4)!==0,nt=!ae&&r==="scroll",D=ae?V!==null?V+"Capture":null:V;ae=[];for(var A=F,j;A!==null;){j=A;var G=j.stateNode;if(j.tag===5&&G!==null&&(j=G,D!==null&&(G=Zi(A,D),G!=null&&ae.push(so(A,G,j)))),nt)break;A=A.return}0<ae.length&&(V=new ie(V,oe,null,c,Y),X.push({event:V,listeners:ae}))}}if((a&7)===0){e:{if(V=r==="mouseover"||r==="pointerover",ie=r==="mouseout"||r==="pointerout",V&&c!==hi&&(oe=c.relatedTarget||c.fromElement)&&(is(oe)||oe[Yn]))break e;if((ie||V)&&(V=Y.window===Y?Y:(V=Y.ownerDocument)?V.defaultView||V.parentWindow:window,ie?(oe=c.relatedTarget||c.toElement,ie=F,oe=oe?is(oe):null,oe!==null&&(nt=Tn(oe),oe!==nt||oe.tag!==5&&oe.tag!==6)&&(oe=null)):(ie=null,oe=F),ie!==oe)){if(ae=Od,G="onMouseLeave",D="onMouseEnter",A="mouse",(r==="pointerout"||r==="pointerover")&&(ae=Id,G="onPointerLeave",D="onPointerEnter",A="pointer"),nt=ie==null?V:Gs(ie),j=oe==null?V:Gs(oe),V=new ae(G,A+"leave",ie,c,Y),V.target=nt,V.relatedTarget=j,G=null,is(Y)===F&&(ae=new ae(D,A+"enter",oe,c,Y),ae.target=j,ae.relatedTarget=nt,G=ae),nt=G,ie&&oe)t:{for(ae=ie,D=oe,A=0,j=ae;j;j=Xs(j))A++;for(j=0,G=D;G;G=Xs(G))j++;for(;0<A-j;)ae=Xs(ae),A--;for(;0<j-A;)D=Xs(D),j--;for(;A--;){if(ae===D||D!==null&&ae===D.alternate)break t;ae=Xs(ae),D=Xs(D)}ae=null}else ae=null;ie!==null&&of(X,V,ie,ae,!1),oe!==null&&nt!==null&&of(X,nt,oe,ae,!0)}}e:{if(V=F?Gs(F):window,ie=V.nodeName&&V.nodeName.toLowerCase(),ie==="select"||ie==="input"&&V.type==="file")var le=P0;else if(zd(V))if($d)le=A0;else{le=M0;var pe=C0}else(ie=V.nodeName)&&ie.toLowerCase()==="input"&&(V.type==="checkbox"||V.type==="radio")&&(le=O0);if(le&&(le=le(r,F))){Fd(X,le,c,Y);break e}pe&&pe(r,V,F),r==="focusout"&&(pe=V._wrapperState)&&pe.controlled&&V.type==="number"&&Is(V,"number",V.value)}switch(pe=F?Gs(F):window,r){case"focusin":(zd(pe)||pe.contentEditable==="true")&&(Ys=pe,Iu=F,to=null);break;case"focusout":to=Iu=Ys=null;break;case"mousedown":Du=!0;break;case"contextmenu":case"mouseup":case"dragend":Du=!1,Xd(X,c,Y);break;case"selectionchange":if(R0)break;case"keydown":case"keyup":Xd(X,c,Y)}var ge;if(Cu)e:{switch(r){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ws?Nd(r,c)&&(ve="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(ve="onCompositionStart");ve&&(Dd&&c.locale!=="ko"&&(Ws||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ws&&(ge=Cd()):(bi=Y,bu="value"in bi?bi.value:bi.textContent,Ws=!0)),pe=Aa(F,ve),0<pe.length&&(ve=new Ad(ve,r,null,c,Y),X.push({event:ve,listeners:pe}),ge?ve.data=ge:(ge=jd(c),ge!==null&&(ve.data=ge)))),(ge=b0?k0(r,c):S0(r,c))&&(F=Aa(F,"onBeforeInput"),0<F.length&&(Y=new Ad("onBeforeInput","beforeinput",null,c,Y),X.push({event:Y,listeners:F}),Y.data=ge))}sf(X,a)})}function so(r,a,c){return{instance:r,listener:a,currentTarget:c}}function Aa(r,a){for(var c=a+"Capture",f=[];r!==null;){var g=r,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=Zi(r,c),y!=null&&f.unshift(so(r,y,g)),y=Zi(r,a),y!=null&&f.push(so(r,y,g))),r=r.return}return f}function Xs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function of(r,a,c,f,g){for(var y=a._reactName,x=[];c!==null&&c!==f;){var P=c,O=P.alternate,F=P.stateNode;if(O!==null&&O===f)break;P.tag===5&&F!==null&&(P=F,g?(O=Zi(c,y),O!=null&&x.unshift(so(c,O,P))):g||(O=Zi(c,y),O!=null&&x.push(so(c,O,P)))),c=c.return}x.length!==0&&r.push({event:a,listeners:x})}var z0=/\r\n?/g,F0=/\u0000|\uFFFD/g;function af(r){return(typeof r=="string"?r:""+r).replace(z0,`
`).replace(F0,"")}function Ia(r,a,c){if(a=af(a),af(r)!==a&&c)throw Error(t(425))}function Da(){}var Fu=null,$u=null;function Bu(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Uu=typeof setTimeout=="function"?setTimeout:void 0,$0=typeof clearTimeout=="function"?clearTimeout:void 0,lf=typeof Promise=="function"?Promise:void 0,B0=typeof queueMicrotask=="function"?queueMicrotask:typeof lf<"u"?function(r){return lf.resolve(null).then(r).catch(U0)}:Uu;function U0(r){setTimeout(function(){throw r})}function Vu(r,a){var c=a,f=0;do{var g=c.nextSibling;if(r.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){r.removeChild(g),Xr(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);Xr(a)}function Si(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return r}function uf(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return r;a--}else c==="/$"&&a++}r=r.previousSibling}return null}var Js=Math.random().toString(36).slice(2),Mn="__reactFiber$"+Js,ro="__reactProps$"+Js,Yn="__reactContainer$"+Js,Hu="__reactEvents$"+Js,V0="__reactListeners$"+Js,H0="__reactHandles$"+Js;function is(r){var a=r[Mn];if(a)return a;for(var c=r.parentNode;c;){if(a=c[Yn]||c[Mn]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=uf(r);r!==null;){if(c=r[Mn])return c;r=uf(r)}return a}r=c,c=r.parentNode}return null}function oo(r){return r=r[Mn]||r[Yn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Gs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ra(r){return r[ro]||null}var Wu=[],Ks=-1;function Ei(r){return{current:r}}function Ue(r){0>Ks||(r.current=Wu[Ks],Wu[Ks]=null,Ks--)}function Fe(r,a){Ks++,Wu[Ks]=r.current,r.current=a}var Ti={},wt=Ei(Ti),It=Ei(!1),ss=Ti;function Zs(r,a){var c=r.type.contextTypes;if(!c)return Ti;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in c)g[y]=a[y];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=g),g}function Dt(r){return r=r.childContextTypes,r!=null}function La(){Ue(It),Ue(wt)}function cf(r,a,c){if(wt.current!==Ti)throw Error(t(168));Fe(wt,a),Fe(It,c)}function hf(r,a,c){var f=r.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(t(108,we(r)||"Unknown",g));return Q({},c,f)}function Na(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ti,ss=wt.current,Fe(wt,r),Fe(It,It.current),!0}function df(r,a,c){var f=r.stateNode;if(!f)throw Error(t(169));c?(r=hf(r,a,ss),f.__reactInternalMemoizedMergedChildContext=r,Ue(It),Ue(wt),Fe(wt,r)):Ue(It),Fe(It,c)}var qn=null,ja=!1,Yu=!1;function ff(r){qn===null?qn=[r]:qn.push(r)}function W0(r){ja=!0,ff(r)}function Pi(){if(!Yu&&qn!==null){Yu=!0;var r=0,a=S;try{var c=qn;for(S=1;r<c.length;r++){var f=c[r];do f=f(!0);while(f!==null)}qn=null,ja=!1}catch(g){throw qn!==null&&(qn=qn.slice(r+1)),es(Pn,Pi),g}finally{S=a,Yu=!1}}return null}var Qs=[],er=0,za=null,Fa=0,tn=[],nn=0,rs=null,Xn=1,Jn="";function os(r,a){Qs[er++]=Fa,Qs[er++]=za,za=r,Fa=a}function pf(r,a,c){tn[nn++]=Xn,tn[nn++]=Jn,tn[nn++]=rs,rs=r;var f=Xn;r=Jn;var g=32-xt(f)-1;f&=~(1<<g),c+=1;var y=32-xt(a)+g;if(30<y){var x=g-g%5;y=(f&(1<<x)-1).toString(32),f>>=x,g-=x,Xn=1<<32-xt(a)+g|c<<g|f,Jn=y+r}else Xn=1<<y|c<<g|f,Jn=r}function qu(r){r.return!==null&&(os(r,1),pf(r,1,0))}function Xu(r){for(;r===za;)za=Qs[--er],Qs[er]=null,Fa=Qs[--er],Qs[er]=null;for(;r===rs;)rs=tn[--nn],tn[nn]=null,Jn=tn[--nn],tn[nn]=null,Xn=tn[--nn],tn[nn]=null}var Xt=null,Jt=null,Xe=!1,pn=null;function gf(r,a){var c=an(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=r,a=r.deletions,a===null?(r.deletions=[c],r.flags|=16):a.push(c)}function mf(r,a){switch(r.tag){case 5:var c=r.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(r.stateNode=a,Xt=r,Jt=Si(a.firstChild),!0):!1;case 6:return a=r.pendingProps===""||a.nodeType!==3?null:a,a!==null?(r.stateNode=a,Xt=r,Jt=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=rs!==null?{id:Xn,overflow:Jn}:null,r.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=an(18,null,null,0),c.stateNode=a,c.return=r,r.child=c,Xt=r,Jt=null,!0):!1;default:return!1}}function Ju(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Gu(r){if(Xe){var a=Jt;if(a){var c=a;if(!mf(r,a)){if(Ju(r))throw Error(t(418));a=Si(c.nextSibling);var f=Xt;a&&mf(r,a)?gf(f,c):(r.flags=r.flags&-4097|2,Xe=!1,Xt=r)}}else{if(Ju(r))throw Error(t(418));r.flags=r.flags&-4097|2,Xe=!1,Xt=r}}}function yf(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Xt=r}function $a(r){if(r!==Xt)return!1;if(!Xe)return yf(r),Xe=!0,!1;var a;if((a=r.tag!==3)&&!(a=r.tag!==5)&&(a=r.type,a=a!=="head"&&a!=="body"&&!Bu(r.type,r.memoizedProps)),a&&(a=Jt)){if(Ju(r))throw vf(),Error(t(418));for(;a;)gf(r,a),a=Si(a.nextSibling)}if(yf(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(a===0){Jt=Si(r.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}r=r.nextSibling}Jt=null}}else Jt=Xt?Si(r.stateNode.nextSibling):null;return!0}function vf(){for(var r=Jt;r;)r=Si(r.nextSibling)}function tr(){Jt=Xt=null,Xe=!1}function Ku(r){pn===null?pn=[r]:pn.push(r)}var Y0=N.ReactCurrentBatchConfig;function ao(r,a,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,r));var g=f,y=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===y?a.ref:(a=function(x){var P=g.refs;x===null?delete P[y]:P[y]=x},a._stringRef=y,a)}if(typeof r!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,r))}return r}function Ba(r,a){throw r=Object.prototype.toString.call(a),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r))}function _f(r){var a=r._init;return a(r._payload)}function xf(r){function a(D,A){if(r){var j=D.deletions;j===null?(D.deletions=[A],D.flags|=16):j.push(A)}}function c(D,A){if(!r)return null;for(;A!==null;)a(D,A),A=A.sibling;return null}function f(D,A){for(D=new Map;A!==null;)A.key!==null?D.set(A.key,A):D.set(A.index,A),A=A.sibling;return D}function g(D,A){return D=Li(D,A),D.index=0,D.sibling=null,D}function y(D,A,j){return D.index=j,r?(j=D.alternate,j!==null?(j=j.index,j<A?(D.flags|=2,A):j):(D.flags|=2,A)):(D.flags|=1048576,A)}function x(D){return r&&D.alternate===null&&(D.flags|=2),D}function P(D,A,j,G){return A===null||A.tag!==6?(A=Uc(j,D.mode,G),A.return=D,A):(A=g(A,j),A.return=D,A)}function O(D,A,j,G){var le=j.type;return le===U?Y(D,A,j.props.children,G,j.key):A!==null&&(A.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===se&&_f(le)===A.type)?(G=g(A,j.props),G.ref=ao(D,A,j),G.return=D,G):(G=hl(j.type,j.key,j.props,null,D.mode,G),G.ref=ao(D,A,j),G.return=D,G)}function F(D,A,j,G){return A===null||A.tag!==4||A.stateNode.containerInfo!==j.containerInfo||A.stateNode.implementation!==j.implementation?(A=Vc(j,D.mode,G),A.return=D,A):(A=g(A,j.children||[]),A.return=D,A)}function Y(D,A,j,G,le){return A===null||A.tag!==7?(A=ps(j,D.mode,G,le),A.return=D,A):(A=g(A,j),A.return=D,A)}function X(D,A,j){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Uc(""+A,D.mode,j),A.return=D,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case L:return j=hl(A.type,A.key,A.props,null,D.mode,j),j.ref=ao(D,null,A),j.return=D,j;case B:return A=Vc(A,D.mode,j),A.return=D,A;case se:var G=A._init;return X(D,G(A._payload),j)}if(Sn(A)||K(A))return A=ps(A,D.mode,j,null),A.return=D,A;Ba(D,A)}return null}function V(D,A,j,G){var le=A!==null?A.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return le!==null?null:P(D,A,""+j,G);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case L:return j.key===le?O(D,A,j,G):null;case B:return j.key===le?F(D,A,j,G):null;case se:return le=j._init,V(D,A,le(j._payload),G)}if(Sn(j)||K(j))return le!==null?null:Y(D,A,j,G,null);Ba(D,j)}return null}function ie(D,A,j,G,le){if(typeof G=="string"&&G!==""||typeof G=="number")return D=D.get(j)||null,P(A,D,""+G,le);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case L:return D=D.get(G.key===null?j:G.key)||null,O(A,D,G,le);case B:return D=D.get(G.key===null?j:G.key)||null,F(A,D,G,le);case se:var pe=G._init;return ie(D,A,j,pe(G._payload),le)}if(Sn(G)||K(G))return D=D.get(j)||null,Y(A,D,G,le,null);Ba(A,G)}return null}function oe(D,A,j,G){for(var le=null,pe=null,ge=A,ve=A=0,ft=null;ge!==null&&ve<j.length;ve++){ge.index>ve?(ft=ge,ge=null):ft=ge.sibling;var Le=V(D,ge,j[ve],G);if(Le===null){ge===null&&(ge=ft);break}r&&ge&&Le.alternate===null&&a(D,ge),A=y(Le,A,ve),pe===null?le=Le:pe.sibling=Le,pe=Le,ge=ft}if(ve===j.length)return c(D,ge),Xe&&os(D,ve),le;if(ge===null){for(;ve<j.length;ve++)ge=X(D,j[ve],G),ge!==null&&(A=y(ge,A,ve),pe===null?le=ge:pe.sibling=ge,pe=ge);return Xe&&os(D,ve),le}for(ge=f(D,ge);ve<j.length;ve++)ft=ie(ge,D,ve,j[ve],G),ft!==null&&(r&&ft.alternate!==null&&ge.delete(ft.key===null?ve:ft.key),A=y(ft,A,ve),pe===null?le=ft:pe.sibling=ft,pe=ft);return r&&ge.forEach(function(Ni){return a(D,Ni)}),Xe&&os(D,ve),le}function ae(D,A,j,G){var le=K(j);if(typeof le!="function")throw Error(t(150));if(j=le.call(j),j==null)throw Error(t(151));for(var pe=le=null,ge=A,ve=A=0,ft=null,Le=j.next();ge!==null&&!Le.done;ve++,Le=j.next()){ge.index>ve?(ft=ge,ge=null):ft=ge.sibling;var Ni=V(D,ge,Le.value,G);if(Ni===null){ge===null&&(ge=ft);break}r&&ge&&Ni.alternate===null&&a(D,ge),A=y(Ni,A,ve),pe===null?le=Ni:pe.sibling=Ni,pe=Ni,ge=ft}if(Le.done)return c(D,ge),Xe&&os(D,ve),le;if(ge===null){for(;!Le.done;ve++,Le=j.next())Le=X(D,Le.value,G),Le!==null&&(A=y(Le,A,ve),pe===null?le=Le:pe.sibling=Le,pe=Le);return Xe&&os(D,ve),le}for(ge=f(D,ge);!Le.done;ve++,Le=j.next())Le=ie(ge,D,ve,Le.value,G),Le!==null&&(r&&Le.alternate!==null&&ge.delete(Le.key===null?ve:Le.key),A=y(Le,A,ve),pe===null?le=Le:pe.sibling=Le,pe=Le);return r&&ge.forEach(function(E_){return a(D,E_)}),Xe&&os(D,ve),le}function nt(D,A,j,G){if(typeof j=="object"&&j!==null&&j.type===U&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case L:e:{for(var le=j.key,pe=A;pe!==null;){if(pe.key===le){if(le=j.type,le===U){if(pe.tag===7){c(D,pe.sibling),A=g(pe,j.props.children),A.return=D,D=A;break e}}else if(pe.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===se&&_f(le)===pe.type){c(D,pe.sibling),A=g(pe,j.props),A.ref=ao(D,pe,j),A.return=D,D=A;break e}c(D,pe);break}else a(D,pe);pe=pe.sibling}j.type===U?(A=ps(j.props.children,D.mode,G,j.key),A.return=D,D=A):(G=hl(j.type,j.key,j.props,null,D.mode,G),G.ref=ao(D,A,j),G.return=D,D=G)}return x(D);case B:e:{for(pe=j.key;A!==null;){if(A.key===pe)if(A.tag===4&&A.stateNode.containerInfo===j.containerInfo&&A.stateNode.implementation===j.implementation){c(D,A.sibling),A=g(A,j.children||[]),A.return=D,D=A;break e}else{c(D,A);break}else a(D,A);A=A.sibling}A=Vc(j,D.mode,G),A.return=D,D=A}return x(D);case se:return pe=j._init,nt(D,A,pe(j._payload),G)}if(Sn(j))return oe(D,A,j,G);if(K(j))return ae(D,A,j,G);Ba(D,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,A!==null&&A.tag===6?(c(D,A.sibling),A=g(A,j),A.return=D,D=A):(c(D,A),A=Uc(j,D.mode,G),A.return=D,D=A),x(D)):c(D,A)}return nt}var nr=xf(!0),wf=xf(!1),Ua=Ei(null),Va=null,ir=null,Zu=null;function Qu(){Zu=ir=Va=null}function ec(r){var a=Ua.current;Ue(Ua),r._currentValue=a}function tc(r,a,c){for(;r!==null;){var f=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),r===c)break;r=r.return}}function sr(r,a){Va=r,Zu=ir=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&a)!==0&&(Rt=!0),r.firstContext=null)}function sn(r){var a=r._currentValue;if(Zu!==r)if(r={context:r,memoizedValue:a,next:null},ir===null){if(Va===null)throw Error(t(308));ir=r,Va.dependencies={lanes:0,firstContext:r}}else ir=ir.next=r;return a}var as=null;function nc(r){as===null?as=[r]:as.push(r)}function bf(r,a,c,f){var g=a.interleaved;return g===null?(c.next=c,nc(a)):(c.next=g.next,g.next=c),a.interleaved=c,Gn(r,f)}function Gn(r,a){r.lanes|=a;var c=r.alternate;for(c!==null&&(c.lanes|=a),c=r,r=r.return;r!==null;)r.childLanes|=a,c=r.alternate,c!==null&&(c.childLanes|=a),c=r,r=r.return;return c.tag===3?c.stateNode:null}var Ci=!1;function ic(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kf(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Kn(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function Mi(r,a,c){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(Re&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,Gn(r,c)}return g=f.interleaved,g===null?(a.next=a,nc(f)):(a.next=g.next,g.next=a),f.interleaved=a,Gn(r,c)}function Ha(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=r.pendingLanes,c|=f,a.lanes=c,w(r,c)}}function Sf(r,a){var c=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var x={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?g=y=x:y=y.next=x,c=c.next}while(c!==null);y===null?g=y=a:y=y.next=a}else g=y=a;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:f.shared,effects:f.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}function Wa(r,a,c,f){var g=r.updateQueue;Ci=!1;var y=g.firstBaseUpdate,x=g.lastBaseUpdate,P=g.shared.pending;if(P!==null){g.shared.pending=null;var O=P,F=O.next;O.next=null,x===null?y=F:x.next=F,x=O;var Y=r.alternate;Y!==null&&(Y=Y.updateQueue,P=Y.lastBaseUpdate,P!==x&&(P===null?Y.firstBaseUpdate=F:P.next=F,Y.lastBaseUpdate=O))}if(y!==null){var X=g.baseState;x=0,Y=F=O=null,P=y;do{var V=P.lane,ie=P.eventTime;if((f&V)===V){Y!==null&&(Y=Y.next={eventTime:ie,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var oe=r,ae=P;switch(V=a,ie=c,ae.tag){case 1:if(oe=ae.payload,typeof oe=="function"){X=oe.call(ie,X,V);break e}X=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ae.payload,V=typeof oe=="function"?oe.call(ie,X,V):oe,V==null)break e;X=Q({},X,V);break e;case 2:Ci=!0}}P.callback!==null&&P.lane!==0&&(r.flags|=64,V=g.effects,V===null?g.effects=[P]:V.push(P))}else ie={eventTime:ie,lane:V,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Y===null?(F=Y=ie,O=X):Y=Y.next=ie,x|=V;if(P=P.next,P===null){if(P=g.shared.pending,P===null)break;V=P,P=V.next,V.next=null,g.lastBaseUpdate=V,g.shared.pending=null}}while(!0);if(Y===null&&(O=X),g.baseState=O,g.firstBaseUpdate=F,g.lastBaseUpdate=Y,a=g.shared.interleaved,a!==null){g=a;do x|=g.lane,g=g.next;while(g!==a)}else y===null&&(g.shared.lanes=0);cs|=x,r.lanes=x,r.memoizedState=X}}function Ef(r,a,c){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var f=r[a],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var lo={},On=Ei(lo),uo=Ei(lo),co=Ei(lo);function ls(r){if(r===lo)throw Error(t(174));return r}function sc(r,a){switch(Fe(co,a),Fe(uo,r),Fe(On,lo),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ds(null,"");break;default:r=r===8?a.parentNode:a,a=r.namespaceURI||null,r=r.tagName,a=Ds(a,r)}Ue(On),Fe(On,a)}function rr(){Ue(On),Ue(uo),Ue(co)}function Tf(r){ls(co.current);var a=ls(On.current),c=Ds(a,r.type);a!==c&&(Fe(uo,r),Fe(On,c))}function rc(r){uo.current===r&&(Ue(On),Ue(uo))}var Je=Ei(0);function Ya(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var oc=[];function ac(){for(var r=0;r<oc.length;r++)oc[r]._workInProgressVersionPrimary=null;oc.length=0}var qa=N.ReactCurrentDispatcher,lc=N.ReactCurrentBatchConfig,us=0,Ge=null,ut=null,ht=null,Xa=!1,ho=!1,fo=0,q0=0;function bt(){throw Error(t(321))}function uc(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!fn(r[c],a[c]))return!1;return!0}function cc(r,a,c,f,g,y){if(us=y,Ge=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,qa.current=r===null||r.memoizedState===null?K0:Z0,r=c(f,g),ho){y=0;do{if(ho=!1,fo=0,25<=y)throw Error(t(301));y+=1,ht=ut=null,a.updateQueue=null,qa.current=Q0,r=c(f,g)}while(ho)}if(qa.current=Ka,a=ut!==null&&ut.next!==null,us=0,ht=ut=Ge=null,Xa=!1,a)throw Error(t(300));return r}function hc(){var r=fo!==0;return fo=0,r}function An(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ge.memoizedState=ht=r:ht=ht.next=r,ht}function rn(){if(ut===null){var r=Ge.alternate;r=r!==null?r.memoizedState:null}else r=ut.next;var a=ht===null?Ge.memoizedState:ht.next;if(a!==null)ht=a,ut=r;else{if(r===null)throw Error(t(310));ut=r,r={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},ht===null?Ge.memoizedState=ht=r:ht=ht.next=r}return ht}function po(r,a){return typeof a=="function"?a(r):a}function dc(r){var a=rn(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=r;var f=ut,g=f.baseQueue,y=c.pending;if(y!==null){if(g!==null){var x=g.next;g.next=y.next,y.next=x}f.baseQueue=g=y,c.pending=null}if(g!==null){y=g.next,f=f.baseState;var P=x=null,O=null,F=y;do{var Y=F.lane;if((us&Y)===Y)O!==null&&(O=O.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),f=F.hasEagerState?F.eagerState:r(f,F.action);else{var X={lane:Y,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};O===null?(P=O=X,x=f):O=O.next=X,Ge.lanes|=Y,cs|=Y}F=F.next}while(F!==null&&F!==y);O===null?x=f:O.next=P,fn(f,a.memoizedState)||(Rt=!0),a.memoizedState=f,a.baseState=x,a.baseQueue=O,c.lastRenderedState=f}if(r=c.interleaved,r!==null){g=r;do y=g.lane,Ge.lanes|=y,cs|=y,g=g.next;while(g!==r)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function fc(r){var a=rn(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=r;var f=c.dispatch,g=c.pending,y=a.memoizedState;if(g!==null){c.pending=null;var x=g=g.next;do y=r(y,x.action),x=x.next;while(x!==g);fn(y,a.memoizedState)||(Rt=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,f]}function Pf(){}function Cf(r,a){var c=Ge,f=rn(),g=a(),y=!fn(f.memoizedState,g);if(y&&(f.memoizedState=g,Rt=!0),f=f.queue,pc(Af.bind(null,c,f,r),[r]),f.getSnapshot!==a||y||ht!==null&&ht.memoizedState.tag&1){if(c.flags|=2048,go(9,Of.bind(null,c,f,g,a),void 0,null),dt===null)throw Error(t(349));(us&30)!==0||Mf(c,a,g)}return g}function Mf(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=Ge.updateQueue,a===null?(a={lastEffect:null,stores:null},Ge.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function Of(r,a,c,f){a.value=c,a.getSnapshot=f,If(a)&&Df(r)}function Af(r,a,c){return c(function(){If(a)&&Df(r)})}function If(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!fn(r,c)}catch{return!0}}function Df(r){var a=Gn(r,1);a!==null&&vn(a,r,1,-1)}function Rf(r){var a=An();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:r},a.queue=r,r=r.dispatch=G0.bind(null,Ge,r),[a.memoizedState,r]}function go(r,a,c,f){return r={tag:r,create:a,destroy:c,deps:f,next:null},a=Ge.updateQueue,a===null?(a={lastEffect:null,stores:null},Ge.updateQueue=a,a.lastEffect=r.next=r):(c=a.lastEffect,c===null?a.lastEffect=r.next=r:(f=c.next,c.next=r,r.next=f,a.lastEffect=r)),r}function Lf(){return rn().memoizedState}function Ja(r,a,c,f){var g=An();Ge.flags|=r,g.memoizedState=go(1|a,c,void 0,f===void 0?null:f)}function Ga(r,a,c,f){var g=rn();f=f===void 0?null:f;var y=void 0;if(ut!==null){var x=ut.memoizedState;if(y=x.destroy,f!==null&&uc(f,x.deps)){g.memoizedState=go(a,c,y,f);return}}Ge.flags|=r,g.memoizedState=go(1|a,c,y,f)}function Nf(r,a){return Ja(8390656,8,r,a)}function pc(r,a){return Ga(2048,8,r,a)}function jf(r,a){return Ga(4,2,r,a)}function zf(r,a){return Ga(4,4,r,a)}function Ff(r,a){if(typeof a=="function")return r=r(),a(r),function(){a(null)};if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function $f(r,a,c){return c=c!=null?c.concat([r]):null,Ga(4,4,Ff.bind(null,a,r),c)}function gc(){}function Bf(r,a){var c=rn();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&uc(a,f[1])?f[0]:(c.memoizedState=[r,a],r)}function Uf(r,a){var c=rn();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&uc(a,f[1])?f[0]:(r=r(),c.memoizedState=[r,a],r)}function Vf(r,a,c){return(us&21)===0?(r.baseState&&(r.baseState=!1,Rt=!0),r.memoizedState=c):(fn(c,a)||(c=Bs(),Ge.lanes|=c,cs|=c,r.baseState=!0),a)}function X0(r,a){var c=S;S=c!==0&&4>c?c:4,r(!0);var f=lc.transition;lc.transition={};try{r(!1),a()}finally{S=c,lc.transition=f}}function Hf(){return rn().memoizedState}function J0(r,a,c){var f=Di(r);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},Wf(r))Yf(a,c);else if(c=bf(r,a,c,f),c!==null){var g=Ct();vn(c,r,f,g),qf(c,a,f)}}function G0(r,a,c){var f=Di(r),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(Wf(r))Yf(a,g);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var x=a.lastRenderedState,P=y(x,c);if(g.hasEagerState=!0,g.eagerState=P,fn(P,x)){var O=a.interleaved;O===null?(g.next=g,nc(a)):(g.next=O.next,O.next=g),a.interleaved=g;return}}catch{}finally{}c=bf(r,a,g,f),c!==null&&(g=Ct(),vn(c,r,f,g),qf(c,a,f))}}function Wf(r){var a=r.alternate;return r===Ge||a!==null&&a===Ge}function Yf(r,a){ho=Xa=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function qf(r,a,c){if((c&4194240)!==0){var f=a.lanes;f&=r.pendingLanes,c|=f,a.lanes=c,w(r,c)}}var Ka={readContext:sn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},K0={readContext:sn,useCallback:function(r,a){return An().memoizedState=[r,a===void 0?null:a],r},useContext:sn,useEffect:Nf,useImperativeHandle:function(r,a,c){return c=c!=null?c.concat([r]):null,Ja(4194308,4,Ff.bind(null,a,r),c)},useLayoutEffect:function(r,a){return Ja(4194308,4,r,a)},useInsertionEffect:function(r,a){return Ja(4,2,r,a)},useMemo:function(r,a){var c=An();return a=a===void 0?null:a,r=r(),c.memoizedState=[r,a],r},useReducer:function(r,a,c){var f=An();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:a},f.queue=r,r=r.dispatch=J0.bind(null,Ge,r),[f.memoizedState,r]},useRef:function(r){var a=An();return r={current:r},a.memoizedState=r},useState:Rf,useDebugValue:gc,useDeferredValue:function(r){return An().memoizedState=r},useTransition:function(){var r=Rf(!1),a=r[0];return r=X0.bind(null,r[1]),An().memoizedState=r,[a,r]},useMutableSource:function(){},useSyncExternalStore:function(r,a,c){var f=Ge,g=An();if(Xe){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),dt===null)throw Error(t(349));(us&30)!==0||Mf(f,a,c)}g.memoizedState=c;var y={value:c,getSnapshot:a};return g.queue=y,Nf(Af.bind(null,f,y,r),[r]),f.flags|=2048,go(9,Of.bind(null,f,y,c,a),void 0,null),c},useId:function(){var r=An(),a=dt.identifierPrefix;if(Xe){var c=Jn,f=Xn;c=(f&~(1<<32-xt(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=fo++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=q0++,a=":"+a+"r"+c.toString(32)+":";return r.memoizedState=a},unstable_isNewReconciler:!1},Z0={readContext:sn,useCallback:Bf,useContext:sn,useEffect:pc,useImperativeHandle:$f,useInsertionEffect:jf,useLayoutEffect:zf,useMemo:Uf,useReducer:dc,useRef:Lf,useState:function(){return dc(po)},useDebugValue:gc,useDeferredValue:function(r){var a=rn();return Vf(a,ut.memoizedState,r)},useTransition:function(){var r=dc(po)[0],a=rn().memoizedState;return[r,a]},useMutableSource:Pf,useSyncExternalStore:Cf,useId:Hf,unstable_isNewReconciler:!1},Q0={readContext:sn,useCallback:Bf,useContext:sn,useEffect:pc,useImperativeHandle:$f,useInsertionEffect:jf,useLayoutEffect:zf,useMemo:Uf,useReducer:fc,useRef:Lf,useState:function(){return fc(po)},useDebugValue:gc,useDeferredValue:function(r){var a=rn();return ut===null?a.memoizedState=r:Vf(a,ut.memoizedState,r)},useTransition:function(){var r=fc(po)[0],a=rn().memoizedState;return[r,a]},useMutableSource:Pf,useSyncExternalStore:Cf,useId:Hf,unstable_isNewReconciler:!1};function gn(r,a){if(r&&r.defaultProps){a=Q({},a),r=r.defaultProps;for(var c in r)a[c]===void 0&&(a[c]=r[c]);return a}return a}function mc(r,a,c,f){a=r.memoizedState,c=c(f,a),c=c==null?a:Q({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Za={isMounted:function(r){return(r=r._reactInternals)?Tn(r)===r:!1},enqueueSetState:function(r,a,c){r=r._reactInternals;var f=Ct(),g=Di(r),y=Kn(f,g);y.payload=a,c!=null&&(y.callback=c),a=Mi(r,y,g),a!==null&&(vn(a,r,g,f),Ha(a,r,g))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var f=Ct(),g=Di(r),y=Kn(f,g);y.tag=1,y.payload=a,c!=null&&(y.callback=c),a=Mi(r,y,g),a!==null&&(vn(a,r,g,f),Ha(a,r,g))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=Ct(),f=Di(r),g=Kn(c,f);g.tag=2,a!=null&&(g.callback=a),a=Mi(r,g,f),a!==null&&(vn(a,r,f,c),Ha(a,r,f))}};function Xf(r,a,c,f,g,y,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,y,x):a.prototype&&a.prototype.isPureReactComponent?!eo(c,f)||!eo(g,y):!0}function Jf(r,a,c){var f=!1,g=Ti,y=a.contextType;return typeof y=="object"&&y!==null?y=sn(y):(g=Dt(a)?ss:wt.current,f=a.contextTypes,y=(f=f!=null)?Zs(r,g):Ti),a=new a(c,y),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Za,r.stateNode=a,a._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=y),a}function Gf(r,a,c,f){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==r&&Za.enqueueReplaceState(a,a.state,null)}function yc(r,a,c,f){var g=r.stateNode;g.props=c,g.state=r.memoizedState,g.refs={},ic(r);var y=a.contextType;typeof y=="object"&&y!==null?g.context=sn(y):(y=Dt(a)?ss:wt.current,g.context=Zs(r,y)),g.state=r.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(mc(r,a,y,c),g.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Za.enqueueReplaceState(g,g.state,null),Wa(r,c,g,f),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308)}function or(r,a){try{var c="",f=a;do c+=ke(f),f=f.return;while(f);var g=c}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:a,stack:g,digest:null}}function vc(r,a,c){return{value:r,source:null,stack:c??null,digest:a??null}}function _c(r,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var e_=typeof WeakMap=="function"?WeakMap:Map;function Kf(r,a,c){c=Kn(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){rl||(rl=!0,Rc=f),_c(r,a)},c}function Zf(r,a,c){c=Kn(-1,c),c.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;c.payload=function(){return f(g)},c.callback=function(){_c(r,a)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){_c(r,a),typeof f!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})}),c}function Qf(r,a,c){var f=r.pingCache;if(f===null){f=r.pingCache=new e_;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(c)||(g.add(c),r=p_.bind(null,r,a,c),a.then(r,r))}function ep(r){do{var a;if((a=r.tag===13)&&(a=r.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return r;r=r.return}while(r!==null);return null}function tp(r,a,c,f,g){return(r.mode&1)===0?(r===a?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Kn(-1,1),a.tag=2,Mi(c,a,1))),c.lanes|=1),r):(r.flags|=65536,r.lanes=g,r)}var t_=N.ReactCurrentOwner,Rt=!1;function Pt(r,a,c,f){a.child=r===null?wf(a,null,c,f):nr(a,r.child,c,f)}function np(r,a,c,f,g){c=c.render;var y=a.ref;return sr(a,g),f=cc(r,a,c,f,y,g),c=hc(),r!==null&&!Rt?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~g,Zn(r,a,g)):(Xe&&c&&qu(a),a.flags|=1,Pt(r,a,f,g),a.child)}function ip(r,a,c,f,g){if(r===null){var y=c.type;return typeof y=="function"&&!Bc(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=y,sp(r,a,y,f,g)):(r=hl(c.type,null,f,a,a.mode,g),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,(r.lanes&g)===0){var x=y.memoizedProps;if(c=c.compare,c=c!==null?c:eo,c(x,f)&&r.ref===a.ref)return Zn(r,a,g)}return a.flags|=1,r=Li(y,f),r.ref=a.ref,r.return=a,a.child=r}function sp(r,a,c,f,g){if(r!==null){var y=r.memoizedProps;if(eo(y,f)&&r.ref===a.ref)if(Rt=!1,a.pendingProps=f=y,(r.lanes&g)!==0)(r.flags&131072)!==0&&(Rt=!0);else return a.lanes=r.lanes,Zn(r,a,g)}return xc(r,a,c,f,g)}function rp(r,a,c){var f=a.pendingProps,g=f.children,y=r!==null?r.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(lr,Gt),Gt|=c;else{if((c&1073741824)===0)return r=y!==null?y.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r,cachePool:null,transitions:null},a.updateQueue=null,Fe(lr,Gt),Gt|=r,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:c,Fe(lr,Gt),Gt|=f}else y!==null?(f=y.baseLanes|c,a.memoizedState=null):f=c,Fe(lr,Gt),Gt|=f;return Pt(r,a,g,c),a.child}function op(r,a){var c=a.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function xc(r,a,c,f,g){var y=Dt(c)?ss:wt.current;return y=Zs(a,y),sr(a,g),c=cc(r,a,c,f,y,g),f=hc(),r!==null&&!Rt?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~g,Zn(r,a,g)):(Xe&&f&&qu(a),a.flags|=1,Pt(r,a,c,g),a.child)}function ap(r,a,c,f,g){if(Dt(c)){var y=!0;Na(a)}else y=!1;if(sr(a,g),a.stateNode===null)el(r,a),Jf(a,c,f),yc(a,c,f,g),f=!0;else if(r===null){var x=a.stateNode,P=a.memoizedProps;x.props=P;var O=x.context,F=c.contextType;typeof F=="object"&&F!==null?F=sn(F):(F=Dt(c)?ss:wt.current,F=Zs(a,F));var Y=c.getDerivedStateFromProps,X=typeof Y=="function"||typeof x.getSnapshotBeforeUpdate=="function";X||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(P!==f||O!==F)&&Gf(a,x,f,F),Ci=!1;var V=a.memoizedState;x.state=V,Wa(a,f,x,g),O=a.memoizedState,P!==f||V!==O||It.current||Ci?(typeof Y=="function"&&(mc(a,c,Y,f),O=a.memoizedState),(P=Ci||Xf(a,c,P,f,V,O,F))?(X||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=O),x.props=f,x.state=O,x.context=F,f=P):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{x=a.stateNode,kf(r,a),P=a.memoizedProps,F=a.type===a.elementType?P:gn(a.type,P),x.props=F,X=a.pendingProps,V=x.context,O=c.contextType,typeof O=="object"&&O!==null?O=sn(O):(O=Dt(c)?ss:wt.current,O=Zs(a,O));var ie=c.getDerivedStateFromProps;(Y=typeof ie=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(P!==X||V!==O)&&Gf(a,x,f,O),Ci=!1,V=a.memoizedState,x.state=V,Wa(a,f,x,g);var oe=a.memoizedState;P!==X||V!==oe||It.current||Ci?(typeof ie=="function"&&(mc(a,c,ie,f),oe=a.memoizedState),(F=Ci||Xf(a,c,F,f,V,oe,O)||!1)?(Y||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,oe,O),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,oe,O)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||P===r.memoizedProps&&V===r.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&V===r.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=oe),x.props=f,x.state=oe,x.context=O,f=F):(typeof x.componentDidUpdate!="function"||P===r.memoizedProps&&V===r.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&V===r.memoizedState||(a.flags|=1024),f=!1)}return wc(r,a,c,f,y,g)}function wc(r,a,c,f,g,y){op(r,a);var x=(a.flags&128)!==0;if(!f&&!x)return g&&df(a,c,!1),Zn(r,a,y);f=a.stateNode,t_.current=a;var P=x&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,r!==null&&x?(a.child=nr(a,r.child,null,y),a.child=nr(a,null,P,y)):Pt(r,a,P,y),a.memoizedState=f.state,g&&df(a,c,!0),a.child}function lp(r){var a=r.stateNode;a.pendingContext?cf(r,a.pendingContext,a.pendingContext!==a.context):a.context&&cf(r,a.context,!1),sc(r,a.containerInfo)}function up(r,a,c,f,g){return tr(),Ku(g),a.flags|=256,Pt(r,a,c,f),a.child}var bc={dehydrated:null,treeContext:null,retryLane:0};function kc(r){return{baseLanes:r,cachePool:null,transitions:null}}function cp(r,a,c){var f=a.pendingProps,g=Je.current,y=!1,x=(a.flags&128)!==0,P;if((P=x)||(P=r!==null&&r.memoizedState===null?!1:(g&2)!==0),P?(y=!0,a.flags&=-129):(r===null||r.memoizedState!==null)&&(g|=1),Fe(Je,g&1),r===null)return Gu(a),r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((a.mode&1)===0?a.lanes=1:r.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(x=f.children,r=f.fallback,y?(f=a.mode,y=a.child,x={mode:"hidden",children:x},(f&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=x):y=dl(x,f,0,null),r=ps(r,f,c,null),y.return=a,r.return=a,y.sibling=r,a.child=y,a.child.memoizedState=kc(c),a.memoizedState=bc,r):Sc(a,x));if(g=r.memoizedState,g!==null&&(P=g.dehydrated,P!==null))return n_(r,a,x,f,P,g,c);if(y){y=f.fallback,x=a.mode,g=r.child,P=g.sibling;var O={mode:"hidden",children:f.children};return(x&1)===0&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=O,a.deletions=null):(f=Li(g,O),f.subtreeFlags=g.subtreeFlags&14680064),P!==null?y=Li(P,y):(y=ps(y,x,c,null),y.flags|=2),y.return=a,f.return=a,f.sibling=y,a.child=f,f=y,y=a.child,x=r.child.memoizedState,x=x===null?kc(c):{baseLanes:x.baseLanes|c,cachePool:null,transitions:x.transitions},y.memoizedState=x,y.childLanes=r.childLanes&~c,a.memoizedState=bc,f}return y=r.child,r=y.sibling,f=Li(y,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=c),f.return=a,f.sibling=null,r!==null&&(c=a.deletions,c===null?(a.deletions=[r],a.flags|=16):c.push(r)),a.child=f,a.memoizedState=null,f}function Sc(r,a){return a=dl({mode:"visible",children:a},r.mode,0,null),a.return=r,r.child=a}function Qa(r,a,c,f){return f!==null&&Ku(f),nr(a,r.child,null,c),r=Sc(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function n_(r,a,c,f,g,y,x){if(c)return a.flags&256?(a.flags&=-257,f=vc(Error(t(422))),Qa(r,a,x,f)):a.memoizedState!==null?(a.child=r.child,a.flags|=128,null):(y=f.fallback,g=a.mode,f=dl({mode:"visible",children:f.children},g,0,null),y=ps(y,g,x,null),y.flags|=2,f.return=a,y.return=a,f.sibling=y,a.child=f,(a.mode&1)!==0&&nr(a,r.child,null,x),a.child.memoizedState=kc(x),a.memoizedState=bc,y);if((a.mode&1)===0)return Qa(r,a,x,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var P=f.dgst;return f=P,y=Error(t(419)),f=vc(y,f,void 0),Qa(r,a,x,f)}if(P=(x&r.childLanes)!==0,Rt||P){if(f=dt,f!==null){switch(x&-x){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|x))!==0?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,Gn(r,g),vn(f,r,g,-1))}return $c(),f=vc(Error(t(421))),Qa(r,a,x,f)}return g.data==="$?"?(a.flags|=128,a.child=r.child,a=g_.bind(null,r),g._reactRetry=a,null):(r=y.treeContext,Jt=Si(g.nextSibling),Xt=a,Xe=!0,pn=null,r!==null&&(tn[nn++]=Xn,tn[nn++]=Jn,tn[nn++]=rs,Xn=r.id,Jn=r.overflow,rs=a),a=Sc(a,f.children),a.flags|=4096,a)}function hp(r,a,c){r.lanes|=a;var f=r.alternate;f!==null&&(f.lanes|=a),tc(r.return,a,c)}function Ec(r,a,c,f,g){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=c,y.tailMode=g)}function dp(r,a,c){var f=a.pendingProps,g=f.revealOrder,y=f.tail;if(Pt(r,a,f.children,c),f=Je.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&hp(r,c,a);else if(r.tag===19)hp(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(Fe(Je,f),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)r=c.alternate,r!==null&&Ya(r)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Ec(a,!1,g,c,y);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(r=g.alternate,r!==null&&Ya(r)===null){a.child=g;break}r=g.sibling,g.sibling=c,c=g,g=r}Ec(a,!0,c,null,y);break;case"together":Ec(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function el(r,a){(a.mode&1)===0&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2)}function Zn(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),cs|=a.lanes,(c&a.childLanes)===0)return null;if(r!==null&&a.child!==r.child)throw Error(t(153));if(a.child!==null){for(r=a.child,c=Li(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=Li(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function i_(r,a,c){switch(a.tag){case 3:lp(a),tr();break;case 5:Tf(a);break;case 1:Dt(a.type)&&Na(a);break;case 4:sc(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;Fe(Ua,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(Fe(Je,Je.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?cp(r,a,c):(Fe(Je,Je.current&1),r=Zn(r,a,c),r!==null?r.sibling:null);Fe(Je,Je.current&1);break;case 19:if(f=(c&a.childLanes)!==0,(r.flags&128)!==0){if(f)return dp(r,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Fe(Je,Je.current),f)break;return null;case 22:case 23:return a.lanes=0,rp(r,a,c)}return Zn(r,a,c)}var fp,Tc,pp,gp;fp=function(r,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Tc=function(){},pp=function(r,a,c,f){var g=r.memoizedProps;if(g!==f){r=a.stateNode,ls(On.current);var y=null;switch(c){case"input":g=$n(r,g),f=$n(r,f),y=[];break;case"select":g=Q({},g,{value:void 0}),f=Q({},f,{value:void 0}),y=[];break;case"textarea":g=Dr(r,g),f=Dr(r,f),y=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=Da)}Nr(c,f);var x;c=null;for(F in g)if(!f.hasOwnProperty(F)&&g.hasOwnProperty(F)&&g[F]!=null)if(F==="style"){var P=g[F];for(x in P)P.hasOwnProperty(x)&&(c||(c={}),c[x]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(s.hasOwnProperty(F)?y||(y=[]):(y=y||[]).push(F,null));for(F in f){var O=f[F];if(P=g!=null?g[F]:void 0,f.hasOwnProperty(F)&&O!==P&&(O!=null||P!=null))if(F==="style")if(P){for(x in P)!P.hasOwnProperty(x)||O&&O.hasOwnProperty(x)||(c||(c={}),c[x]="");for(x in O)O.hasOwnProperty(x)&&P[x]!==O[x]&&(c||(c={}),c[x]=O[x])}else c||(y||(y=[]),y.push(F,c)),c=O;else F==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,P=P?P.__html:void 0,O!=null&&P!==O&&(y=y||[]).push(F,O)):F==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(F,""+O):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(s.hasOwnProperty(F)?(O!=null&&F==="onScroll"&&Be("scroll",r),y||P===O||(y=[])):(y=y||[]).push(F,O))}c&&(y=y||[]).push("style",c);var F=y;(a.updateQueue=F)&&(a.flags|=4)}},gp=function(r,a,c,f){c!==f&&(a.flags|=4)};function mo(r,a){if(!Xe)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function kt(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,f=0;if(a)for(var g=r.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=f,r.childLanes=c,a}function s_(r,a,c){var f=a.pendingProps;switch(Xu(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(a),null;case 1:return Dt(a.type)&&La(),kt(a),null;case 3:return f=a.stateNode,rr(),Ue(It),Ue(wt),ac(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&($a(a)?a.flags|=4:r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,pn!==null&&(jc(pn),pn=null))),Tc(r,a),kt(a),null;case 5:rc(a);var g=ls(co.current);if(c=a.type,r!==null&&a.stateNode!=null)pp(r,a,c,f,g),r.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return kt(a),null}if(r=ls(On.current),$a(a)){f=a.stateNode,c=a.type;var y=a.memoizedProps;switch(f[Mn]=a,f[ro]=y,r=(a.mode&1)!==0,c){case"dialog":Be("cancel",f),Be("close",f);break;case"iframe":case"object":case"embed":Be("load",f);break;case"video":case"audio":for(g=0;g<no.length;g++)Be(no[g],f);break;case"source":Be("error",f);break;case"img":case"image":case"link":Be("error",f),Be("load",f);break;case"details":Be("toggle",f);break;case"input":ui(f,y),Be("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},Be("invalid",f);break;case"textarea":aa(f,y),Be("invalid",f)}Nr(c,y),g=null;for(var x in y)if(y.hasOwnProperty(x)){var P=y[x];x==="children"?typeof P=="string"?f.textContent!==P&&(y.suppressHydrationWarning!==!0&&Ia(f.textContent,P,r),g=["children",P]):typeof P=="number"&&f.textContent!==""+P&&(y.suppressHydrationWarning!==!0&&Ia(f.textContent,P,r),g=["children",""+P]):s.hasOwnProperty(x)&&P!=null&&x==="onScroll"&&Be("scroll",f)}switch(c){case"input":cn(f),Ir(f,y,!0);break;case"textarea":cn(f),ua(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=Da)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{x=g.nodeType===9?g:g.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ca(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=x.createElement(c,{is:f.is}):(r=x.createElement(c),c==="select"&&(x=r,f.multiple?x.multiple=!0:f.size&&(x.size=f.size))):r=x.createElementNS(r,c),r[Mn]=a,r[ro]=f,fp(r,a,!1,!1),a.stateNode=r;e:{switch(x=jr(c,f),c){case"dialog":Be("cancel",r),Be("close",r),g=f;break;case"iframe":case"object":case"embed":Be("load",r),g=f;break;case"video":case"audio":for(g=0;g<no.length;g++)Be(no[g],r);g=f;break;case"source":Be("error",r),g=f;break;case"img":case"image":case"link":Be("error",r),Be("load",r),g=f;break;case"details":Be("toggle",r),g=f;break;case"input":ui(r,f),g=$n(r,f),Be("invalid",r);break;case"option":g=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},g=Q({},f,{value:void 0}),Be("invalid",r);break;case"textarea":aa(r,f),g=Dr(r,f),Be("invalid",r);break;default:g=f}Nr(c,g),P=g;for(y in P)if(P.hasOwnProperty(y)){var O=P[y];y==="style"?da(r,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Rr(r,O)):y==="children"?typeof O=="string"?(c!=="textarea"||O!=="")&&ci(r,O):typeof O=="number"&&ci(r,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?O!=null&&y==="onScroll"&&Be("scroll",r):O!=null&&R(r,y,O,x))}switch(c){case"input":cn(r),Ir(r,f,!1);break;case"textarea":cn(r),ua(r);break;case"option":f.value!=null&&r.setAttribute("value",""+Se(f.value));break;case"select":r.multiple=!!f.multiple,y=f.value,y!=null?at(r,!!f.multiple,y,!1):f.defaultValue!=null&&at(r,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=Da)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return kt(a),null;case 6:if(r&&a.stateNode!=null)gp(r,a,r.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(c=ls(co.current),ls(On.current),$a(a)){if(f=a.stateNode,c=a.memoizedProps,f[Mn]=a,(y=f.nodeValue!==c)&&(r=Xt,r!==null))switch(r.tag){case 3:Ia(f.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ia(f.nodeValue,c,(r.mode&1)!==0)}y&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Mn]=a,a.stateNode=f}return kt(a),null;case 13:if(Ue(Je),f=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Xe&&Jt!==null&&(a.mode&1)!==0&&(a.flags&128)===0)vf(),tr(),a.flags|=98560,y=!1;else if(y=$a(a),f!==null&&f.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Mn]=a}else tr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;kt(a),y=!1}else pn!==null&&(jc(pn),pn=null),y=!0;if(!y)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(r===null||(Je.current&1)!==0?ct===0&&(ct=3):$c())),a.updateQueue!==null&&(a.flags|=4),kt(a),null);case 4:return rr(),Tc(r,a),r===null&&io(a.stateNode.containerInfo),kt(a),null;case 10:return ec(a.type._context),kt(a),null;case 17:return Dt(a.type)&&La(),kt(a),null;case 19:if(Ue(Je),y=a.memoizedState,y===null)return kt(a),null;if(f=(a.flags&128)!==0,x=y.rendering,x===null)if(f)mo(y,!1);else{if(ct!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(x=Ya(r),x!==null){for(a.flags|=128,mo(y,!1),f=x.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)y=c,r=f,y.flags&=14680066,x=y.alternate,x===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=x.childLanes,y.lanes=x.lanes,y.child=x.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=x.memoizedProps,y.memoizedState=x.memoizedState,y.updateQueue=x.updateQueue,y.type=x.type,r=x.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return Fe(Je,Je.current&1|2),a.child}r=r.sibling}y.tail!==null&&ze()>ur&&(a.flags|=128,f=!0,mo(y,!1),a.lanes=4194304)}else{if(!f)if(r=Ya(x),r!==null){if(a.flags|=128,f=!0,c=r.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),mo(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!Xe)return kt(a),null}else 2*ze()-y.renderingStartTime>ur&&c!==1073741824&&(a.flags|=128,f=!0,mo(y,!1),a.lanes=4194304);y.isBackwards?(x.sibling=a.child,a.child=x):(c=y.last,c!==null?c.sibling=x:a.child=x,y.last=x)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=ze(),a.sibling=null,c=Je.current,Fe(Je,f?c&1|2:c&1),a):(kt(a),null);case 22:case 23:return Fc(),f=a.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(Gt&1073741824)!==0&&(kt(a),a.subtreeFlags&6&&(a.flags|=8192)):kt(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function r_(r,a){switch(Xu(a),a.tag){case 1:return Dt(a.type)&&La(),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return rr(),Ue(It),Ue(wt),ac(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 5:return rc(a),null;case 13:if(Ue(Je),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(t(340));tr()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return Ue(Je),null;case 4:return rr(),null;case 10:return ec(a.type._context),null;case 22:case 23:return Fc(),null;case 24:return null;default:return null}}var tl=!1,St=!1,o_=typeof WeakSet=="function"?WeakSet:Set,re=null;function ar(r,a){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){Ze(r,a,f)}else c.current=null}function Pc(r,a,c){try{c()}catch(f){Ze(r,a,f)}}var mp=!1;function a_(r,a){if(Fu=wa,r=qd(),Au(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var x=0,P=-1,O=-1,F=0,Y=0,X=r,V=null;t:for(;;){for(var ie;X!==c||g!==0&&X.nodeType!==3||(P=x+g),X!==y||f!==0&&X.nodeType!==3||(O=x+f),X.nodeType===3&&(x+=X.nodeValue.length),(ie=X.firstChild)!==null;)V=X,X=ie;for(;;){if(X===r)break t;if(V===c&&++F===g&&(P=x),V===y&&++Y===f&&(O=x),(ie=X.nextSibling)!==null)break;X=V,V=X.parentNode}X=ie}c=P===-1||O===-1?null:{start:P,end:O}}else c=null}c=c||{start:0,end:0}}else c=null;for($u={focusedElem:r,selectionRange:c},wa=!1,re=a;re!==null;)if(a=re,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,re=r;else for(;re!==null;){a=re;try{var oe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(oe!==null){var ae=oe.memoizedProps,nt=oe.memoizedState,D=a.stateNode,A=D.getSnapshotBeforeUpdate(a.elementType===a.type?ae:gn(a.type,ae),nt);D.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var j=a.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(G){Ze(a,a.return,G)}if(r=a.sibling,r!==null){r.return=a.return,re=r;break}re=a.return}return oe=mp,mp=!1,oe}function yo(r,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&r)===r){var y=g.destroy;g.destroy=void 0,y!==void 0&&Pc(a,c,y)}g=g.next}while(g!==f)}}function nl(r,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&r)===r){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function Cc(r){var a=r.ref;if(a!==null){var c=r.stateNode;switch(r.tag){case 5:r=c;break;default:r=c}typeof a=="function"?a(r):a.current=r}}function yp(r){var a=r.alternate;a!==null&&(r.alternate=null,yp(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&(delete a[Mn],delete a[ro],delete a[Hu],delete a[V0],delete a[H0])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function vp(r){return r.tag===5||r.tag===3||r.tag===4}function _p(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||vp(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Mc(r,a,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(r,a):c.insertBefore(r,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(r,c)):(a=c,a.appendChild(r)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Da));else if(f!==4&&(r=r.child,r!==null))for(Mc(r,a,c),r=r.sibling;r!==null;)Mc(r,a,c),r=r.sibling}function Oc(r,a,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(Oc(r,a,c),r=r.sibling;r!==null;)Oc(r,a,c),r=r.sibling}var yt=null,mn=!1;function Oi(r,a,c){for(c=c.child;c!==null;)xp(r,a,c),c=c.sibling}function xp(r,a,c){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(At,c)}catch{}switch(c.tag){case 5:St||ar(c,a);case 6:var f=yt,g=mn;yt=null,Oi(r,a,c),yt=f,mn=g,yt!==null&&(mn?(r=yt,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):yt.removeChild(c.stateNode));break;case 18:yt!==null&&(mn?(r=yt,c=c.stateNode,r.nodeType===8?Vu(r.parentNode,c):r.nodeType===1&&Vu(r,c),Xr(r)):Vu(yt,c.stateNode));break;case 4:f=yt,g=mn,yt=c.stateNode.containerInfo,mn=!0,Oi(r,a,c),yt=f,mn=g;break;case 0:case 11:case 14:case 15:if(!St&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var y=g,x=y.destroy;y=y.tag,x!==void 0&&((y&2)!==0||(y&4)!==0)&&Pc(c,a,x),g=g.next}while(g!==f)}Oi(r,a,c);break;case 1:if(!St&&(ar(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(P){Ze(c,a,P)}Oi(r,a,c);break;case 21:Oi(r,a,c);break;case 22:c.mode&1?(St=(f=St)||c.memoizedState!==null,Oi(r,a,c),St=f):Oi(r,a,c);break;default:Oi(r,a,c)}}function wp(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new o_),a.forEach(function(f){var g=m_.bind(null,r,f);c.has(f)||(c.add(f),f.then(g,g))})}}function yn(r,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var y=r,x=a,P=x;e:for(;P!==null;){switch(P.tag){case 5:yt=P.stateNode,mn=!1;break e;case 3:yt=P.stateNode.containerInfo,mn=!0;break e;case 4:yt=P.stateNode.containerInfo,mn=!0;break e}P=P.return}if(yt===null)throw Error(t(160));xp(y,x,g),yt=null,mn=!1;var O=g.alternate;O!==null&&(O.return=null),g.return=null}catch(F){Ze(g,a,F)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)bp(a,r),a=a.sibling}function bp(r,a){var c=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(yn(a,r),In(r),f&4){try{yo(3,r,r.return),nl(3,r)}catch(ae){Ze(r,r.return,ae)}try{yo(5,r,r.return)}catch(ae){Ze(r,r.return,ae)}}break;case 1:yn(a,r),In(r),f&512&&c!==null&&ar(c,c.return);break;case 5:if(yn(a,r),In(r),f&512&&c!==null&&ar(c,c.return),r.flags&32){var g=r.stateNode;try{ci(g,"")}catch(ae){Ze(r,r.return,ae)}}if(f&4&&(g=r.stateNode,g!=null)){var y=r.memoizedProps,x=c!==null?c.memoizedProps:y,P=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{P==="input"&&y.type==="radio"&&y.name!=null&&Vt(g,y),jr(P,x);var F=jr(P,y);for(x=0;x<O.length;x+=2){var Y=O[x],X=O[x+1];Y==="style"?da(g,X):Y==="dangerouslySetInnerHTML"?Rr(g,X):Y==="children"?ci(g,X):R(g,Y,X,F)}switch(P){case"input":hn(g,y);break;case"textarea":la(g,y);break;case"select":var V=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var ie=y.value;ie!=null?at(g,!!y.multiple,ie,!1):V!==!!y.multiple&&(y.defaultValue!=null?at(g,!!y.multiple,y.defaultValue,!0):at(g,!!y.multiple,y.multiple?[]:"",!1))}g[ro]=y}catch(ae){Ze(r,r.return,ae)}}break;case 6:if(yn(a,r),In(r),f&4){if(r.stateNode===null)throw Error(t(162));g=r.stateNode,y=r.memoizedProps;try{g.nodeValue=y}catch(ae){Ze(r,r.return,ae)}}break;case 3:if(yn(a,r),In(r),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Xr(a.containerInfo)}catch(ae){Ze(r,r.return,ae)}break;case 4:yn(a,r),In(r);break;case 13:yn(a,r),In(r),g=r.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||(Dc=ze())),f&4&&wp(r);break;case 22:if(Y=c!==null&&c.memoizedState!==null,r.mode&1?(St=(F=St)||Y,yn(a,r),St=F):yn(a,r),In(r),f&8192){if(F=r.memoizedState!==null,(r.stateNode.isHidden=F)&&!Y&&(r.mode&1)!==0)for(re=r,Y=r.child;Y!==null;){for(X=re=Y;re!==null;){switch(V=re,ie=V.child,V.tag){case 0:case 11:case 14:case 15:yo(4,V,V.return);break;case 1:ar(V,V.return);var oe=V.stateNode;if(typeof oe.componentWillUnmount=="function"){f=V,c=V.return;try{a=f,oe.props=a.memoizedProps,oe.state=a.memoizedState,oe.componentWillUnmount()}catch(ae){Ze(f,c,ae)}}break;case 5:ar(V,V.return);break;case 22:if(V.memoizedState!==null){Ep(X);continue}}ie!==null?(ie.return=V,re=ie):Ep(X)}Y=Y.sibling}e:for(Y=null,X=r;;){if(X.tag===5){if(Y===null){Y=X;try{g=X.stateNode,F?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(P=X.stateNode,O=X.memoizedProps.style,x=O!=null&&O.hasOwnProperty("display")?O.display:null,P.style.display=ha("display",x))}catch(ae){Ze(r,r.return,ae)}}}else if(X.tag===6){if(Y===null)try{X.stateNode.nodeValue=F?"":X.memoizedProps}catch(ae){Ze(r,r.return,ae)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===r)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===r)break e;for(;X.sibling===null;){if(X.return===null||X.return===r)break e;Y===X&&(Y=null),X=X.return}Y===X&&(Y=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:yn(a,r),In(r),f&4&&wp(r);break;case 21:break;default:yn(a,r),In(r)}}function In(r){var a=r.flags;if(a&2){try{e:{for(var c=r.return;c!==null;){if(vp(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(ci(g,""),f.flags&=-33);var y=_p(r);Oc(r,y,g);break;case 3:case 4:var x=f.stateNode.containerInfo,P=_p(r);Mc(r,P,x);break;default:throw Error(t(161))}}catch(O){Ze(r,r.return,O)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function l_(r,a,c){re=r,kp(r)}function kp(r,a,c){for(var f=(r.mode&1)!==0;re!==null;){var g=re,y=g.child;if(g.tag===22&&f){var x=g.memoizedState!==null||tl;if(!x){var P=g.alternate,O=P!==null&&P.memoizedState!==null||St;P=tl;var F=St;if(tl=x,(St=O)&&!F)for(re=g;re!==null;)x=re,O=x.child,x.tag===22&&x.memoizedState!==null?Tp(g):O!==null?(O.return=x,re=O):Tp(g);for(;y!==null;)re=y,kp(y),y=y.sibling;re=g,tl=P,St=F}Sp(r)}else(g.subtreeFlags&8772)!==0&&y!==null?(y.return=g,re=y):Sp(r)}}function Sp(r){for(;re!==null;){var a=re;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:St||nl(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!St)if(c===null)f.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:gn(a.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=a.updateQueue;y!==null&&Ef(a,y,f);break;case 3:var x=a.updateQueue;if(x!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}Ef(a,x,c)}break;case 5:var P=a.stateNode;if(c===null&&a.flags&4){c=P;var O=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&c.focus();break;case"img":O.src&&(c.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var F=a.alternate;if(F!==null){var Y=F.memoizedState;if(Y!==null){var X=Y.dehydrated;X!==null&&Xr(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}St||a.flags&512&&Cc(a)}catch(V){Ze(a,a.return,V)}}if(a===r){re=null;break}if(c=a.sibling,c!==null){c.return=a.return,re=c;break}re=a.return}}function Ep(r){for(;re!==null;){var a=re;if(a===r){re=null;break}var c=a.sibling;if(c!==null){c.return=a.return,re=c;break}re=a.return}}function Tp(r){for(;re!==null;){var a=re;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{nl(4,a)}catch(O){Ze(a,c,O)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch(O){Ze(a,g,O)}}var y=a.return;try{Cc(a)}catch(O){Ze(a,y,O)}break;case 5:var x=a.return;try{Cc(a)}catch(O){Ze(a,x,O)}}}catch(O){Ze(a,a.return,O)}if(a===r){re=null;break}var P=a.sibling;if(P!==null){P.return=a.return,re=P;break}re=a.return}}var u_=Math.ceil,il=N.ReactCurrentDispatcher,Ac=N.ReactCurrentOwner,on=N.ReactCurrentBatchConfig,Re=0,dt=null,rt=null,vt=0,Gt=0,lr=Ei(0),ct=0,vo=null,cs=0,sl=0,Ic=0,_o=null,Lt=null,Dc=0,ur=1/0,Qn=null,rl=!1,Rc=null,Ai=null,ol=!1,Ii=null,al=0,xo=0,Lc=null,ll=-1,ul=0;function Ct(){return(Re&6)!==0?ze():ll!==-1?ll:ll=ze()}function Di(r){return(r.mode&1)===0?1:(Re&2)!==0&&vt!==0?vt&-vt:Y0.transition!==null?(ul===0&&(ul=Bs()),ul):(r=S,r!==0||(r=window.event,r=r===void 0?16:Pd(r.type)),r)}function vn(r,a,c,f){if(50<xo)throw xo=0,Lc=null,Error(t(185));ns(r,c,f),((Re&2)===0||r!==dt)&&(r===dt&&((Re&2)===0&&(sl|=c),ct===4&&Ri(r,vt)),Nt(r,f),c===1&&Re===0&&(a.mode&1)===0&&(ur=ze()+500,ja&&Pi()))}function Nt(r,a){var c=r.callbackNode;vu(r,a);var f=Wn(r,r===dt?vt:0);if(f===0)c!==null&&zs(c),r.callbackNode=null,r.callbackPriority=0;else if(a=f&-f,r.callbackPriority!==a){if(c!=null&&zs(c),a===1)r.tag===0?W0(Cp.bind(null,r)):ff(Cp.bind(null,r)),B0(function(){(Re&6)===0&&Pi()}),c=null;else{switch(C(f)){case 1:c=Pn;break;case 4:c=dn;break;case 16:c=Ot;break;case 536870912:c=Ht;break;default:c=Ot}c=Np(c,Pp.bind(null,r))}r.callbackPriority=a,r.callbackNode=c}}function Pp(r,a){if(ll=-1,ul=0,(Re&6)!==0)throw Error(t(327));var c=r.callbackNode;if(cr()&&r.callbackNode!==c)return null;var f=Wn(r,r===dt?vt:0);if(f===0)return null;if((f&30)!==0||(f&r.expiredLanes)!==0||a)a=cl(r,f);else{a=f;var g=Re;Re|=2;var y=Op();(dt!==r||vt!==a)&&(Qn=null,ur=ze()+500,ds(r,a));do try{d_();break}catch(P){Mp(r,P)}while(!0);Qu(),il.current=y,Re=g,rt!==null?a=0:(dt=null,vt=0,a=ct)}if(a!==0){if(a===2&&(g=$s(r),g!==0&&(f=g,a=Nc(r,g))),a===1)throw c=vo,ds(r,0),Ri(r,f),Nt(r,ze()),c;if(a===6)Ri(r,f);else{if(g=r.current.alternate,(f&30)===0&&!c_(g)&&(a=cl(r,f),a===2&&(y=$s(r),y!==0&&(f=y,a=Nc(r,y))),a===1))throw c=vo,ds(r,0),Ri(r,f),Nt(r,ze()),c;switch(r.finishedWork=g,r.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:fs(r,Lt,Qn);break;case 3:if(Ri(r,f),(f&130023424)===f&&(a=Dc+500-ze(),10<a)){if(Wn(r,0)!==0)break;if(g=r.suspendedLanes,(g&f)!==f){Ct(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=Uu(fs.bind(null,r,Lt,Qn),a);break}fs(r,Lt,Qn);break;case 4:if(Ri(r,f),(f&4194240)===f)break;for(a=r.eventTimes,g=-1;0<f;){var x=31-xt(f);y=1<<x,x=a[x],x>g&&(g=x),f&=~y}if(f=g,f=ze()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*u_(f/1960))-f,10<f){r.timeoutHandle=Uu(fs.bind(null,r,Lt,Qn),f);break}fs(r,Lt,Qn);break;case 5:fs(r,Lt,Qn);break;default:throw Error(t(329))}}}return Nt(r,ze()),r.callbackNode===c?Pp.bind(null,r):null}function Nc(r,a){var c=_o;return r.current.memoizedState.isDehydrated&&(ds(r,a).flags|=256),r=cl(r,a),r!==2&&(a=Lt,Lt=c,a!==null&&jc(a)),r}function jc(r){Lt===null?Lt=r:Lt.push.apply(Lt,r)}function c_(r){for(var a=r;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],y=g.getSnapshot;g=g.value;try{if(!fn(y(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ri(r,a){for(a&=~Ic,a&=~sl,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var c=31-xt(a),f=1<<c;r[c]=-1,a&=~f}}function Cp(r){if((Re&6)!==0)throw Error(t(327));cr();var a=Wn(r,0);if((a&1)===0)return Nt(r,ze()),null;var c=cl(r,a);if(r.tag!==0&&c===2){var f=$s(r);f!==0&&(a=f,c=Nc(r,f))}if(c===1)throw c=vo,ds(r,0),Ri(r,a),Nt(r,ze()),c;if(c===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=a,fs(r,Lt,Qn),Nt(r,ze()),null}function zc(r,a){var c=Re;Re|=1;try{return r(a)}finally{Re=c,Re===0&&(ur=ze()+500,ja&&Pi())}}function hs(r){Ii!==null&&Ii.tag===0&&(Re&6)===0&&cr();var a=Re;Re|=1;var c=on.transition,f=S;try{if(on.transition=null,S=1,r)return r()}finally{S=f,on.transition=c,Re=a,(Re&6)===0&&Pi()}}function Fc(){Gt=lr.current,Ue(lr)}function ds(r,a){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,$0(c)),rt!==null)for(c=rt.return;c!==null;){var f=c;switch(Xu(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&La();break;case 3:rr(),Ue(It),Ue(wt),ac();break;case 5:rc(f);break;case 4:rr();break;case 13:Ue(Je);break;case 19:Ue(Je);break;case 10:ec(f.type._context);break;case 22:case 23:Fc()}c=c.return}if(dt=r,rt=r=Li(r.current,null),vt=Gt=a,ct=0,vo=null,Ic=sl=cs=0,Lt=_o=null,as!==null){for(a=0;a<as.length;a++)if(c=as[a],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,y=c.pending;if(y!==null){var x=y.next;y.next=g,f.next=x}c.pending=f}as=null}return r}function Mp(r,a){do{var c=rt;try{if(Qu(),qa.current=Ka,Xa){for(var f=Ge.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Xa=!1}if(us=0,ht=ut=Ge=null,ho=!1,fo=0,Ac.current=null,c===null||c.return===null){ct=1,vo=a,rt=null;break}e:{var y=r,x=c.return,P=c,O=a;if(a=vt,P.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var F=O,Y=P,X=Y.tag;if((Y.mode&1)===0&&(X===0||X===11||X===15)){var V=Y.alternate;V?(Y.updateQueue=V.updateQueue,Y.memoizedState=V.memoizedState,Y.lanes=V.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ie=ep(x);if(ie!==null){ie.flags&=-257,tp(ie,x,P,y,a),ie.mode&1&&Qf(y,F,a),a=ie,O=F;var oe=a.updateQueue;if(oe===null){var ae=new Set;ae.add(O),a.updateQueue=ae}else oe.add(O);break e}else{if((a&1)===0){Qf(y,F,a),$c();break e}O=Error(t(426))}}else if(Xe&&P.mode&1){var nt=ep(x);if(nt!==null){(nt.flags&65536)===0&&(nt.flags|=256),tp(nt,x,P,y,a),Ku(or(O,P));break e}}y=O=or(O,P),ct!==4&&(ct=2),_o===null?_o=[y]:_o.push(y),y=x;do{switch(y.tag){case 3:y.flags|=65536,a&=-a,y.lanes|=a;var D=Kf(y,O,a);Sf(y,D);break e;case 1:P=O;var A=y.type,j=y.stateNode;if((y.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ai===null||!Ai.has(j)))){y.flags|=65536,a&=-a,y.lanes|=a;var G=Zf(y,P,a);Sf(y,G);break e}}y=y.return}while(y!==null)}Ip(c)}catch(le){a=le,rt===c&&c!==null&&(rt=c=c.return);continue}break}while(!0)}function Op(){var r=il.current;return il.current=Ka,r===null?Ka:r}function $c(){(ct===0||ct===3||ct===2)&&(ct=4),dt===null||(cs&268435455)===0&&(sl&268435455)===0||Ri(dt,vt)}function cl(r,a){var c=Re;Re|=2;var f=Op();(dt!==r||vt!==a)&&(Qn=null,ds(r,a));do try{h_();break}catch(g){Mp(r,g)}while(!0);if(Qu(),Re=c,il.current=f,rt!==null)throw Error(t(261));return dt=null,vt=0,ct}function h_(){for(;rt!==null;)Ap(rt)}function d_(){for(;rt!==null&&!mu();)Ap(rt)}function Ap(r){var a=Lp(r.alternate,r,Gt);r.memoizedProps=r.pendingProps,a===null?Ip(r):rt=a,Ac.current=null}function Ip(r){var a=r;do{var c=a.alternate;if(r=a.return,(a.flags&32768)===0){if(c=s_(c,a,Gt),c!==null){rt=c;return}}else{if(c=r_(c,a),c!==null){c.flags&=32767,rt=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{ct=6,rt=null;return}}if(a=a.sibling,a!==null){rt=a;return}rt=a=r}while(a!==null);ct===0&&(ct=5)}function fs(r,a,c){var f=S,g=on.transition;try{on.transition=null,S=1,f_(r,a,c,f)}finally{on.transition=g,S=f}return null}function f_(r,a,c,f){do cr();while(Ii!==null);if((Re&6)!==0)throw Error(t(327));c=r.finishedWork;var g=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=c.lanes|c.childLanes;if(_u(r,y),r===dt&&(rt=dt=null,vt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||ol||(ol=!0,Np(Ot,function(){return cr(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=on.transition,on.transition=null;var x=S;S=1;var P=Re;Re|=4,Ac.current=null,a_(r,c),bp(c,r),D0($u),wa=!!Fu,$u=Fu=null,r.current=c,l_(c),yu(),Re=P,S=x,on.transition=y}else r.current=c;if(ol&&(ol=!1,Ii=r,al=g),y=r.pendingLanes,y===0&&(Ai=null),_a(c.stateNode),Nt(r,ze()),a!==null)for(f=r.onRecoverableError,c=0;c<a.length;c++)g=a[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(rl)throw rl=!1,r=Rc,Rc=null,r;return(al&1)!==0&&r.tag!==0&&cr(),y=r.pendingLanes,(y&1)!==0?r===Lc?xo++:(xo=0,Lc=r):xo=0,Pi(),null}function cr(){if(Ii!==null){var r=C(al),a=on.transition,c=S;try{if(on.transition=null,S=16>r?16:r,Ii===null)var f=!1;else{if(r=Ii,Ii=null,al=0,(Re&6)!==0)throw Error(t(331));var g=Re;for(Re|=4,re=r.current;re!==null;){var y=re,x=y.child;if((re.flags&16)!==0){var P=y.deletions;if(P!==null){for(var O=0;O<P.length;O++){var F=P[O];for(re=F;re!==null;){var Y=re;switch(Y.tag){case 0:case 11:case 15:yo(8,Y,y)}var X=Y.child;if(X!==null)X.return=Y,re=X;else for(;re!==null;){Y=re;var V=Y.sibling,ie=Y.return;if(yp(Y),Y===F){re=null;break}if(V!==null){V.return=ie,re=V;break}re=ie}}}var oe=y.alternate;if(oe!==null){var ae=oe.child;if(ae!==null){oe.child=null;do{var nt=ae.sibling;ae.sibling=null,ae=nt}while(ae!==null)}}re=y}}if((y.subtreeFlags&2064)!==0&&x!==null)x.return=y,re=x;else e:for(;re!==null;){if(y=re,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:yo(9,y,y.return)}var D=y.sibling;if(D!==null){D.return=y.return,re=D;break e}re=y.return}}var A=r.current;for(re=A;re!==null;){x=re;var j=x.child;if((x.subtreeFlags&2064)!==0&&j!==null)j.return=x,re=j;else e:for(x=A;re!==null;){if(P=re,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:nl(9,P)}}catch(le){Ze(P,P.return,le)}if(P===x){re=null;break e}var G=P.sibling;if(G!==null){G.return=P.return,re=G;break e}re=P.return}}if(Re=g,Pi(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(At,r)}catch{}f=!0}return f}finally{S=c,on.transition=a}}return!1}function Dp(r,a,c){a=or(c,a),a=Kf(r,a,1),r=Mi(r,a,1),a=Ct(),r!==null&&(ns(r,1,a),Nt(r,a))}function Ze(r,a,c){if(r.tag===3)Dp(r,r,c);else for(;a!==null;){if(a.tag===3){Dp(a,r,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ai===null||!Ai.has(f))){r=or(c,r),r=Zf(a,r,1),a=Mi(a,r,1),r=Ct(),a!==null&&(ns(a,1,r),Nt(a,r));break}}a=a.return}}function p_(r,a,c){var f=r.pingCache;f!==null&&f.delete(a),a=Ct(),r.pingedLanes|=r.suspendedLanes&c,dt===r&&(vt&c)===c&&(ct===4||ct===3&&(vt&130023424)===vt&&500>ze()-Dc?ds(r,0):Ic|=c),Nt(r,a)}function Rp(r,a){a===0&&((r.mode&1)===0?a=1:(a=vi,vi<<=1,(vi&130023424)===0&&(vi=4194304)));var c=Ct();r=Gn(r,a),r!==null&&(ns(r,a,c),Nt(r,c))}function g_(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),Rp(r,c)}function m_(r,a){var c=0;switch(r.tag){case 13:var f=r.stateNode,g=r.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),Rp(r,c)}var Lp;Lp=function(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps||It.current)Rt=!0;else{if((r.lanes&c)===0&&(a.flags&128)===0)return Rt=!1,i_(r,a,c);Rt=(r.flags&131072)!==0}else Rt=!1,Xe&&(a.flags&1048576)!==0&&pf(a,Fa,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;el(r,a),r=a.pendingProps;var g=Zs(a,wt.current);sr(a,c),g=cc(null,a,f,r,g,c);var y=hc();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Dt(f)?(y=!0,Na(a)):y=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,ic(a),g.updater=Za,a.stateNode=g,g._reactInternals=a,yc(a,f,r,c),a=wc(null,a,f,!0,y,c)):(a.tag=0,Xe&&y&&qu(a),Pt(null,a,g,c),a=a.child),a;case 16:f=a.elementType;e:{switch(el(r,a),r=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=v_(f),r=gn(f,r),g){case 0:a=xc(null,a,f,r,c);break e;case 1:a=ap(null,a,f,r,c);break e;case 11:a=np(null,a,f,r,c);break e;case 14:a=ip(null,a,f,gn(f.type,r),c);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:gn(f,g),xc(r,a,f,g,c);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:gn(f,g),ap(r,a,f,g,c);case 3:e:{if(lp(a),r===null)throw Error(t(387));f=a.pendingProps,y=a.memoizedState,g=y.element,kf(r,a),Wa(a,f,null,c);var x=a.memoizedState;if(f=x.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){g=or(Error(t(423)),a),a=up(r,a,f,c,g);break e}else if(f!==g){g=or(Error(t(424)),a),a=up(r,a,f,c,g);break e}else for(Jt=Si(a.stateNode.containerInfo.firstChild),Xt=a,Xe=!0,pn=null,c=wf(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(tr(),f===g){a=Zn(r,a,c);break e}Pt(r,a,f,c)}a=a.child}return a;case 5:return Tf(a),r===null&&Gu(a),f=a.type,g=a.pendingProps,y=r!==null?r.memoizedProps:null,x=g.children,Bu(f,g)?x=null:y!==null&&Bu(f,y)&&(a.flags|=32),op(r,a),Pt(r,a,x,c),a.child;case 6:return r===null&&Gu(a),null;case 13:return cp(r,a,c);case 4:return sc(a,a.stateNode.containerInfo),f=a.pendingProps,r===null?a.child=nr(a,null,f,c):Pt(r,a,f,c),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:gn(f,g),np(r,a,f,g,c);case 7:return Pt(r,a,a.pendingProps,c),a.child;case 8:return Pt(r,a,a.pendingProps.children,c),a.child;case 12:return Pt(r,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,y=a.memoizedProps,x=g.value,Fe(Ua,f._currentValue),f._currentValue=x,y!==null)if(fn(y.value,x)){if(y.children===g.children&&!It.current){a=Zn(r,a,c);break e}}else for(y=a.child,y!==null&&(y.return=a);y!==null;){var P=y.dependencies;if(P!==null){x=y.child;for(var O=P.firstContext;O!==null;){if(O.context===f){if(y.tag===1){O=Kn(-1,c&-c),O.tag=2;var F=y.updateQueue;if(F!==null){F=F.shared;var Y=F.pending;Y===null?O.next=O:(O.next=Y.next,Y.next=O),F.pending=O}}y.lanes|=c,O=y.alternate,O!==null&&(O.lanes|=c),tc(y.return,c,a),P.lanes|=c;break}O=O.next}}else if(y.tag===10)x=y.type===a.type?null:y.child;else if(y.tag===18){if(x=y.return,x===null)throw Error(t(341));x.lanes|=c,P=x.alternate,P!==null&&(P.lanes|=c),tc(x,c,a),x=y.sibling}else x=y.child;if(x!==null)x.return=y;else for(x=y;x!==null;){if(x===a){x=null;break}if(y=x.sibling,y!==null){y.return=x.return,x=y;break}x=x.return}y=x}Pt(r,a,g.children,c),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,sr(a,c),g=sn(g),f=f(g),a.flags|=1,Pt(r,a,f,c),a.child;case 14:return f=a.type,g=gn(f,a.pendingProps),g=gn(f.type,g),ip(r,a,f,g,c);case 15:return sp(r,a,a.type,a.pendingProps,c);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:gn(f,g),el(r,a),a.tag=1,Dt(f)?(r=!0,Na(a)):r=!1,sr(a,c),Jf(a,f,g),yc(a,f,g,c),wc(null,a,f,!0,r,c);case 19:return dp(r,a,c);case 22:return rp(r,a,c)}throw Error(t(156,a.tag))};function Np(r,a){return es(r,a)}function y_(r,a,c,f){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(r,a,c,f){return new y_(r,a,c,f)}function Bc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function v_(r){if(typeof r=="function")return Bc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===de)return 11;if(r===be)return 14}return 2}function Li(r,a){var c=r.alternate;return c===null?(c=an(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function hl(r,a,c,f,g,y){var x=2;if(f=r,typeof r=="function")Bc(r)&&(x=1);else if(typeof r=="string")x=5;else e:switch(r){case U:return ps(c.children,g,y,a);case q:x=8,g|=8;break;case ee:return r=an(12,c,a,g|2),r.elementType=ee,r.lanes=y,r;case Me:return r=an(13,c,a,g),r.elementType=Me,r.lanes=y,r;case Ne:return r=an(19,c,a,g),r.elementType=Ne,r.lanes=y,r;case te:return dl(c,g,y,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ue:x=10;break e;case ce:x=9;break e;case de:x=11;break e;case be:x=14;break e;case se:x=16,f=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return a=an(x,c,a,g),a.elementType=r,a.type=f,a.lanes=y,a}function ps(r,a,c,f){return r=an(7,r,f,a),r.lanes=c,r}function dl(r,a,c,f){return r=an(22,r,f,a),r.elementType=te,r.lanes=c,r.stateNode={isHidden:!1},r}function Uc(r,a,c){return r=an(6,r,null,a),r.lanes=c,r}function Vc(r,a,c){return a=an(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function __(r,a,c,f,g){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Us(0),this.expirationTimes=Us(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Us(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Hc(r,a,c,f,g,y,x,P,O){return r=new __(r,a,c,P,O),a===1?(a=1,y===!0&&(a|=8)):a=0,y=an(3,null,null,a),r.current=y,y.stateNode=r,y.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},ic(y),r}function x_(r,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:f==null?null:""+f,children:r,containerInfo:a,implementation:c}}function jp(r){if(!r)return Ti;r=r._reactInternals;e:{if(Tn(r)!==r||r.tag!==1)throw Error(t(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Dt(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(r.tag===1){var c=r.type;if(Dt(c))return hf(r,c,a)}return a}function zp(r,a,c,f,g,y,x,P,O){return r=Hc(c,f,!0,r,g,y,x,P,O),r.context=jp(null),c=r.current,f=Ct(),g=Di(c),y=Kn(f,g),y.callback=a??null,Mi(c,y,g),r.current.lanes=g,ns(r,g,f),Nt(r,f),r}function fl(r,a,c,f){var g=a.current,y=Ct(),x=Di(g);return c=jp(c),a.context===null?a.context=c:a.pendingContext=c,a=Kn(y,x),a.payload={element:r},f=f===void 0?null:f,f!==null&&(a.callback=f),r=Mi(g,a,x),r!==null&&(vn(r,g,x,y),Ha(r,g,x)),x}function pl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Fp(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function Wc(r,a){Fp(r,a),(r=r.alternate)&&Fp(r,a)}function w_(){return null}var $p=typeof reportError=="function"?reportError:function(r){console.error(r)};function Yc(r){this._internalRoot=r}gl.prototype.render=Yc.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(t(409));fl(r,a,null,null)},gl.prototype.unmount=Yc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;hs(function(){fl(null,r,null,null)}),a[Yn]=null}};function gl(r){this._internalRoot=r}gl.prototype.unstable_scheduleHydration=function(r){if(r){var a=Ce();r={blockedOn:null,target:r,priority:a};for(var c=0;c<wi.length&&a!==0&&a<wi[c].priority;c++);wi.splice(c,0,r),c===0&&Ed(r)}};function qc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ml(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Bp(){}function b_(r,a,c,f,g){if(g){if(typeof f=="function"){var y=f;f=function(){var F=pl(x);y.call(F)}}var x=zp(a,f,r,0,null,!1,!1,"",Bp);return r._reactRootContainer=x,r[Yn]=x.current,io(r.nodeType===8?r.parentNode:r),hs(),x}for(;g=r.lastChild;)r.removeChild(g);if(typeof f=="function"){var P=f;f=function(){var F=pl(O);P.call(F)}}var O=Hc(r,0,!1,null,null,!1,!1,"",Bp);return r._reactRootContainer=O,r[Yn]=O.current,io(r.nodeType===8?r.parentNode:r),hs(function(){fl(a,O,c,f)}),O}function yl(r,a,c,f,g){var y=c._reactRootContainer;if(y){var x=y;if(typeof g=="function"){var P=g;g=function(){var O=pl(x);P.call(O)}}fl(a,x,r,g)}else x=b_(c,a,r,g,f);return pl(x)}z=function(r){switch(r.tag){case 3:var a=r.stateNode;if(a.current.memoizedState.isDehydrated){var c=Hn(a.pendingLanes);c!==0&&(w(a,c|1),Nt(a,ze()),(Re&6)===0&&(ur=ze()+500,Pi()))}break;case 13:hs(function(){var f=Gn(r,1);if(f!==null){var g=Ct();vn(f,r,1,g)}}),Wc(r,1)}},W=function(r){if(r.tag===13){var a=Gn(r,134217728);if(a!==null){var c=Ct();vn(a,r,134217728,c)}Wc(r,134217728)}},ne=function(r){if(r.tag===13){var a=Di(r),c=Gn(r,a);if(c!==null){var f=Ct();vn(c,r,a,f)}Wc(r,a)}},Ce=function(){return S},et=function(r,a){var c=S;try{return S=r,a()}finally{S=c}},Fr=function(r,a,c){switch(a){case"input":if(hn(r,c),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==r&&f.form===r.form){var g=Ra(f);if(!g)throw Error(t(90));li(f),hn(f,g)}}}break;case"textarea":la(r,c);break;case"select":a=c.value,a!=null&&at(r,!!c.multiple,a,!1)}},ga=zc,$r=hs;var k_={usingClientEntryPoint:!1,Events:[oo,Gs,Ra,fa,pa,zc]},wo={findFiberByHostInstance:is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S_={bundleType:wo.bundleType,version:wo.version,rendererPackageName:wo.rendererPackageName,rendererConfig:wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=gi(r),r===null?null:r.stateNode},findFiberByHostInstance:wo.findFiberByHostInstance||w_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{At=vl.inject(S_),Wt=vl}catch{}}return jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k_,jt.createPortal=function(r,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qc(a))throw Error(t(200));return x_(r,a,null,c)},jt.createRoot=function(r,a){if(!qc(r))throw Error(t(299));var c=!1,f="",g=$p;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Hc(r,1,!1,null,null,c,!1,f,g),r[Yn]=a.current,io(r.nodeType===8?r.parentNode:r),new Yc(a)},jt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=gi(a),r=r===null?null:r.stateNode,r},jt.flushSync=function(r){return hs(r)},jt.hydrate=function(r,a,c){if(!ml(a))throw Error(t(200));return yl(null,r,a,!0,c)},jt.hydrateRoot=function(r,a,c){if(!qc(r))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,g=!1,y="",x=$p;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(x=c.onRecoverableError)),a=zp(a,null,r,1,c??null,g,!1,y,x),r[Yn]=a.current,io(r),f)for(r=0;r<f.length;r++)c=f[r],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new gl(a)},jt.render=function(r,a,c){if(!ml(a))throw Error(t(200));return yl(null,r,a,!1,c)},jt.unmountComponentAtNode=function(r){if(!ml(r))throw Error(t(40));return r._reactRootContainer?(hs(function(){yl(null,null,r,!1,function(){r._reactRootContainer=null,r[Yn]=null})}),!0):!1},jt.unstable_batchedUpdates=zc,jt.unstable_renderSubtreeIntoContainer=function(r,a,c,f){if(!ml(c))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return yl(r,a,c,!1,f)},jt.version="18.3.1-next-f1338f8080-20240426",jt}var Jp;function L_(){if(Jp)return Gc.exports;Jp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gc.exports=R_(),Gc.exports}var Gp;function N_(){if(Gp)return _l;Gp=1;var n=L_();return _l.createRoot=n.createRoot,_l.hydrateRoot=n.hydrateRoot,_l}var j_=N_();const z_="modulepreload",F_=function(n){return"/telemetrics/"+n},Kp={},Er=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){let l=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=l(t.map(d=>{if(d=F_(d),d in Kp)return;Kp[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":z_,p||(v.as="script"),v.crossOrigin="",v.href=d,h&&v.setAttribute("nonce",h),document.head.appendChild(v),p)return new Promise((_,b)=>{v.addEventListener("load",_),v.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},$_=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Er(async()=>{const{default:i}=await Promise.resolve().then(()=>Or);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)};class Qh extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class B_ extends Qh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class U_ extends Qh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class V_ extends Qh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var wh;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(wh||(wh={}));var H_=function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(p){try{d(i.next(p))}catch(m){l(m)}}function h(p){try{d(i.throw(p))}catch(m){l(m)}}function d(p){p.done?o(p.value):s(p.value).then(u,h)}d((i=i.apply(n,e||[])).next())})};class W_{constructor(e,{headers:t={},customFetch:i,region:s=wh.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=$_(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var i;return H_(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:l}=t;let u={},{region:h}=t;h||(h=this.region),h&&h!=="any"&&(u["x-region"]=h);let d;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",d=l):typeof l=="string"?(u["Content-Type"]="text/plain",d=l):typeof FormData<"u"&&l instanceof FormData?d=l:(u["Content-Type"]="application/json",d=JSON.stringify(l)));const p=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:d}).catch(b=>{throw new B_(b)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new U_(p);if(!p.ok)throw new V_(p);let v=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return v==="application/json"?_=yield p.json():v==="application/octet-stream"?_=yield p.blob():v==="text/event-stream"?_=p:v==="multipart/form-data"?_=yield p.formData():_=yield p.text(),{data:_,error:null}}catch(s){return{data:null,error:s}}})}}var pt={},hr={},dr={},fr={},pr={},gr={},Y_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Tr=Y_();const q_=Tr.fetch,cy=Tr.fetch.bind(Tr),hy=Tr.Headers,X_=Tr.Request,J_=Tr.Response,Or=Object.freeze(Object.defineProperty({__proto__:null,Headers:hy,Request:X_,Response:J_,default:cy,fetch:q_},Symbol.toStringTag,{value:"Module"})),G_=C_(Or);var xl={},Zp;function dy(){if(Zp)return xl;Zp=1,Object.defineProperty(xl,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return xl.default=n,xl}var Qp;function fy(){if(Qp)return gr;Qp=1;var n=gr&&gr.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(gr,"__esModule",{value:!0});const e=n(G_),t=n(dy());class i{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=Object.assign({},this.headers),this.headers[o]=l,this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let h=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var p,m,v;let _=null,b=null,k=null,E=d.status,T=d.statusText;if(d.ok){if(this.method!=="HEAD"){const L=await d.text();L===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=L:b=JSON.parse(L))}const R=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),N=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");R&&N&&N.length>1&&(k=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(_={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,k=null,E=406,T="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const R=await d.text();try{_=JSON.parse(R),Array.isArray(_)&&d.status===404&&(b=[],_=null,E=200,T="OK")}catch{d.status===404&&R===""?(E=204,T="No Content"):_={message:R}}if(_&&this.isMaybeSingle&&(!((v=_==null?void 0:_.details)===null||v===void 0)&&v.includes("0 rows"))&&(_=null,E=200,T="OK"),_&&this.shouldThrowOnError)throw new t.default(_)}return{error:_,data:b,count:k,status:E,statusText:T}});return this.shouldThrowOnError||(h=h.catch(d=>{var p,m,v;return{error:{message:`${(p=d==null?void 0:d.name)!==null&&p!==void 0?p:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(m=d==null?void 0:d.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(v=d==null?void 0:d.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),h.then(o,l)}returns(){return this}overrideTypes(){return this}}return gr.default=i,gr}var eg;function py(){if(eg)return pr;eg=1;var n=pr&&pr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(pr,"__esModule",{value:!0});const e=n(fy());class t extends e.default{select(s){let o=!1;const l=(s??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:h=u}={}){const d=h?`${h}.order`:"order",p=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${p?`${p},`:""}${s}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${s}`),this}range(s,o,{foreignTable:l,referencedTable:u=l}={}){const h=typeof u>"u"?"offset":`${u}.offset`,d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${s}`),this.url.searchParams.set(d,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:h=!1,format:d="text"}={}){var p;const m=[s?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,h?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${v}"; options=${m};`,d==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return pr.default=t,pr}var tg;function ed(){if(tg)return fr;tg=1;var n=fr&&fr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(fr,"__esModule",{value:!0});const e=n(py());class t extends e.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:l,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${h}fts${d}.${o}`),this}match(s){return Object.entries(s).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(s,o,l){return this.url.searchParams.append(s,`not.${o}.${l}`),this}or(s,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${s})`),this}filter(s,o,l){return this.url.searchParams.append(s,`${o}.${l}`),this}}return fr.default=t,fr}var ng;function gy(){if(ng)return dr;ng=1;var n=dr&&dr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(dr,"__esModule",{value:!0});const e=n(ed());class t{constructor(s,{headers:o={},schema:l,fetch:u}){this.url=s,this.headers=o,this.schema=l,this.fetch=u}select(s,{head:o=!1,count:l}={}){const u=o?"HEAD":"GET";let h=!1;const d=(s??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",d),l&&(this.headers.Prefer=`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:o,defaultToNull:l=!0}={}){const u="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),o&&h.push(`count=${o}`),l||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(s)){const d=s.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(d.length>0){const p=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:h=!0}={}){const d="POST",p=[`resolution=${l?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&p.push(this.headers.Prefer),u&&p.push(`count=${u}`),h||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(s)){const m=s.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(m.length>0){const v=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:o}={}){const l="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),this.headers.Prefer=u.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const o="DELETE",l=[];return s&&l.push(`count=${s}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return dr.default=t,dr}var ko={},So={},ig;function K_(){return ig||(ig=1,Object.defineProperty(So,"__esModule",{value:!0}),So.version=void 0,So.version="0.0.0-automated"),So}var sg;function Z_(){if(sg)return ko;sg=1,Object.defineProperty(ko,"__esModule",{value:!0}),ko.DEFAULT_HEADERS=void 0;const n=K_();return ko.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},ko}var rg;function Q_(){if(rg)return hr;rg=1;var n=hr&&hr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(hr,"__esModule",{value:!0});const e=n(gy()),t=n(ed()),i=Z_();class s{constructor(l,{headers:u={},schema:h,fetch:d}={}){this.url=l,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),u),this.schemaName=h,this.fetch=d}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new s(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:h=!1,get:d=!1,count:p}={}){let m;const v=new URL(`${this.url}/rpc/${l}`);let _;h||d?(m=h?"HEAD":"GET",Object.entries(u).filter(([k,E])=>E!==void 0).map(([k,E])=>[k,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([k,E])=>{v.searchParams.append(k,E)})):(m="POST",_=u);const b=Object.assign({},this.headers);return p&&(b.Prefer=`count=${p}`),new t.default({method:m,url:v,headers:b,schema:this.schemaName,body:_,fetch:this.fetch,allowEmpty:!1})}}return hr.default=s,hr}var og;function ex(){if(og)return pt;og=1;var n=pt&&pt.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(pt,"__esModule",{value:!0}),pt.PostgrestError=pt.PostgrestBuilder=pt.PostgrestTransformBuilder=pt.PostgrestFilterBuilder=pt.PostgrestQueryBuilder=pt.PostgrestClient=void 0;const e=n(Q_());pt.PostgrestClient=e.default;const t=n(gy());pt.PostgrestQueryBuilder=t.default;const i=n(ed());pt.PostgrestFilterBuilder=i.default;const s=n(py());pt.PostgrestTransformBuilder=s.default;const o=n(fy());pt.PostgrestBuilder=o.default;const l=n(dy());return pt.PostgrestError=l.default,pt.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:l.default},pt}var tx=ex();const nx=uy(tx),{PostgrestClient:ix,PostgrestQueryBuilder:CP,PostgrestFilterBuilder:MP,PostgrestTransformBuilder:OP,PostgrestBuilder:AP,PostgrestError:IP}=nx,sx="2.11.2",rx={"X-Client-Info":`realtime-js/${sx}`},ox="1.0.0",my=1e4,ax=1e3;var kr;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(kr||(kr={}));var Kt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Kt||(Kt={}));var _n;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(_n||(_n={}));var bh;(function(n){n.websocket="websocket"})(bh||(bh={}));var bs;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(bs||(bs={}));class lx{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){const s=t.getUint8(1),o=t.getUint8(2);let l=this.HEADER_LENGTH+2;const u=i.decode(e.slice(l,l+s));l=l+s;const h=i.decode(e.slice(l,l+o));l=l+o;const d=JSON.parse(i.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:h,payload:d}}}class yy{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})($e||($e={}));const ag=(n,e,t={})=>{var i;const s=(i=t.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((o,l)=>(o[l]=ux(l,n,e,s),o),{})},ux=(n,e,t,i)=>{const s=e.find(u=>u.name===n),o=s==null?void 0:s.type,l=t[n];return o&&!i.includes(o)?vy(o,l):kh(l)},vy=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return fx(e,t)}switch(n){case $e.bool:return cx(e);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return hx(e);case $e.json:case $e.jsonb:return dx(e);case $e.timestamp:return px(e);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return kh(e);default:return kh(e)}},kh=n=>n,cx=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},hx=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},dx=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},fx=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,i=n[t];if(n[0]==="{"&&i==="}"){let o;const l=n.slice(1,t);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>vy(e,u))}return n},px=n=>typeof n=="string"?n.replace(" ","T"):n,_y=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Qc{constructor(e,t,i={},s=my){this.channel=e,this.event=t,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var lg;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(lg||(lg={}));class No{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=No.syncState(this.state,s,o,l),this.pendingDiffs.forEach(h=>{this.state=No.syncDiff(this.state,h,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(i.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=No.syncDiff(this.state,s,o,l),u())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,s){const o=this.cloneDeep(e),l=this.transformState(t),u={},h={};return this.map(o,(d,p)=>{l[d]||(h[d]=p)}),this.map(l,(d,p)=>{const m=o[d];if(m){const v=p.map(E=>E.presence_ref),_=m.map(E=>E.presence_ref),b=p.filter(E=>_.indexOf(E.presence_ref)<0),k=m.filter(E=>v.indexOf(E.presence_ref)<0);b.length>0&&(u[d]=b),k.length>0&&(h[d]=k)}else u[d]=p}),this.syncDiff(o,{joins:u,leaves:h},i,s)}static syncDiff(e,t,i,s){const{joins:o,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(o,(u,h)=>{var d;const p=(d=e[u])!==null&&d!==void 0?d:[];if(e[u]=this.cloneDeep(h),p.length>0){const m=e[u].map(_=>_.presence_ref),v=p.filter(_=>m.indexOf(_.presence_ref)<0);e[u].unshift(...v)}i(u,p,h)}),this.map(l,(u,h)=>{let d=e[u];if(!d)return;const p=h.map(m=>m.presence_ref);d=d.filter(m=>p.indexOf(m.presence_ref)<0),e[u]=d,s(u,d,h),d.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const s=e[i];return"metas"in s?t[i]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[i]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ug;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(ug||(ug={}));var cg;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(cg||(cg={}));var ii;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(ii||(ii={}));class td{constructor(e,t={config:{}},i){this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=Kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Qc(this,_n.join,this.params,this.timeout),this.rejoinTimer=new yy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_n.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new No(this),this.broadcastEndpointURL=_y(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var i,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:l,private:u}}=this.params;this._onError(p=>e==null?void 0:e(ii.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(ii.CLOSED));const h={},d={broadcast:o,presence:l,postgres_changes:(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(p=>p.filter))!==null&&s!==void 0?s:[],private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){e==null||e(ii.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,_=(m=v==null?void 0:v.length)!==null&&m!==void 0?m:0,b=[];for(let k=0;k<_;k++){const E=v[k],{filter:{event:T,schema:M,table:R,filter:N}}=E,L=p&&p[k];if(L&&L.event===T&&L.schema===M&&L.table===R&&L.filter===N)b.push(Object.assign(Object.assign({},E),{id:L.id}));else{this.unsubscribe(),e==null||e(ii.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(ii.SUBSCRIBED);return}}).receive("error",p=>{e==null||e(ii.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ii.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this._on(e,t,i)}async send(e,t={}){var i,s;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:l}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,h;const d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Kt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_n.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const s=new Qc(this,_n.leave,{},e);s.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,t,i){const s=new AbortController,o=setTimeout(()=>s.abort(),i),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(o),l}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Qc(this,e,t,i);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var s,o;const l=e.toLocaleLowerCase(),{close:u,error:h,leave:d,join:p}=_n;if(i&&[u,h,d,p].indexOf(l)>=0&&i!==this._joinRef())return;let v=this._onMessage(l,t,i);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(_=>{var b,k,E;return((b=_.filter)===null||b===void 0?void 0:b.event)==="*"||((E=(k=_.filter)===null||k===void 0?void 0:k.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===l}).map(_=>_.callback(v,i)):(o=this.bindings[l])===null||o===void 0||o.filter(_=>{var b,k,E,T,M,R;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const N=_.id,L=(b=_.filter)===null||b===void 0?void 0:b.event;return N&&((k=t.ids)===null||k===void 0?void 0:k.includes(N))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((E=t.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const N=(M=(T=_==null?void 0:_.filter)===null||T===void 0?void 0:T.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return N==="*"||N===((R=t==null?void 0:t.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof v=="object"&&"ids"in v){const b=v.data,{schema:k,table:E,commit_timestamp:T,type:M,errors:R}=b;v=Object.assign(Object.assign({},{schema:k,table:E,commit_timestamp:T,eventType:M,new:{},old:{},errors:R}),this._getPayloadRecords(b))}_.callback(v,i)})}_isClosed(){return this.state===Kt.closed}_isJoined(){return this.state===Kt.joined}_isJoining(){return this.state===Kt.joining}_isLeaving(){return this.state===Kt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const s=e.toLocaleLowerCase(),o={type:s,filter:t,callback:i};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&td.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_n.close,{},e)}_onError(e){this._on(_n.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=ag(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=ag(e.columns,e.old_record)),t}}const gx=()=>{},mx=typeof WebSocket<"u",yx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vx{constructor(e,t){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=rx,this.params={},this.timeout=my,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=gx,this.conn=null,this.sendBuffer=[],this.serializer=new lx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...u)=>Er(async()=>{const{default:h}=await Promise.resolve().then(()=>Or);return{default:h}},void 0).then(({default:h})=>h(...u)):l=fetch,(...u)=>l(...u)},this.endPoint=`${e}/${bh.websocket}`,this.httpEndpoint=_y(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(i=t==null?void 0:t.params)===null||i===void 0?void 0:i.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(o,l)=>l(JSON.stringify(o)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new yy(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(mx){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new _x(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Er(async()=>{const{default:e}=await import("./browser-BWhWWvfl.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ox}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case kr.connecting:return bs.Connecting;case kr.open:return bs.Open;case kr.closing:return bs.Closing;default:return bs.Closed}}isConnected(){return this.connectionState()===bs.Open}channel(e,t={config:{}}){const i=new td(`realtime:${e}`,t,this);return this.channels.push(i),i}push(e){const{topic:t,event:i,payload:s,ref:o}=e,l=()=>{this.encode(e,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${t} ${i} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let i=null;try{i=JSON.parse(atob(t.split(".")[1]))}catch{}if(i&&i.exp&&!(Math.floor(Date.now()/1e3)-i.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`);this.accessTokenValue=t,this.channels.forEach(s=>{t&&s.updateJoinPayload({access_token:t}),s.joinedOnce&&s._isJoined()&&s._push(_n.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(ax,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:i,event:s,payload:o,ref:l}=t;l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${i} ${s} ${l&&"("+l+")"||""}`,o),this.channels.filter(u=>u._isMember(i)).forEach(u=>u._trigger(s,o,l)),this.stateChangeCallbacks.message.forEach(u=>u(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(_n.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${i}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([yx],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}}class _x{constructor(e,t,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=kr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=i.close}}class nd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function gt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class xx extends nd{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Sh extends nd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var wx=function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(p){try{d(i.next(p))}catch(m){l(m)}}function h(p){try{d(i.throw(p))}catch(m){l(m)}}function d(p){p.done?o(p.value):s(p.value).then(u,h)}d((i=i.apply(n,e||[])).next())})};const xy=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Er(async()=>{const{default:i}=await Promise.resolve().then(()=>Or);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},bx=()=>wx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Er(()=>Promise.resolve().then(()=>Or),void 0)).Response:Response}),Eh=n=>{if(Array.isArray(n))return n.map(t=>Eh(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,i])=>{const s=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=Eh(i)}),e};var Ms=function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(p){try{d(i.next(p))}catch(m){l(m)}}function h(p){try{d(i.throw(p))}catch(m){l(m)}}function d(p){p.done?o(p.value):s(p.value).then(u,h)}d((i=i.apply(n,e||[])).next())})};const eh=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),kx=(n,e,t)=>Ms(void 0,void 0,void 0,function*(){const i=yield bx();n instanceof i&&!(t!=null&&t.noResolveJson)?n.json().then(s=>{e(new xx(eh(s),n.status||500))}).catch(s=>{e(new Sh(eh(s),s))}):e(new Sh(eh(n),n))}),Sx=(n,e,t,i)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(s.body=JSON.stringify(i)),Object.assign(Object.assign({},s),t))};function sa(n,e,t,i,s,o){return Ms(this,void 0,void 0,function*(){return new Promise((l,u)=>{n(t,Sx(e,i,s,o)).then(h=>{if(!h.ok)throw h;return i!=null&&i.noResolveJson?h:h.json()}).then(h=>l(h)).catch(h=>kx(h,u,i))})})}function Kl(n,e,t,i){return Ms(this,void 0,void 0,function*(){return sa(n,"GET",e,t,i)})}function Fi(n,e,t,i,s){return Ms(this,void 0,void 0,function*(){return sa(n,"POST",e,i,s,t)})}function Ex(n,e,t,i,s){return Ms(this,void 0,void 0,function*(){return sa(n,"PUT",e,i,s,t)})}function Tx(n,e,t,i){return Ms(this,void 0,void 0,function*(){return sa(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function wy(n,e,t,i,s){return Ms(this,void 0,void 0,function*(){return sa(n,"DELETE",e,i,s,t)})}var zt=function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(p){try{d(i.next(p))}catch(m){l(m)}}function h(p){try{d(i.throw(p))}catch(m){l(m)}}function d(p){p.done?o(p.value):s(p.value).then(u,h)}d((i=i.apply(n,e||[])).next())})};const Px={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Cx{constructor(e,t={},i,s){this.url=e,this.headers=t,this.bucketId=i,this.fetch=xy(s)}uploadOrUpdate(e,t,i,s){return zt(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},hg),s);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const h=l.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",l.cacheControl),h&&o.append("metadata",this.encodeMetadata(h))):(o=i,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,h&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),s!=null&&s.headers&&(u=Object.assign(Object.assign({},u),s.headers));const d=this._removeEmptyFolders(t),p=this._getFinalPath(d),m=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:e,body:o,headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{})),v=yield m.json();return m.ok?{data:{path:d,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(o){if(gt(o))return{data:null,error:o};throw o}})}upload(e,t,i){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,s){return zt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",t);try{let h;const d=Object.assign({upsert:hg.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",d.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",d.cacheControl)):(h=i,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType);const m=yield this.fetch(u.toString(),{method:"PUT",body:h,headers:p}),v=yield m.json();return m.ok?{data:{path:o,fullPath:v.Key},error:null}:{data:null,error:v}}catch(h){if(gt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,t){return zt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=yield Fi(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new nd("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}update(e,t,i){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return zt(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(gt(s))return{data:null,error:s};throw s}})}copy(e,t,i){return zt(this,void 0,void 0,function*(){try{return{data:{path:(yield Fi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(gt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,i){return zt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield Fi(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(s){if(gt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,i){return zt(this,void 0,void 0,function*(){try{const s=yield Fi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(s){if(gt(s))return{data:null,error:s};throw s}})}download(e,t){return zt(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=o?`?${o}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield Kl(this.fetch,`${this.url}/${s}/${u}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(gt(u))return{data:null,error:u};throw u}})}info(e){return zt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const i=yield Kl(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Eh(i),error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}exists(e){return zt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Tx(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(gt(i)&&i instanceof Sh){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,t){const i=this._getFinalPath(e),s=[],o=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&s.push(o);const u=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});h!==""&&s.push(h);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${i}${d}`)}}}remove(e){return zt(this,void 0,void 0,function*(){try{return{data:yield wy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(gt(t))return{data:null,error:t};throw t}})}list(e,t,i){return zt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Px),t),{prefix:e||""});return{data:yield Fi(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(gt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Mx="2.7.1",Ox={"X-Client-Info":`storage-js/${Mx}`};var mr=function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(p){try{d(i.next(p))}catch(m){l(m)}}function h(p){try{d(i.throw(p))}catch(m){l(m)}}function d(p){p.done?o(p.value):s(p.value).then(u,h)}d((i=i.apply(n,e||[])).next())})};class Ax{constructor(e,t={},i){this.url=e,this.headers=Object.assign(Object.assign({},Ox),t),this.fetch=xy(i)}listBuckets(){return mr(this,void 0,void 0,function*(){try{return{data:yield Kl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(gt(e))return{data:null,error:e};throw e}})}getBucket(e){return mr(this,void 0,void 0,function*(){try{return{data:yield Kl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(gt(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return mr(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return mr(this,void 0,void 0,function*(){try{return{data:yield Ex(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}emptyBucket(e){return mr(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(gt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return mr(this,void 0,void 0,function*(){try{return{data:yield wy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(gt(t))return{data:null,error:t};throw t}})}}class Ix extends Ax{constructor(e,t={},i){super(e,t,i)}from(e){return new Cx(this.url,this.headers,e,this.fetch)}}const Dx="2.49.4";let Ao="";typeof Deno<"u"?Ao="deno":typeof document<"u"?Ao="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ao="react-native":Ao="node";const Rx={"X-Client-Info":`supabase-js-${Ao}/${Dx}`},Lx={headers:Rx},Nx={schema:"public"},jx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zx={};var Fx=function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(p){try{d(i.next(p))}catch(m){l(m)}}function h(p){try{d(i.throw(p))}catch(m){l(m)}}function d(p){p.done?o(p.value):s(p.value).then(u,h)}d((i=i.apply(n,e||[])).next())})};const $x=n=>{let e;return n?e=n:typeof fetch>"u"?e=cy:e=fetch,(...t)=>e(...t)},Bx=()=>typeof Headers>"u"?hy:Headers,Ux=(n,e,t)=>{const i=$x(t),s=Bx();return(o,l)=>Fx(void 0,void 0,void 0,function*(){var u;const h=(u=yield e())!==null&&u!==void 0?u:n;let d=new s(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",n),d.has("Authorization")||d.set("Authorization",`Bearer ${h}`),i(o,Object.assign(Object.assign({},l),{headers:d}))})};var Vx=function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(p){try{d(i.next(p))}catch(m){l(m)}}function h(p){try{d(i.throw(p))}catch(m){l(m)}}function d(p){p.done?o(p.value):s(p.value).then(u,h)}d((i=i.apply(n,e||[])).next())})};function Hx(n){return n.replace(/\/$/,"")}function Wx(n,e){const{db:t,auth:i,realtime:s,global:o}=n,{db:l,auth:u,realtime:h,global:d}=e,p={db:Object.assign(Object.assign({},l),t),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},h),s),global:Object.assign(Object.assign({},d),o),accessToken:()=>Vx(this,void 0,void 0,function*(){return""})};return n.accessToken?p.accessToken=n.accessToken:delete p.accessToken,p}const by="2.69.1",wr=30*1e3,Th=3,th=Th*wr,Yx="http://localhost:9999",qx="supabase.auth.token",Xx={"X-Client-Info":`gotrue-js/${by}`},Ph="X-Supabase-Api-Version",ky={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gx=6e5;class id extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function Te(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Kx extends id{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function Zx(n){return Te(n)&&n.name==="AuthApiError"}class Sy extends id{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ji extends id{constructor(e,t,i,s){super(e,i,s),this.name=t,this.status=i}}class ji extends Ji{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qx(n){return Te(n)&&n.name==="AuthSessionMissingError"}class nh extends Ji{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wl extends Ji{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bl extends Ji{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ew(n){return Te(n)&&n.name==="AuthImplicitGrantRedirectError"}class dg extends Ji{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ch extends Ji{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function ih(n){return Te(n)&&n.name==="AuthRetryableFetchError"}class fg extends Ji{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class jo extends Ji{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const pg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gg=` 	
\r=`.split(""),tw=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<gg.length;e+=1)n[gg[e].charCodeAt(0)]=-2;for(let e=0;e<pg.length;e+=1)n[pg[e].charCodeAt(0)]=e;return n})();function Ey(n,e,t){const i=tw[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function mg(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{sw(l,i,t)};for(let l=0;l<n.length;l+=1)Ey(n.charCodeAt(l),s,o);return e.join("")}function nw(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function iw(n,e){for(let t=0;t<n.length;t+=1){let i=n.charCodeAt(t);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(n.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}nw(i,e)}}function sw(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function rw(n){const e=[],t={queue:0,queuedBits:0},i=s=>{e.push(s)};for(let s=0;s<n.length;s+=1)Ey(n.charCodeAt(s),t,i);return new Uint8Array(e)}function ow(n){const e=[];return iw(n,t=>e.push(t)),new Uint8Array(e)}function aw(n){return Math.round(Date.now()/1e3)+n}function lw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Dn=()=>typeof window<"u"&&typeof document<"u",gs={tested:!1,writable:!1},zo=()=>{if(!Dn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gs.tested)return gs.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),gs.tested=!0,gs.writable=!0}catch{gs.tested=!0,gs.writable=!1}return gs.writable};function uw(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return t.searchParams.forEach((i,s)=>{e[s]=i}),e}const Ty=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Er(async()=>{const{default:i}=await Promise.resolve().then(()=>Or);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},cw=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Py=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},kl=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Sl=async(n,e)=>{await n.removeItem(e)};class ou{constructor(){this.promise=new ou.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}ou.promiseConstructor=Promise;function sh(n){const e=n.split(".");if(e.length!==3)throw new jo("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!Jx.test(e[i]))throw new jo("JWT not in base64url format");return{header:JSON.parse(mg(e[0])),payload:JSON.parse(mg(e[1])),signature:rw(e[2]),raw:{header:e[0],payload:e[1]}}}async function hw(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function dw(n,e){return new Promise((i,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await n(o);if(!e(o,null,l)){i(l);return}}catch(l){if(!e(o,l)){s(l);return}}})()})}function fw(n){return("0"+n.toString(16)).substr(-2)}function pw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let s="";for(let o=0;o<56;o++)s+=t.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(e),Array.from(e,fw).join("")}async function gw(n){const t=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(i);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function mw(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await gw(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yr(n,e,t=!1){const i=pw();let s=i;t&&(s+="/PASSWORD_RECOVERY"),await Py(n,`${e}-code-verifier`,s);const o=await mw(i);return[o,i===o?"plain":"s256"]}const yw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vw(n){const e=n.headers.get(Ph);if(!e||!e.match(yw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function _w(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function xw(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var ww=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};const xs=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),bw=[502,503,504];async function yg(n){var e;if(!cw(n))throw new Ch(xs(n),0);if(bw.includes(n.status))throw new Ch(xs(n),n.status);let t;try{t=await n.json()}catch(o){throw new Sy(xs(o),o)}let i;const s=vw(n);if(s&&s.getTime()>=ky["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new fg(xs(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new ji}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new fg(xs(t),n.status,t.weak_password.reasons);throw new Kx(xs(t),n.status||500,i)}const kw=(n,e,t,i)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),t))};async function De(n,e,t,i){var s;const o=Object.assign({},i==null?void 0:i.headers);o[Ph]||(o[Ph]=ky["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const l=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(l.redirect_to=i.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",h=await Sw(n,e,t+u,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(h):{data:Object.assign({},h),error:null}}async function Sw(n,e,t,i,s,o){const l=kw(e,i,s,o);let u;try{u=await n(t,Object.assign({},l))}catch(h){throw console.error(h),new Ch(xs(h),0)}if(u.ok||await yg(u),i!=null&&i.noResolveJson)return u;try{return await u.json()}catch(h){await yg(h)}}function zi(n){var e;let t=null;Cw(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=aw(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:i},error:null}}function vg(n){const e=zi(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function $i(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Ew(n){return{data:n,error:null}}function Tw(n){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:s,verification_type:o}=n,l=ww(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:i,redirect_to:s,verification_type:o},h=Object.assign({},l);return{data:{properties:u,user:h},error:null}}function Pw(n){return n}function Cw(n){return n.access_token&&n.refresh_token&&n.expires_in}var Mw=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};class Ow{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=Ty(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Te(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:$i})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=Mw(e,["options"]),s=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Tw,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Te(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$i})}catch(t){if(Te(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,s,o,l,u,h;try{const d={nextPage:null,lastPage:0,total:0},p=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Pw});if(p.error)throw p.error;const m=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(h=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(b=>{const k=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(b.split(";")[1].split("=")[1]);d[`${E}Page`]=k}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(Te(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){try{return await De(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$i})}catch(t){if(Te(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:$i})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:$i})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){try{const{data:t,error:i}=await De(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:i}}catch(t){if(Te(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Te(t))return{data:null,error:t};throw t}}}const Aw={getItem:n=>zo()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{zo()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{zo()&&globalThis.localStorage.removeItem(n)}};function _g(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function Iw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vr={debug:!!(globalThis&&zo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Dw extends Cy{}async function Rw(n,e,t){vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),vr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,s.name);try{return await t()}finally{vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,s.name)}}else{if(e===0)throw vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Dw(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(vr.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Iw();const Lw={url:Yx,storageKey:qx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Xx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function xg(n,e,t){return await t()}class Jo{constructor(e){var t,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jo.nextInstanceID,Jo.nextInstanceID+=1,this.instanceID>0&&Dn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Lw),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Ow({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ty(s.fetch),this.lock=s.lock||xg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Dn()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Rw:this.lock=xg,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:zo()?this.storage=Aw:(this.memoryStorage={},this.storage=_g(this.memoryStorage)):(this.memoryStorage={},this.storage=_g(this.memoryStorage)),Dn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${by}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=uw(window.location.href);let i="none";if(this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce"),Dn()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:o}=await this._getSessionFromURL(t,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),ew(o)){const h=(e=o.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Te(t)?{error:t}:{error:new Sy("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,s;try{const o=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:zi}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const h=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:d,session:h},error:null}}catch(o){if(Te(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var t,i,s;try{let o;if("email"in e){const{email:p,password:m,options:v}=e;let _=null,b=null;this.flowType==="pkce"&&([_,b]=await yr(this.storage,this.storageKey)),o=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:p,password:m,data:(t=v==null?void 0:v.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:b},xform:zi})}else if("phone"in e){const{phone:p,password:m,options:v}=e;o=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(i=v==null?void 0:v.data)!==null&&i!==void 0?i:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:zi})}else throw new wl("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const h=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:d,session:h},error:null}}catch(o){if(Te(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:l,options:u}=e;t=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:vg})}else if("phone"in e){const{phone:o,password:l,options:u}=e;t=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:vg})}else throw new wl("You must provide either an email or phone number and a password");const{data:i,error:s}=t;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new nh}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(t){if(Te(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,i,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await kl(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(t??"").split("/");try{const{data:o,error:l}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:zi});if(await Sl(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new nh}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(Te(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:t,provider:i,token:s,access_token:o,nonce:l}=e,u=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:zi}),{data:h,error:d}=u;return d?{data:{user:null,session:null},error:d}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new nh}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:d})}catch(t){if(Te(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,i,s,o,l;try{if("email"in e){const{email:u,options:h}=e;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await yr(this.storage,this.storageKey));const{error:m}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},create_user:(i=h==null?void 0:h.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:d,code_challenge_method:p},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:u,options:h}=e,{data:d,error:p}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},create_user:(o=h==null?void 0:h.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(l=h==null?void 0:h.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:p}}throw new wl("You must provide either an email or phone number.")}catch(u){if(Te(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var t,i;try{let s,o;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:u}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:zi});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const h=l.session,d=l.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:d,session:h},error:null}}catch(s){if(Te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,i,s;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await yr(this.storage,this.storageKey)),await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:Ew})}catch(o){if(Te(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new ji;const{error:s}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Te(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:s,options:o}=e,{error:l}=await De(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:i,type:s,options:o}=e,{data:l,error:u}=await De(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new wl("You must provide either an email or phone number and a type")}catch(t){if(Te(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await kl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<th:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,d,p)=>(!l&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,d,p))})}return{data:{session:e},error:null}}const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$i}):await this._useSession(async t=>{var i,s,o;const{data:l,error:u}=t;if(u)throw u;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ji}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:$i})})}catch(t){if(Te(t))return Qx(t)&&(await this._removeSession(),await Sl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:s,error:o}=i;if(o)throw o;if(!s.session)throw new ji;const l=s.session;let u=null,h=null;this.flowType==="pkce"&&e.email!=null&&([u,h]=await yr(this.storage,this.storageKey));const{data:d,error:p}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:h}),jwt:l.access_token,xform:$i});if(p)throw p;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ji;const t=Date.now()/1e3;let i=t,s=!0,o=null;const{payload:l}=sh(e.access_token);if(l.exp&&(i=l.exp,s=i<=t),s){const{session:u,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:h}=await this._getUser(e.access_token);if(h)throw h;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(Te(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:l,error:u}=t;if(u)throw u;e=(i=l.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new ji;const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Te(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Dn())throw new bl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new dg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bl("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new dg("No code detected.");const{data:M,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:u,expires_at:h,token_type:d}=e;if(!o||!u||!l||!d)throw new bl("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(u);let v=p+m;h&&(v=parseInt(h));const _=v-p;_*1e3<=wr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${m}s`);const b=v-m;p-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,v,p):p-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,v,p);const{data:k,error:E}=await this._getUser(o);if(E)throw E;const T={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:m,expires_at:v,refresh_token:l,token_type:d,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:e.type},error:null}}catch(i){if(Te(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await kl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:s,error:o}=t;if(o)return{error:o};const l=(i=s.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(Zx(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await Sl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=lw(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,s;try{const{data:{session:o},error:l}=t;if(l)throw l;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await yr(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(Te(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Te(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:i,error:s}=await this._useSession(async o=>{var l,u,h,d,p;const{data:m,error:v}=o;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return Dn()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Te(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,s;const{data:o,error:l}=t;if(l)throw l;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(Te(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await dw(async s=>(s>0&&await hw(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:zi})),(s,o)=>{const l=200*Math.pow(2,s);return o&&ih(o)&&Date.now()+l-i<wr})}catch(i){if(this._debug(t,"error",i),Te(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),Dn()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const i=await kl(this.storage,this.storageKey);if(this._debug(t,"session from storage",i),!this._isValidSession(i)){this._debug(t,"session is not valid"),i!==null&&await this._removeSession();return}const s=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<th;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${th}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),ih(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(t,"error",i),console.error(i);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new ji;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ou;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new ji;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={session:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(s,"error",o),Te(o)){const l={session:null,error:o};return ih(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,i=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,t)}catch(h){o.push(h)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Py(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Sl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Dn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-e)/wr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${wr}ms, refresh threshold is ${Th} ticks`),s<=Th&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Cy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const s=[`provider=${encodeURIComponent(t)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,l]=await yr(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(u.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:s,error:o}=t;return o?{data:null,error:o}:await De(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(Te(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,s;const{data:o,error:l}=t;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:h,error:d}=await De(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((s=h==null?void 0:h.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(t){if(Te(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:s,error:o}=t;if(o)return{data:null,error:o};const{data:l,error:u}=await De(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(t){if(Te(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:s,error:o}=t;return o?{data:null,error:o}:await De(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(Te(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const i=(e==null?void 0:e.factors)||[],s=i.filter(l=>l.factor_type==="totp"&&l.status==="verified"),o=i.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:i,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,i;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=sh(s.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((i=(t=s.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(l=>l.kid===e);if(i||(i=this.jwks.keys.find(l=>l.kid===e),i&&this.jwks_cached_at+Gx>Date.now()))return i;const{data:s,error:o}=await De(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new jo("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),i=s.keys.find(l=>l.kid===e),!i)throw new jo("No matching signing key found in JWKS");return i}async getClaims(e,t={keys:[]}){try{let i=e;if(!i){const{data:_,error:b}=await this.getSession();if(b||!_.session)return{data:null,error:b};i=_.session.access_token}const{header:s,payload:o,signature:l,raw:{header:u,payload:h}}=sh(i);if(_w(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:o,header:s,signature:l},error:null}}const d=xw(s.alg),p=await this.fetchJwk(s.kid,t),m=await crypto.subtle.importKey("jwk",p,d,!0,["verify"]);if(!await crypto.subtle.verify(d,m,l,ow(`${u}.${h}`)))throw new jo("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(i){if(Te(i))return{data:null,error:i};throw i}}}Jo.nextInstanceID=0;const Nw=Jo;class jw extends Nw{constructor(e){super(e)}}var zw=function(n,e,t,i){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(p){try{d(i.next(p))}catch(m){l(m)}}function h(p){try{d(i.throw(p))}catch(m){l(m)}}function d(p){p.done?o(p.value):s(p.value).then(u,h)}d((i=i.apply(n,e||[])).next())})};class Fw{constructor(e,t,i){var s,o,l;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const u=Hx(e);this.realtimeUrl=`${u}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${u}/auth/v1`,this.storageUrl=`${u}/storage/v1`,this.functionsUrl=`${u}/functions/v1`;const h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:Nx,realtime:zx,auth:Object.assign(Object.assign({},jx),{storageKey:h}),global:Lx},p=Wx(i??{},d);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=Ux(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new ix(`${u}/rest/v1`,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new W_(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ix(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return zw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:s,storageKey:o,flowType:l,lock:u,debug:h},d,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jw({url:this.authUrl,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:s,flowType:l,lock:u,debug:h,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new vx(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Fn=(n,e,t)=>new Fw(n,e,t),sd=({options:n,placeholder:e,onSelect:t})=>{const[i,s]=Pe.useState(""),[o,l]=Pe.useState(!1),[u,h]=Pe.useState(n),[d,p]=Pe.useState(0);Pe.useEffect(()=>{h(n)},[n]);const m=k=>{const E=k.target.value.trim();s(E);const T=n.filter(M=>typeof M=="string"?M.toLowerCase().includes(E.toLowerCase()):typeof M=="number"?M.toString().includes(E):!1);h(T),p(0)},v=k=>{s(k),l(!1),t&&t(k)},_=k=>{if(o)switch(k.key){case"ArrowDown":k.preventDefault(),p(E=>Math.min(E+1,u.length-1));break;case"ArrowUp":k.preventDefault(),p(E=>Math.max(E-1,0));break;case"Enter":k.preventDefault(),u[d]&&v(u[d]);break;case"Escape":k.preventDefault(),l(!1);break}},b=()=>{l(!0),s(""),h(n),p(0)};return J.jsxs("div",{className:"relative w-64",children:[J.jsx("input",{type:"text",className:"w-full px-4 py-2 border rounded-md shadow-md",placeholder:e,value:i,onChange:m,onFocus:b,onClick:b,onKeyDown:_}),o&&u.length>0&&J.jsx("div",{className:"absolute mt-2 w-full bg-white rounded-md shadow-lg z-10",children:J.jsx("div",{className:"max-h-40 overflow-y-auto",children:u.map((k,E)=>J.jsx("button",{className:`w-full px-4 py-2 text-left ${E===d?"bg-gray-100":""} hover:bg-gray-200`,onMouseEnter:()=>p(E),onClick:()=>v(k),children:k},E))})}),o&&u.length===0&&J.jsx("div",{className:"absolute mt-2 w-full bg-white rounded-md shadow-lg z-10",children:J.jsx("div",{className:"px-4 py-2 text-gray-500",children:"No results found"})})]})},$w=({onSelect:n})=>{const e=[2024];return J.jsx(sd,{options:e,placeholder:"Year",onSelect:n})},Bw=Fn("https://hffsxjhlpyhklmdekkgp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmZnN4amhscHloa2xtZGVra2dwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMjI5NzYsImV4cCI6MjA2MjU5ODk3Nn0.CZ_1YjI1sWLzEFGlrYALocpFLL1s6-zAF_TrfwlZJow"),Uw=({year:n,onSelect:e})=>{const[t,i]=Pe.useState([]);return Pe.useEffect(()=>{n&&(async()=>{try{const{data:o,error:l}=await Bw.from("telemetry_data").select("grand_prix").eq("year",n);if(l)throw l;const u=[...new Set(o.map(h=>h.grand_prix))];i(u.reverse())}catch(o){console.error("Error fetching Grand Prix data:",o),i([])}})()},[n]),J.jsx(sd,{options:t,placeholder:"Grand Prix",onSelect:e})},Vw=Fn("https://hffsxjhlpyhklmdekkgp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmZnN4amhscHloa2xtZGVra2dwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMjI5NzYsImV4cCI6MjA2MjU5ODk3Nn0.CZ_1YjI1sWLzEFGlrYALocpFLL1s6-zAF_TrfwlZJow"),Hw=({year:n,grandPrix:e,onSelect:t})=>{const[i,s]=Pe.useState([]);return Pe.useEffect(()=>{n&&e&&(async()=>{try{const{data:l,error:u}=await Vw.from("telemetry_data").select("session").eq("year",n).eq("grand_prix",e);if(u)throw u;const h=[...new Set(l.map(d=>d.session))].filter(d=>d&&d!=="None").reverse();s(h)}catch(l){console.error("Error fetching sessions:",l),s([])}})()},[n,e]),J.jsx(sd,{options:i,placeholder:"Session",onSelect:t})},Ww=Fn("https://hffsxjhlpyhklmdekkgp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmZnN4amhscHloa2xtZGVra2dwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMjI5NzYsImV4cCI6MjA2MjU5ODk3Nn0.CZ_1YjI1sWLzEFGlrYALocpFLL1s6-zAF_TrfwlZJow"),Yw=({year:n,grandPrix:e,session:t})=>{var d;const[i,s]=Pe.useState([]);Pe.useEffect(()=>{n&&e&&t&&(async()=>{try{const{data:m,error:v}=await Ww.from("telemetry_data").select("payload").eq("year",n).eq("grand_prix",e).eq("session",t).eq("data_type","session_results").single();if(v)throw v;s((m==null?void 0:m.payload)||[])}catch(m){console.error("Failed to fetch session results:",m),s([])}})()},[n,e,t]);const o=((d=i[0])==null?void 0:d.Time)||null,l=p=>{var v;if(!p)return"N/A";const m=p.replace("0 days ","").split(".");return`${m[0].replace(/^0/,"")}.${(v=m[1])==null?void 0:v.slice(0,3)}`},u=p=>{if(!p)return"N/A";const m=p.match(/(\d{2}):(\d{2}):(\d{2}\.\d+)/);if(!m)return"N/A";const[,v,_,b]=m;return`+${(parseFloat(v)*3600+parseFloat(_)*60+parseFloat(b)).toFixed(3)}`},h=(p,m,v)=>{const{Status:_,Time:b}=p;if(_.includes("+")){const k=_.match(/\+(\d+) Lap/);if(k)return`+${k[1]} Lap${k[1]>1?"s":""}`}else if(_!=="Finished")return"DNF";return v?l(b):u(b)};return J.jsxs("div",{className:"w-full",children:[J.jsx("h2",{className:"text-2xl font-bold mb-4 text-center font-[Formula1 Display]",children:" Session Results"}),J.jsx("div",{className:"w-full overflow-x-auto bg-black/80 backdrop-blur-sm rounded-lg shadow text-white",children:J.jsxs("table",{className:"table-auto min-w-full border-collapse",children:[J.jsx("thead",{children:J.jsxs("tr",{className:"bg-red-600",children:[J.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold",children:"POS"}),J.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold",children:"DRIVER"}),J.jsx("th",{className:"px-3 py-2 text-right text-sm font-semibold",children:"TIME"})]})}),J.jsx("tbody",{children:i.map((p,m)=>J.jsxs("tr",{className:m%2===0?"bg-gray-900 bg-opacity-60":"bg-black bg-opacity-50",children:[J.jsx("td",{className:"px-3 py-2 text-left font-bold",children:p.Position||"N/A"}),J.jsxs("td",{className:"px-3 py-2 flex items-center gap-2",children:[p.TeamLogo&&J.jsx("img",{src:p.TeamLogo,alt:p.TeamName,className:"w-5 h-5 rounded-full"}),J.jsx("span",{children:p.Abbreviation})]}),J.jsx("td",{className:"px-3 py-2 text-right font-mono",children:h(p,o,m===0)})]},m))})]})})]})},qw=Fn("https://hffsxjhlpyhklmdekkgp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmZnN4amhscHloa2xtZGVra2dwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMjI5NzYsImV4cCI6MjA2MjU5ODk3Nn0.CZ_1YjI1sWLzEFGlrYALocpFLL1s6-zAF_TrfwlZJow"),Xw=n=>{var i;if(!n)return"N/A";const e=n.replace(/0 days\s|^00:/g,"").split(".");return`${e[0].replace(/^0:0/,"").replace(/^0:/,"")}.${(i=e[1])==null?void 0:i.slice(0,3)}`},Jw=({year:n,grandPrix:e,session:t})=>{const[i,s]=Pe.useState(null);if(Pe.useEffect(()=>{n&&e&&t&&(async()=>{try{const{data:b,error:k}=await qw.from("telemetry_data").select("payload").eq("year",n).eq("grand_prix",e).eq("session",t).eq("data_type","fastest_lap").single();if(k)throw k;const E=JSON.stringify(b.payload).replace(/\bNaN\b/g,"null"),T=JSON.parse(E);s(T)}catch(b){console.error("Error fetching fastest lap:",b),s(null)}})()},[n,e,t]),!i)return J.jsx("div",{className:"text-gray-500",children:"Loading fastest lap..."});const{Driver:o,LapTime:l,LapNumber:u,TyreAge:h,TyreCompound:d}=i,p=Xw(l),m="svgs/fastestlap.svg",v=`svgs/${d.toLowerCase()}tyre.svg`;return J.jsxs("div",{className:"flex items-center justify-between w-full py-2 px-4 rounded-md text-md text-white",style:{backgroundColor:"#AE38E0"},children:[J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsx("img",{src:m,alt:"Timer icon",className:"w-6 h-6"}),J.jsx("span",{className:"font-bold",children:"FASTEST LAP"})]}),J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsx("img",{src:v,alt:`${d} Tyre`,className:"w-6 h-6"}),J.jsx("span",{children:p}),J.jsx("span",{children:"-"}),J.jsx("strong",{children:o})]}),J.jsxs("div",{className:"flex items-center gap-4",children:[J.jsxs("span",{children:["LAP ",u]}),J.jsxs("span",{children:["Tyre Life: ",h]})]})]})},Gw=Fn("https://hffsxjhlpyhklmdekkgp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmZnN4amhscHloa2xtZGVra2dwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMjI5NzYsImV4cCI6MjA2MjU5ODk3Nn0.CZ_1YjI1sWLzEFGlrYALocpFLL1s6-zAF_TrfwlZJow"),Kw=({year:n,grandPrix:e,session:t})=>{const[i,s]=Pe.useState(null);if(Pe.useEffect(()=>{n&&e&&t&&(async()=>{try{const{data:b,error:k}=await Gw.from("telemetry_data").select("payload").eq("year",n).eq("grand_prix",e).eq("session",t).eq("data_type","get_session_data").single();if(k)throw k;s(b.payload)}catch(b){console.error("Error fetching session data:",b),s(null)}})()},[n,e,t]),!i)return null;const{Country:o="Unknown",Location:l="Unknown",EventName:u="Unknown Event",EventDate:h="Unknown Date",OfficialEventName:d="Unknown",TotalLaps:p="Unknown"}=i,v=(_=>_?new Date(_).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Unknown Date")(h);return J.jsxs("div",{className:"p-4 bg-white rounded-md shadow-md text-gray-900",children:[J.jsx("h2",{className:"text-3xl font-bold mb-2",children:d}),J.jsxs("p",{className:"text-xl text-gray-700",children:[l,", ",o]}),J.jsx("p",{className:"text-xl text-gray-700",children:v}),J.jsxs("p",{className:"text-xl text-gray-700",children:[p," Laps"]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ra(n){return n+.5|0}const Bi=(n,e,t)=>Math.max(Math.min(n,t),e);function Io(n){return Bi(ra(n*2.55),0,255)}function Wi(n){return Bi(ra(n*255),0,255)}function si(n){return Bi(ra(n/2.55)/100,0,1)}function wg(n){return Bi(ra(n*100),0,100)}const ln={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Mh=[..."0123456789ABCDEF"],Zw=n=>Mh[n&15],Qw=n=>Mh[(n&240)>>4]+Mh[n&15],El=n=>(n&240)>>4===(n&15),eb=n=>El(n.r)&&El(n.g)&&El(n.b)&&El(n.a);function tb(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&ln[n[1]]*17,g:255&ln[n[2]]*17,b:255&ln[n[3]]*17,a:e===5?ln[n[4]]*17:255}:(e===7||e===9)&&(t={r:ln[n[1]]<<4|ln[n[2]],g:ln[n[3]]<<4|ln[n[4]],b:ln[n[5]]<<4|ln[n[6]],a:e===9?ln[n[7]]<<4|ln[n[8]]:255})),t}const nb=(n,e)=>n<255?e(n):"";function ib(n){var e=eb(n)?Zw:Qw;return n?"#"+e(n.r)+e(n.g)+e(n.b)+nb(n.a,e):void 0}const sb=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function My(n,e,t){const i=e*Math.min(t,1-t),s=(o,l=(o+n/30)%12)=>t-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function rb(n,e,t){const i=(s,o=(s+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function ob(n,e,t){const i=My(n,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)i[s]*=1-e-t,i[s]+=e;return i}function ab(n,e,t,i,s){return n===s?(e-t)/i+(e<t?6:0):e===s?(t-n)/i+2:(n-e)/i+4}function rd(n){const t=n.r/255,i=n.g/255,s=n.b/255,o=Math.max(t,i,s),l=Math.min(t,i,s),u=(o+l)/2;let h,d,p;return o!==l&&(p=o-l,d=u>.5?p/(2-o-l):p/(o+l),h=ab(t,i,s,p,o),h=h*60+.5),[h|0,d||0,u]}function od(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Wi)}function ad(n,e,t){return od(My,n,e,t)}function lb(n,e,t){return od(ob,n,e,t)}function ub(n,e,t){return od(rb,n,e,t)}function Oy(n){return(n%360+360)%360}function cb(n){const e=sb.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Io(+e[5]):Wi(+e[5]));const s=Oy(+e[2]),o=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=lb(s,o,l):e[1]==="hsv"?i=ub(s,o,l):i=ad(s,o,l),{r:i[0],g:i[1],b:i[2],a:t}}function hb(n,e){var t=rd(n);t[0]=Oy(t[0]+e),t=ad(t),n.r=t[0],n.g=t[1],n.b=t[2]}function db(n){if(!n)return;const e=rd(n),t=e[0],i=wg(e[1]),s=wg(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${s}%, ${si(n.a)})`:`hsl(${t}, ${i}%, ${s}%)`}const bg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},kg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function fb(){const n={},e=Object.keys(kg),t=Object.keys(bg);let i,s,o,l,u;for(i=0;i<e.length;i++){for(l=u=e[i],s=0;s<t.length;s++)o=t[s],u=u.replace(o,bg[o]);o=parseInt(kg[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let Tl;function pb(n){Tl||(Tl=fb(),Tl.transparent=[0,0,0,0]);const e=Tl[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const gb=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function mb(n){const e=gb.exec(n);let t=255,i,s,o;if(e){if(e[7]!==i){const l=+e[7];t=e[8]?Io(l):Bi(l*255,0,255)}return i=+e[1],s=+e[3],o=+e[5],i=255&(e[2]?Io(i):Bi(i,0,255)),s=255&(e[4]?Io(s):Bi(s,0,255)),o=255&(e[6]?Io(o):Bi(o,0,255)),{r:i,g:s,b:o,a:t}}}function yb(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${si(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const rh=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,_r=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function vb(n,e,t){const i=_r(si(n.r)),s=_r(si(n.g)),o=_r(si(n.b));return{r:Wi(rh(i+t*(_r(si(e.r))-i))),g:Wi(rh(s+t*(_r(si(e.g))-s))),b:Wi(rh(o+t*(_r(si(e.b))-o))),a:n.a+t*(e.a-n.a)}}function Pl(n,e,t){if(n){let i=rd(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=ad(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Ay(n,e){return n&&Object.assign(e||{},n)}function Sg(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Wi(n[3]))):(e=Ay(n,{r:0,g:0,b:0,a:1}),e.a=Wi(e.a)),e}function _b(n){return n.charAt(0)==="r"?mb(n):cb(n)}class Go{constructor(e){if(e instanceof Go)return e;const t=typeof e;let i;t==="object"?i=Sg(e):t==="string"&&(i=tb(e)||pb(e)||_b(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Ay(this._rgb);return e&&(e.a=si(e.a)),e}set rgb(e){this._rgb=Sg(e)}rgbString(){return this._valid?yb(this._rgb):void 0}hexString(){return this._valid?ib(this._rgb):void 0}hslString(){return this._valid?db(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,s=e.rgb;let o;const l=t===o?.5:t,u=2*l-1,h=i.a-s.a,d=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;o=1-d,i.r=255&d*i.r+o*s.r+.5,i.g=255&d*i.g+o*s.g+.5,i.b=255&d*i.b+o*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=vb(this._rgb,e._rgb,t)),this}clone(){return new Go(this.rgb)}alpha(e){return this._rgb.a=Wi(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=ra(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Pl(this._rgb,2,e),this}darken(e){return Pl(this._rgb,2,-e),this}saturate(e){return Pl(this._rgb,1,e),this}desaturate(e){return Pl(this._rgb,1,-e),this}rotate(e){return hb(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ei(){}const xb=(()=>{let n=0;return()=>n++})();function Ee(n){return n==null}function He(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ie(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Qe(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Zt(n,e){return Qe(n)?n:e}function _e(n,e){return typeof n>"u"?e:n}const wb=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,Iy=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function me(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Ae(n,e,t,i){let s,o,l;if(He(n))for(o=n.length,s=0;s<o;s++)e.call(t,n[s],s);else if(Ie(n))for(l=Object.keys(n),o=l.length,s=0;s<o;s++)e.call(t,n[l[s]],l[s])}function Zl(n,e){let t,i,s,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(s=n[t],o=e[t],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function Ql(n){if(He(n))return n.map(Ql);if(Ie(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let s=0;for(;s<i;++s)e[t[s]]=Ql(n[t[s]]);return e}return n}function Dy(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function bb(n,e,t,i){if(!Dy(n))return;const s=e[n],o=t[n];Ie(s)&&Ie(o)?zn(s,o,i):e[n]=Ql(o)}function zn(n,e,t){const i=He(e)?e:[e],s=i.length;if(!Ie(n))return n;t=t||{};const o=t.merger||bb;let l;for(let u=0;u<s;++u){if(l=i[u],!Ie(l))continue;const h=Object.keys(l);for(let d=0,p=h.length;d<p;++d)o(h[d],n,l,t)}return n}function Fo(n,e){return zn(n,e,{merger:kb})}function kb(n,e,t){if(!Dy(n))return;const i=e[n],s=t[n];Ie(i)&&Ie(s)?Fo(i,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Ql(s))}const Eg={"":n=>n,x:n=>n.x,y:n=>n.y};function Sb(n){const e=n.split("."),t=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function Eb(n){const e=Sb(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Yi(n,e){return(Eg[e]||(Eg[e]=Eb(e)))(n)}function ld(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Ko=n=>typeof n<"u",qi=n=>typeof n=="function",Tg=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function Tb(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const qe=Math.PI,We=2*qe,Pb=We+qe,eu=Number.POSITIVE_INFINITY,Cb=qe/180,it=qe/2,ms=qe/4,Pg=qe*2/3,Ui=Math.log10,un=Math.sign;function Ss(n,e,t){return Math.abs(n-e)<t}function Cg(n){const e=Math.round(n);n=Ss(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Ui(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function Mb(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((s,o)=>s-o).pop(),e}function Ob(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Pr(n){return!Ob(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Ab(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function Ry(n,e,t){let i,s,o;for(i=0,s=n.length;i<s;i++)o=n[i][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function xn(n){return n*(qe/180)}function ud(n){return n*(180/qe)}function Mg(n){if(!Qe(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Ly(n,e){const t=e.x-n.x,i=e.y-n.y,s=Math.sqrt(t*t+i*i);let o=Math.atan2(i,t);return o<-.5*qe&&(o+=We),{angle:o,distance:s}}function Oh(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Ib(n,e){return(n-e+Pb)%We-qe}function Qt(n){return(n%We+We)%We}function Zo(n,e,t,i){const s=Qt(n),o=Qt(e),l=Qt(t),u=Qt(o-s),h=Qt(l-s),d=Qt(s-o),p=Qt(s-l);return s===o||s===l||i&&o===l||u>h&&d<p}function mt(n,e,t){return Math.max(e,Math.min(t,n))}function Db(n){return mt(n,-32768,32767)}function ri(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function cd(n,e,t){t=t||(l=>n[l]<e);let i=n.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,t(o)?s=o:i=o;return{lo:s,hi:i}}const oi=(n,e,t,i)=>cd(n,t,i?s=>{const o=n[s][e];return o<t||o===t&&n[s+1][e]===t}:s=>n[s][e]<t),Rb=(n,e,t)=>cd(n,t,i=>n[i][e]>=t);function Lb(n,e,t){let i=0,s=n.length;for(;i<s&&n[i]<e;)i++;for(;s>i&&n[s-1]>t;)s--;return i>0||s<n.length?n.slice(i,s):n}const Ny=["push","pop","shift","splice","unshift"];function Nb(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Ny.forEach(t=>{const i="_onData"+ld(t),s=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const l=s.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function Og(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(Ny.forEach(o=>{delete n[o]}),delete n._chartjs)}function jy(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const zy=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Fy(n,e){let t=[],i=!1;return function(...s){t=s,i||(i=!0,zy.call(window,()=>{i=!1,n.apply(e,t)}))}}function jb(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const hd=n=>n==="start"?"left":n==="end"?"right":"center",Et=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,zb=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function $y(n,e,t){const i=e.length;let s=0,o=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:h}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=l.axis,{min:m,max:v,minDefined:_,maxDefined:b}=l.getUserBounds();if(_){if(s=Math.min(oi(h,p,m).lo,t?i:oi(e,p,l.getPixelForValue(m)).lo),d){const k=h.slice(0,s+1).reverse().findIndex(E=>!Ee(E[u.axis]));s-=Math.max(0,k)}s=mt(s,0,i-1)}if(b){let k=Math.max(oi(h,l.axis,v,!0).hi+1,t?0:oi(e,p,l.getPixelForValue(v),!0).hi+1);if(d){const E=h.slice(k-1).findIndex(T=>!Ee(T[u.axis]));k+=Math.max(0,E)}o=mt(k,s,i)-s}else o=i-s}return{start:s,count:o}}function By(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,s={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=s,!0;const o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,s),o}const Cl=n=>n===0||n===1,Ag=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*We/t)),Ig=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*We/t)+1,$o={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*it)+1,easeOutSine:n=>Math.sin(n*it),easeInOutSine:n=>-.5*(Math.cos(qe*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Cl(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Cl(n)?n:Ag(n,.075,.3),easeOutElastic:n=>Cl(n)?n:Ig(n,.075,.3),easeInOutElastic(n){return Cl(n)?n:n<.5?.5*Ag(n*2,.1125,.45):.5+.5*Ig(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-$o.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?$o.easeInBounce(n*2)*.5:$o.easeOutBounce(n*2-1)*.5+.5};function dd(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Dg(n){return dd(n)?n:new Go(n)}function oh(n){return dd(n)?n:new Go(n).saturate(.5).darken(.1).hexString()}const Fb=["x","y","borderWidth","radius","tension"],$b=["color","borderColor","backgroundColor"];function Bb(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:$b},numbers:{type:"number",properties:Fb}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Ub(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Rg=new Map;function Vb(n,e){e=e||{};const t=n+JSON.stringify(e);let i=Rg.get(t);return i||(i=new Intl.NumberFormat(n,e),Rg.set(t,i)),i}function oa(n,e,t){return Vb(e,t).format(n)}const Uy={values(n){return He(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let s,o=n;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),o=Hb(n,t)}const l=Ui(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),oa(n,i,h)},logarithmic(n,e,t){if(n===0)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(Ui(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?Uy.numeric.call(this,n,e,t):""}};function Hb(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var au={formatters:Uy};function Wb(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:au.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ps=Object.create(null),Ah=Object.create(null);function Bo(n,e){if(!e)return n;const t=e.split(".");for(let i=0,s=t.length;i<s;++i){const o=t[i];n=n[o]||(n[o]=Object.create(null))}return n}function ah(n,e,t){return typeof e=="string"?zn(Bo(n,e),t):zn(Bo(n,""),e)}class Yb{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>oh(s.backgroundColor),this.hoverBorderColor=(i,s)=>oh(s.borderColor),this.hoverColor=(i,s)=>oh(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return ah(this,e,t)}get(e){return Bo(this,e)}describe(e,t){return ah(Ah,e,t)}override(e,t){return ah(Ps,e,t)}route(e,t,i,s){const o=Bo(this,e),l=Bo(this,i),u="_"+t;Object.defineProperties(o,{[u]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[u],d=l[s];return Ie(h)?Object.assign({},d,h):_e(h,d)},set(h){this[u]=h}}})}apply(e){e.forEach(t=>t(this))}}var Ye=new Yb({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Bb,Ub,Wb]);function qb(n){return!n||Ee(n.size)||Ee(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function tu(n,e,t,i,s){let o=e[s];return o||(o=e[s]=n.measureText(s).width,t.push(s)),o>i&&(i=o),i}function Xb(n,e,t,i){i=i||{};let s=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},o=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let l=0;const u=t.length;let h,d,p,m,v;for(h=0;h<u;h++)if(m=t[h],m!=null&&!He(m))l=tu(n,s,o,l,m);else if(He(m))for(d=0,p=m.length;d<p;d++)v=m[d],v!=null&&!He(v)&&(l=tu(n,s,o,l,v));n.restore();const _=o.length/2;if(_>t.length){for(h=0;h<_;h++)delete s[o[h]];o.splice(0,_)}return l}function ys(n,e,t){const i=n.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*i)/i+s}function Lg(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Ih(n,e,t,i){Vy(n,e,t,i,null)}function Vy(n,e,t,i,s){let o,l,u,h,d,p,m,v;const _=e.pointStyle,b=e.rotation,k=e.radius;let E=(b||0)*Cb;if(_&&typeof _=="object"&&(o=_.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(E),n.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),n.restore();return}if(!(isNaN(k)||k<=0)){switch(n.beginPath(),_){default:s?n.ellipse(t,i,s/2,k,0,0,We):n.arc(t,i,k,0,We),n.closePath();break;case"triangle":p=s?s/2:k,n.moveTo(t+Math.sin(E)*p,i-Math.cos(E)*k),E+=Pg,n.lineTo(t+Math.sin(E)*p,i-Math.cos(E)*k),E+=Pg,n.lineTo(t+Math.sin(E)*p,i-Math.cos(E)*k),n.closePath();break;case"rectRounded":d=k*.516,h=k-d,l=Math.cos(E+ms)*h,m=Math.cos(E+ms)*(s?s/2-d:h),u=Math.sin(E+ms)*h,v=Math.sin(E+ms)*(s?s/2-d:h),n.arc(t-m,i-u,d,E-qe,E-it),n.arc(t+v,i-l,d,E-it,E),n.arc(t+m,i+u,d,E,E+it),n.arc(t-v,i+l,d,E+it,E+qe),n.closePath();break;case"rect":if(!b){h=Math.SQRT1_2*k,p=s?s/2:h,n.rect(t-p,i-h,2*p,2*h);break}E+=ms;case"rectRot":m=Math.cos(E)*(s?s/2:k),l=Math.cos(E)*k,u=Math.sin(E)*k,v=Math.sin(E)*(s?s/2:k),n.moveTo(t-m,i-u),n.lineTo(t+v,i-l),n.lineTo(t+m,i+u),n.lineTo(t-v,i+l),n.closePath();break;case"crossRot":E+=ms;case"cross":m=Math.cos(E)*(s?s/2:k),l=Math.cos(E)*k,u=Math.sin(E)*k,v=Math.sin(E)*(s?s/2:k),n.moveTo(t-m,i-u),n.lineTo(t+m,i+u),n.moveTo(t+v,i-l),n.lineTo(t-v,i+l);break;case"star":m=Math.cos(E)*(s?s/2:k),l=Math.cos(E)*k,u=Math.sin(E)*k,v=Math.sin(E)*(s?s/2:k),n.moveTo(t-m,i-u),n.lineTo(t+m,i+u),n.moveTo(t+v,i-l),n.lineTo(t-v,i+l),E+=ms,m=Math.cos(E)*(s?s/2:k),l=Math.cos(E)*k,u=Math.sin(E)*k,v=Math.sin(E)*(s?s/2:k),n.moveTo(t-m,i-u),n.lineTo(t+m,i+u),n.moveTo(t+v,i-l),n.lineTo(t-v,i+l);break;case"line":l=s?s/2:Math.cos(E)*k,u=Math.sin(E)*k,n.moveTo(t-l,i-u),n.lineTo(t+l,i+u);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(E)*(s?s/2:k),i+Math.sin(E)*k);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function jn(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function lu(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function uu(n){n.restore()}function Jb(n,e,t,i,s){if(!e)return n.lineTo(t.x,t.y);if(s==="middle"){const o=(e.x+t.x)/2;n.lineTo(o,e.y),n.lineTo(o,t.y)}else s==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function Gb(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function Kb(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Ee(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function Zb(n,e,t,i,s){if(s.strikethrough||s.underline){const o=n.measureText(i),l=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,h=t-o.actualBoundingBoxAscent,d=t+o.actualBoundingBoxDescent,p=s.strikethrough?(h+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function Qb(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Cs(n,e,t,i,s,o={}){const l=He(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let h,d;for(n.save(),n.font=s.string,Kb(n,o),h=0;h<l.length;++h)d=l[h],o.backdrop&&Qb(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Ee(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,t,i,o.maxWidth)),n.fillText(d,t,i,o.maxWidth),Zb(n,t,i,d,o),i+=Number(s.lineHeight);n.restore()}function Qo(n,e){const{x:t,y:i,w:s,h:o,radius:l}=e;n.arc(t+l.topLeft,i+l.topLeft,l.topLeft,1.5*qe,qe,!0),n.lineTo(t,i+o-l.bottomLeft),n.arc(t+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,qe,it,!0),n.lineTo(t+s-l.bottomRight,i+o),n.arc(t+s-l.bottomRight,i+o-l.bottomRight,l.bottomRight,it,0,!0),n.lineTo(t+s,i+l.topRight),n.arc(t+s-l.topRight,i+l.topRight,l.topRight,0,-it,!0),n.lineTo(t+l.topLeft,i)}const ek=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,tk=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function nk(n,e){const t=(""+n).match(ek);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const ik=n=>+n||0;function fd(n,e){const t={},i=Ie(e),s=i?Object.keys(e):e,o=Ie(n)?i?l=>_e(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of s)t[l]=ik(o(l));return t}function Hy(n){return fd(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Es(n){return fd(n,["topLeft","topRight","bottomLeft","bottomRight"])}function _t(n){const e=Hy(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ot(n,e){n=n||{},e=e||Ye.font;let t=_e(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=_e(n.style,e.style);i&&!(""+i).match(tk)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:_e(n.family,e.family),lineHeight:nk(_e(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:_e(n.weight,e.weight),string:""};return s.string=qb(s),s}function Ve(n,e,t,i){let s,o,l;for(s=0,o=n.length;s<o;++s)if(l=n[s],l!==void 0&&(e!==void 0&&typeof l=="function"&&(l=l(e)),t!==void 0&&He(l)&&(l=l[t%l.length]),l!==void 0))return l}function sk(n,e,t){const{min:i,max:s}=n,o=Iy(e,(s-i)/2),l=(u,h)=>t&&u===0?0:u+h;return{min:l(i,-Math.abs(o)),max:l(s,o)}}function Gi(n,e){return Object.assign(Object.create(n),e)}function pd(n,e=[""],t,i,s=()=>n[0]){const o=t||n;typeof i>"u"&&(i=Xy("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:s,override:u=>pd([u,...n],e,o,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return Yy(u,h,()=>dk(h,e,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return jg(u).includes(h)},ownKeys(u){return jg(u)},set(u,h,d){const p=u._storage||(u._storage=s());return u[h]=p[h]=d,delete u._keys,!0}})}function Cr(n,e,t,i){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Wy(n,i),setContext:o=>Cr(n,o,t,i),override:o=>Cr(n.override(o),e,t,i)};return new Proxy(s,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return Yy(o,l,()=>ok(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function Wy(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:t,indexable:i,isScriptable:qi(t)?t:()=>t,isIndexable:qi(i)?i:()=>i}}const rk=(n,e)=>n?n+ld(e):e,gd=(n,e)=>Ie(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Yy(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function ok(n,e,t){const{_proxy:i,_context:s,_subProxy:o,_descriptors:l}=n;let u=i[e];return qi(u)&&l.isScriptable(e)&&(u=ak(e,u,n,t)),He(u)&&u.length&&(u=lk(e,u,n,l.isIndexable)),gd(e,u)&&(u=Cr(u,s,o&&o[e],l)),u}function ak(n,e,t,i){const{_proxy:s,_context:o,_subProxy:l,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=e(o,l||i);return u.delete(n),gd(n,h)&&(h=md(s._scopes,s,n,h)),h}function lk(n,e,t,i){const{_proxy:s,_context:o,_subProxy:l,_descriptors:u}=t;if(typeof o.index<"u"&&i(n))return e[o.index%e.length];if(Ie(e[0])){const h=e,d=s._scopes.filter(p=>p!==h);e=[];for(const p of h){const m=md(d,s,n,p);e.push(Cr(m,o,l&&l[n],u))}}return e}function qy(n,e,t){return qi(n)?n(e,t):n}const uk=(n,e)=>n===!0?e:typeof n=="string"?Yi(e,n):void 0;function ck(n,e,t,i,s){for(const o of e){const l=uk(t,o);if(l){n.add(l);const u=qy(l._fallback,t,s);if(typeof u<"u"&&u!==t&&u!==i)return u}else if(l===!1&&typeof i<"u"&&t!==i)return null}return!1}function md(n,e,t,i){const s=e._rootScopes,o=qy(e._fallback,t,i),l=[...n,...s],u=new Set;u.add(i);let h=Ng(u,l,t,o||t,i);return h===null||typeof o<"u"&&o!==t&&(h=Ng(u,l,o,h,i),h===null)?!1:pd(Array.from(u),[""],s,o,()=>hk(e,t,i))}function Ng(n,e,t,i,s){for(;t;)t=ck(n,e,t,i,s);return t}function hk(n,e,t){const i=n._getTarget();e in i||(i[e]={});const s=i[e];return He(s)&&Ie(t)?t:s||{}}function dk(n,e,t,i){let s;for(const o of e)if(s=Xy(rk(o,n),t),typeof s<"u")return gd(n,s)?md(t,i,n,s):s}function Xy(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function jg(n){let e=n._keys;return e||(e=n._keys=fk(n._scopes)),e}function fk(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function Jy(n,e,t,i){const{iScale:s}=n,{key:o="r"}=this._parsing,l=new Array(i);let u,h,d,p;for(u=0,h=i;u<h;++u)d=u+t,p=e[d],l[u]={r:s.parse(Yi(p,o),d)};return l}const pk=Number.EPSILON||1e-14,Mr=(n,e)=>e<n.length&&!n[e].skip&&n[e],Gy=n=>n==="x"?"y":"x";function gk(n,e,t,i){const s=n.skip?e:n,o=e,l=t.skip?e:t,u=Oh(o,s),h=Oh(l,o);let d=u/(u+h),p=h/(u+h);d=isNaN(d)?0:d,p=isNaN(p)?0:p;const m=i*d,v=i*p;return{previous:{x:o.x-m*(l.x-s.x),y:o.y-m*(l.y-s.y)},next:{x:o.x+v*(l.x-s.x),y:o.y+v*(l.y-s.y)}}}function mk(n,e,t){const i=n.length;let s,o,l,u,h,d=Mr(n,0);for(let p=0;p<i-1;++p)if(h=d,d=Mr(n,p+1),!(!h||!d)){if(Ss(e[p],0,pk)){t[p]=t[p+1]=0;continue}s=t[p]/e[p],o=t[p+1]/e[p],u=Math.pow(s,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),t[p]=s*l*e[p],t[p+1]=o*l*e[p])}}function yk(n,e,t="x"){const i=Gy(t),s=n.length;let o,l,u,h=Mr(n,0);for(let d=0;d<s;++d){if(l=u,u=h,h=Mr(n,d+1),!u)continue;const p=u[t],m=u[i];l&&(o=(p-l[t])/3,u[`cp1${t}`]=p-o,u[`cp1${i}`]=m-o*e[d]),h&&(o=(h[t]-p)/3,u[`cp2${t}`]=p+o,u[`cp2${i}`]=m+o*e[d])}}function vk(n,e="x"){const t=Gy(e),i=n.length,s=Array(i).fill(0),o=Array(i);let l,u,h,d=Mr(n,0);for(l=0;l<i;++l)if(u=h,h=d,d=Mr(n,l+1),!!h){if(d){const p=d[e]-h[e];s[l]=p!==0?(d[t]-h[t])/p:0}o[l]=u?d?un(s[l-1])!==un(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}mk(n,s,o),yk(n,o,e)}function Ml(n,e,t){return Math.max(Math.min(n,t),e)}function _k(n,e){let t,i,s,o,l,u=jn(n[0],e);for(t=0,i=n.length;t<i;++t)l=o,o=u,u=t<i-1&&jn(n[t+1],e),o&&(s=n[t],l&&(s.cp1x=Ml(s.cp1x,e.left,e.right),s.cp1y=Ml(s.cp1y,e.top,e.bottom)),u&&(s.cp2x=Ml(s.cp2x,e.left,e.right),s.cp2y=Ml(s.cp2y,e.top,e.bottom)))}function xk(n,e,t,i,s){let o,l,u,h;if(e.spanGaps&&(n=n.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")vk(n,s);else{let d=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)u=n[o],h=gk(d,u,n[Math.min(o+1,l-(i?0:1))%l],e.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,d=u}e.capBezierPoints&&_k(n,t)}function yd(){return typeof window<"u"&&typeof document<"u"}function vd(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function nu(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const cu=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function wk(n,e){return cu(n).getPropertyValue(e)}const bk=["top","right","bottom","left"];function Ts(n,e,t){const i={};t=t?"-"+t:"";for(let s=0;s<4;s++){const o=bk[s];i[o]=parseFloat(n[e+"-"+o+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const kk=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Sk(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:s,offsetY:o}=i;let l=!1,u,h;if(kk(s,o,n.target))u=s,h=o;else{const d=e.getBoundingClientRect();u=i.clientX-d.left,h=i.clientY-d.top,l=!0}return{x:u,y:h,box:l}}function Nn(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,s=cu(t),o=s.boxSizing==="border-box",l=Ts(s,"padding"),u=Ts(s,"border","width"),{x:h,y:d,box:p}=Sk(n,t),m=l.left+(p&&u.left),v=l.top+(p&&u.top);let{width:_,height:b}=e;return o&&(_-=l.width+u.width,b-=l.height+u.height),{x:Math.round((h-m)/_*t.width/i),y:Math.round((d-v)/b*t.height/i)}}function Ek(n,e,t){let i,s;if(e===void 0||t===void 0){const o=n&&vd(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const l=o.getBoundingClientRect(),u=cu(o),h=Ts(u,"border","width"),d=Ts(u,"padding");e=l.width-d.width-h.width,t=l.height-d.height-h.height,i=nu(u.maxWidth,o,"clientWidth"),s=nu(u.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:i||eu,maxHeight:s||eu}}const Ol=n=>Math.round(n*10)/10;function Tk(n,e,t,i){const s=cu(n),o=Ts(s,"margin"),l=nu(s.maxWidth,n,"clientWidth")||eu,u=nu(s.maxHeight,n,"clientHeight")||eu,h=Ek(n,e,t);let{width:d,height:p}=h;if(s.boxSizing==="content-box"){const v=Ts(s,"border","width"),_=Ts(s,"padding");d-=_.width+v.width,p-=_.height+v.height}return d=Math.max(0,d-o.width),p=Math.max(0,i?d/i:p-o.height),d=Ol(Math.min(d,l,h.maxWidth)),p=Ol(Math.min(p,u,h.maxHeight)),d&&!p&&(p=Ol(d/2)),(e!==void 0||t!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,d=Ol(Math.floor(p*i))),{width:d,height:p}}function zg(n,e,t){const i=e||1,s=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==s||l.width!==o?(n.currentDevicePixelRatio=i,l.height=s,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Pk=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};yd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Fg(n,e){const t=wk(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ws(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function Ck(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function Mk(n,e,t,i){const s={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},l=ws(n,s,t),u=ws(s,o,t),h=ws(o,e,t),d=ws(l,u,t),p=ws(u,h,t);return ws(d,p,t)}const Ok=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},Ak=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Sr(n,e,t){return n?Ok(e,t):Ak()}function Ky(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function Zy(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Qy(n){return n==="angle"?{between:Zo,compare:Ib,normalize:Qt}:{between:ri,compare:(e,t)=>e-t,normalize:e=>e}}function $g({start:n,end:e,count:t,loop:i,style:s}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:s}}function Ik(n,e,t){const{property:i,start:s,end:o}=t,{between:l,normalize:u}=Qy(i),h=e.length;let{start:d,end:p,loop:m}=n,v,_;if(m){for(d+=h,p+=h,v=0,_=h;v<_&&l(u(e[d%h][i]),s,o);++v)d--,p--;d%=h,p%=h}return p<d&&(p+=h),{start:d,end:p,loop:m,style:n.style}}function ev(n,e,t){if(!t)return[n];const{property:i,start:s,end:o}=t,l=e.length,{compare:u,between:h,normalize:d}=Qy(i),{start:p,end:m,loop:v,style:_}=Ik(n,e,t),b=[];let k=!1,E=null,T,M,R;const N=()=>h(s,R,T)&&u(s,R)!==0,L=()=>u(o,T)===0||h(o,R,T),B=()=>k||N(),U=()=>!k||L();for(let q=p,ee=p;q<=m;++q)M=e[q%l],!M.skip&&(T=d(M[i]),T!==R&&(k=h(T,s,o),E===null&&B()&&(E=u(T,s)===0?q:ee),E!==null&&U()&&(b.push($g({start:E,end:q,loop:v,count:l,style:_})),E=null),ee=q,R=T));return E!==null&&b.push($g({start:E,end:m,loop:v,count:l,style:_})),b}function tv(n,e){const t=[],i=n.segments;for(let s=0;s<i.length;s++){const o=ev(i[s],n.points,e);o.length&&t.push(...o)}return t}function Dk(n,e,t,i){let s=0,o=e-1;if(t&&!i)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,t&&(o+=s);o>s&&n[o%e].skip;)o--;return o%=e,{start:s,end:o}}function Rk(n,e,t,i){const s=n.length,o=[];let l=e,u=n[e],h;for(h=e+1;h<=t;++h){const d=n[h%s];d.skip||d.stop?u.skip||(i=!1,o.push({start:e%s,end:(h-1)%s,loop:i}),e=l=d.stop?h:null):(l=h,u.skip&&(e=h)),u=d}return l!==null&&o.push({start:e%s,end:l%s,loop:i}),o}function Lk(n,e){const t=n.points,i=n.options.spanGaps,s=t.length;if(!s)return[];const o=!!n._loop,{start:l,end:u}=Dk(t,s,o,i);if(i===!0)return Bg(n,[{start:l,end:u,loop:o}],t,e);const h=u<l?u+s:u,d=!!n._fullLoop&&l===0&&u===s-1;return Bg(n,Rk(t,l,h,d),t,e)}function Bg(n,e,t,i){return!i||!i.setContext||!t?e:Nk(n,e,t,i)}function Nk(n,e,t,i){const s=n._chart.getContext(),o=Ug(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,h=t.length,d=[];let p=o,m=e[0].start,v=m;function _(b,k,E,T){const M=u?-1:1;if(b!==k){for(b+=h;t[b%h].skip;)b-=M;for(;t[k%h].skip;)k+=M;b%h!==k%h&&(d.push({start:b%h,end:k%h,loop:E,style:T}),p=T,m=k%h)}}for(const b of e){m=u?m:b.start;let k=t[m%h],E;for(v=m+1;v<=b.end;v++){const T=t[v%h];E=Ug(i.setContext(Gi(s,{type:"segment",p0:k,p1:T,p0DataIndex:(v-1)%h,p1DataIndex:v%h,datasetIndex:l}))),jk(E,p)&&_(m,v-1,b.loop,p),k=T,p=E}m<v-1&&_(m,v-1,b.loop,p)}return d}function Ug(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function jk(n,e){if(!e)return!1;const t=[],i=function(s,o){return dd(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function Al(n,e,t){return n.options.clip?n[t]:e[t]}function zk(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:Al(t,e,"left"),right:Al(t,e,"right"),top:Al(i,e,"top"),bottom:Al(i,e,"bottom")}:e}function nv(n,e){const t=e._clip;if(t.disabled)return!1;const i=zk(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Fk{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,s){const o=t.listeners[s],l=t.duration;o.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(i-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=zy.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,h;for(;l>=0;--l)h=o[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),u=!0):(o[l]=o[o.length-1],o.pop());u&&(s.draw(),this._notify(s,i,e,"progress")),o.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ti=new Fk;const Vg="transparent",$k={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=Dg(n||Vg),s=i.valid&&Dg(e||Vg);return s&&s.valid?s.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class Bk{constructor(e,t,i,s){const o=t[i];s=Ve([e.to,s,o,e.from]);const l=Ve([e.from,o,s]);this._active=!0,this._fn=e.fn||$k[e.type||typeof l],this._easing=$o[e.easing]||$o.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Ve([e.to,t,s,e.from]),this._from=Ve([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,s=this._prop,o=this._from,l=this._loop,u=this._to;let h;if(this._active=o!==u&&(l||t<i),!this._active){this._target[s]=u,this._notify(!0);return}if(t<0){this._target[s]=o;return}h=t/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(o,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][t]()}}class iv{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ie(e))return;const t=Object.keys(Ye.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const o=e[s];if(!Ie(o))return;const l={};for(const u of t)l[u]=o[u];(He(o.properties)&&o.properties||[s]).forEach(u=>{(u===s||!i.has(u))&&i.set(u,l)})})}_animateOptions(e,t){const i=t.options,s=Vk(e,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&Uk(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,t){const i=this._properties,s=[],o=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const d=l[h];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(e,t));continue}const p=t[d];let m=o[d];const v=i.get(d);if(m)if(v&&m.active()){m.update(v,p,u);continue}else m.cancel();if(!v||!v.duration){e[d]=p;continue}o[d]=m=new Bk(v,e,d,p),s.push(m)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return ti.add(this._chart,i),!0}}function Uk(n,e){const t=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const o=n[i[s]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function Vk(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Hg(n,e){const t=n&&n.options||{},i=t.reverse,s=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:i?o:s,end:i?s:o}}function Hk(n,e,t){if(t===!1)return!1;const i=Hg(n,t),s=Hg(e,t);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function Wk(n){let e,t,i,s;return Ie(n)?(e=n.top,t=n.right,i=n.bottom,s=n.left):e=t=i=s=n,{top:e,right:t,bottom:i,left:s,disabled:n===!1}}function sv(n,e){const t=[],i=n._getSortedDatasetMetas(e);let s,o;for(s=0,o=i.length;s<o;++s)t.push(i[s].index);return t}function Wg(n,e,t,i={}){const s=n.keys,o=i.mode==="single";let l,u,h,d;if(e===null)return;let p=!1;for(l=0,u=s.length;l<u;++l){if(h=+s[l],h===t){if(p=!0,i.all)continue;break}d=n.values[h],Qe(d)&&(o||e===0||un(e)===un(d))&&(e+=d)}return!p&&!i.all?0:e}function Yk(n,e){const{iScale:t,vScale:i}=e,s=t.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,d,p;for(h=0,d=l.length;h<d;++h)p=l[h],u[h]={[s]:p,[o]:n[p]};return u}function lh(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function qk(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function Xk(n){const{min:e,max:t,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function Jk(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function Yg(n,e,t,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const o=n[s.index];if(t&&o>0||!t&&o<0)return s.index}return null}function qg(n,e){const{chart:t,_cachedMeta:i}=n,s=t._stacks||(t._stacks={}),{iScale:o,vScale:l,index:u}=i,h=o.axis,d=l.axis,p=qk(o,l,i),m=e.length;let v;for(let _=0;_<m;++_){const b=e[_],{[h]:k,[d]:E}=b,T=b._stacks||(b._stacks={});v=T[d]=Jk(s,p,k),v[u]=E,v._top=Yg(v,l,!0,i.type),v._bottom=Yg(v,l,!1,i.type);const M=v._visualValues||(v._visualValues={});M[u]=E}}function uh(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function Gk(n,e){return Gi(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Kk(n,e,t){return Gi(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Eo(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const s of e){const o=s._stacks;if(!o||o[i]===void 0||o[i][t]===void 0)return;delete o[i][t],o[i]._visualValues!==void 0&&o[i]._visualValues[t]!==void 0&&delete o[i]._visualValues[t]}}}const ch=n=>n==="reset"||n==="none",Xg=(n,e)=>e?n:Object.assign({},n),Zk=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:sv(t,!0),values:null};class wn{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=lh(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Eo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),s=(m,v,_,b)=>m==="x"?v:m==="r"?b:_,o=t.xAxisID=_e(i.xAxisID,uh(e,"x")),l=t.yAxisID=_e(i.yAxisID,uh(e,"y")),u=t.rAxisID=_e(i.rAxisID,uh(e,"r")),h=t.indexAxis,d=t.iAxisID=s(h,o,l,u),p=t.vAxisID=s(h,l,o,u);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Og(this._data,this),e._stacked&&Eo(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Ie(t)){const s=this._cachedMeta;this._data=Yk(t,s)}else if(i!==t){if(i){Og(i,this);const s=this._cachedMeta;Eo(s),s._parsed=[]}t&&Object.isExtensible(t)&&Nb(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=t._stacked;t._stacked=lh(t.vScale,t),t.stack!==i.stack&&(s=!0,Eo(t),t.stack=i.stack),this._resyncElements(e),(s||o!==t._stacked)&&(qg(this,t._parsed),t._stacked=lh(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:l}=i,u=o.axis;let h=e===0&&t===s.length?!0:i._sorted,d=e>0&&i._parsed[e-1],p,m,v;if(this._parsing===!1)i._parsed=s,i._sorted=!0,v=s;else{He(s[e])?v=this.parseArrayData(i,s,e,t):Ie(s[e])?v=this.parseObjectData(i,s,e,t):v=this.parsePrimitiveData(i,s,e,t);const _=()=>m[u]===null||d&&m[u]<d[u];for(p=0;p<t;++p)i._parsed[p+e]=m=v[p],h&&(_()&&(h=!1),d=m);i._sorted=h}l&&qg(this,v)}parsePrimitiveData(e,t,i,s){const{iScale:o,vScale:l}=e,u=o.axis,h=l.axis,d=o.getLabels(),p=o===l,m=new Array(s);let v,_,b;for(v=0,_=s;v<_;++v)b=v+i,m[v]={[u]:p||o.parse(d[b],b),[h]:l.parse(t[b],b)};return m}parseArrayData(e,t,i,s){const{xScale:o,yScale:l}=e,u=new Array(s);let h,d,p,m;for(h=0,d=s;h<d;++h)p=h+i,m=t[p],u[h]={x:o.parse(m[0],p),y:l.parse(m[1],p)};return u}parseObjectData(e,t,i,s){const{xScale:o,yScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,d=new Array(s);let p,m,v,_;for(p=0,m=s;p<m;++p)v=p+i,_=t[v],d[p]={x:o.parse(Yi(_,u),v),y:l.parse(Yi(_,h),v)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const s=this.chart,o=this._cachedMeta,l=t[e.axis],u={keys:sv(s,!0),values:t._stacks[e.axis]._visualValues};return Wg(u,l,o.index,{mode:i})}updateRangeFromParsed(e,t,i,s){const o=i[t.axis];let l=o===null?NaN:o;const u=s&&i._stacks[t.axis];s&&u&&(s.values=u,l=Wg(s,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&e===i.iScale,l=s.length,u=this._getOtherScale(e),h=Zk(t,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:m}=Xk(u);let v,_;function b(){_=s[v];const k=_[u.axis];return!Qe(_[e.axis])||p>k||m<k}for(v=0;v<l&&!(!b()&&(this.updateRangeFromParsed(d,e,_,h),o));++v);if(o){for(v=l-1;v>=0;--v)if(!b()){this.updateRangeFromParsed(d,e,_,h);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let s,o,l;for(s=0,o=t.length;s<o;++s)l=t[s][e.axis],Qe(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,s=t.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=Wk(_e(this.options.clip,Hk(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,s=i.data||[],o=t.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||s.length-u,d=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,o,u,h),p=u;p<u+h;++p){const m=s[p];m.hidden||(m.active&&d?l.push(m):m.draw(e,o))}for(p=0;p<l.length;++p)l[p].draw(e,o)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const s=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];o=l.$context||(l.$context=Kk(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=s.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=Gk(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const s=t==="active",o=this._cachedDataOpts,l=e+"-"+t,u=o[l],h=this.enableOptionSharing&&Ko(i);if(u)return Xg(u,h);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,e),m=s?[`${e}Hover`,"hover",e,""]:[e,""],v=d.getOptionScopes(this.getDataset(),p),_=Object.keys(Ye.elements[e]),b=()=>this.getContext(i,s,t),k=d.resolveNamedOptions(v,_,b,m);return k.$shared&&(k.$shared=h,o[l]=Object.freeze(Xg(k,h))),k}_resolveAnimations(e,t,i){const s=this.chart,o=this._cachedDataOpts,l=`animation-${t}`,u=o[l];if(u)return u;let h;if(s.options.animation!==!1){const p=this.chart.config,m=p.datasetAnimationScopeKeys(this._type,t),v=p.getOptionScopes(this.getDataset(),m);h=p.createResolver(v,this.getContext(e,i,t))}const d=new iv(s,h&&h.animations);return h&&h._cacheable&&(o[l]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||ch(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),s=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(t,o)||o!==s;return this.updateSharedOptions(o,t,i),{sharedOptions:o,includeOptions:l}}updateElement(e,t,i,s){ch(s)?Object.assign(e,i):this._resolveAnimations(t,s).update(e,i)}updateSharedOptions(e,t,i){e&&!ch(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,s){e.active=s;const o=this.getStyle(t,s);this._resolveAnimations(t,i,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[u,h,d]of this._syncList)this[u](h,d);this._syncList=[];const s=i.length,o=t.length,l=Math.min(o,s);l&&this.parse(0,l),o>s?this._insertElements(s,o-s,e):o<s&&this._removeElements(o,s-o)}_insertElements(e,t,i=!0){const s=this._cachedMeta,o=s.data,l=e+t;let u;const h=d=>{for(d.length+=t,u=d.length-1;u>=l;u--)d[u]=d[u-t]};for(h(o),u=e;u<l;++u)o[u]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(e,t),i&&this.updateElements(o,e,t,"reset")}updateElements(e,t,i,s){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,t);i._stacked&&Eo(i,s)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,s]=e;this[t](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Z(wn,"defaults",{}),Z(wn,"datasetElementType",null),Z(wn,"dataElementType",null);function Qk(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let s=0,o=t.length;s<o;s++)i=i.concat(t[s].controller.getAllParsedValues(n));n._cache.$bar=jy(i.sort((s,o)=>s-o))}return n._cache.$bar}function eS(n){const e=n.iScale,t=Qk(e,n.type);let i=e._length,s,o,l,u;const h=()=>{l===32767||l===-32768||(Ko(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(s=0,o=t.length;s<o;++s)l=e.getPixelForValue(t[s]),h();for(u=void 0,s=0,o=e.ticks.length;s<o;++s)l=e.getPixelForTick(s),h();return i}function tS(n,e,t,i){const s=t.barThickness;let o,l;return Ee(s)?(o=e.min*t.categoryPercentage,l=t.barPercentage):(o=s*i,l=1),{chunk:o/i,ratio:l,start:e.pixels[n]-o/2}}function nS(n,e,t,i){const s=e.pixels,o=s[n];let l=n>0?s[n-1]:null,u=n<s.length-1?s[n+1]:null;const h=t.categoryPercentage;l===null&&(l=o-(u===null?e.end-e.start:u-o)),u===null&&(u=o+o-l);const d=o-(o-Math.min(l,u))/2*h;return{chunk:Math.abs(u-l)/2*h/i,ratio:t.barPercentage,start:d}}function iS(n,e,t,i){const s=t.parse(n[0],i),o=t.parse(n[1],i),l=Math.min(s,o),u=Math.max(s,o);let h=l,d=u;Math.abs(l)>Math.abs(u)&&(h=u,d=l),e[t.axis]=d,e._custom={barStart:h,barEnd:d,start:s,end:o,min:l,max:u}}function rv(n,e,t,i){return He(n)?iS(n,e,t,i):e[t.axis]=t.parse(n,i),e}function Jg(n,e,t,i){const s=n.iScale,o=n.vScale,l=s.getLabels(),u=s===o,h=[];let d,p,m,v;for(d=t,p=t+i;d<p;++d)v=e[d],m={},m[s.axis]=u||s.parse(l[d],d),h.push(rv(v,m,o,d));return h}function hh(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function sS(n,e,t){return n!==0?un(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function rS(n){let e,t,i,s,o;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(s="end",o="start"):(s="start",o="end"),{start:t,end:i,reverse:e,top:s,bottom:o}}function oS(n,e,t,i){let s=e.borderSkipped;const o={};if(!s){n.borderSkipped=o;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:h,top:d,bottom:p}=rS(n);s==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?s=d:(t._bottom||0)===i?s=p:(o[Gg(p,l,u,h)]=!0,s=d)),o[Gg(s,l,u,h)]=!0,n.borderSkipped=o}function Gg(n,e,t,i){return i?(n=aS(n,e,t),n=Kg(n,t,e)):n=Kg(n,e,t),n}function aS(n,e,t){return n===e?t:n===t?e:n}function Kg(n,e,t){return n==="start"?e:n==="end"?t:n}function lS(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class Hl extends wn{parsePrimitiveData(e,t,i,s){return Jg(e,t,i,s)}parseArrayData(e,t,i,s){return Jg(e,t,i,s)}parseObjectData(e,t,i,s){const{iScale:o,vScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,d=o.axis==="x"?u:h,p=l.axis==="x"?u:h,m=[];let v,_,b,k;for(v=i,_=i+s;v<_;++v)k=t[v],b={},b[o.axis]=o.parse(Yi(k,d),v),m.push(rv(Yi(k,p),b,l,v));return m}updateRangeFromParsed(e,t,i,s){super.updateRangeFromParsed(e,t,i,s);const o=i._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:s}=t,o=this.getParsed(e),l=o._custom,u=hh(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,s){const o=s==="reset",{index:l,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),d=u.isHorizontal(),p=this._getRuler(),{sharedOptions:m,includeOptions:v}=this._getSharedOptions(t,s);for(let _=t;_<t+i;_++){const b=this.getParsed(_),k=o||Ee(b[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(_),E=this._calculateBarIndexPixels(_,p),T=(b._stacks||{})[u.axis],M={horizontal:d,base:k.base,enableBorderRadius:!T||hh(b._custom)||l===T._top||l===T._bottom,x:d?k.head:E.center,y:d?E.center:k.head,height:d?E.size:Math.abs(k.size),width:d?Math.abs(k.size):E.size};v&&(M.options=m||this.resolveDataElementOptions(_,e[_].active?"active":s));const R=M.options||e[_].options;oS(M,R,T,l),lS(M,R,p.ratio),this.updateElement(e[_],_,M,s)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(t),h=u&&u[i.axis],d=p=>{const m=p._parsed.find(_=>_[i.axis]===h),v=m&&m[p.vScale.axis];if(Ee(v)||isNaN(v))return!0};for(const p of s)if(!(t!==void 0&&d(p))&&((o===!1||l.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const s=this._getStacks(e,i),o=t!==void 0?s.indexOf(t):-1;return o===-1?s.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,s=[];let o,l;for(o=0,l=t.data.length;o<l;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=e.barThickness;return{min:u||eS(t),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:s},options:{base:o,minBarLength:l}}=this,u=o||0,h=this.getParsed(e),d=h._custom,p=hh(d);let m=h[t.axis],v=0,_=i?this.applyStack(t,h,i):m,b,k;_!==m&&(v=_-m,_=m),p&&(m=d.barStart,_=d.barEnd-d.barStart,m!==0&&un(m)!==un(d.barEnd)&&(v=0),v+=m);const E=!Ee(o)&&!p?o:v;let T=t.getPixelForValue(E);if(this.chart.getDataVisibility(e)?b=t.getPixelForValue(v+_):b=T,k=b-T,Math.abs(k)<l){k=sS(k,t,u)*l,m===u&&(T-=k/2);const M=t.getPixelForDecimal(0),R=t.getPixelForDecimal(1),N=Math.min(M,R),L=Math.max(M,R);T=Math.max(Math.min(T,L),N),b=T+k,i&&!p&&(h._stacks[t.axis]._visualValues[s]=t.getValueForPixel(b)-t.getValueForPixel(T))}if(T===t.getPixelForValue(u)){const M=un(k)*t.getLineWidthForValue(u)/2;T+=M,k-=M}return{size:k,base:T,head:b,center:b+k/2}}_calculateBarIndexPixels(e,t){const i=t.scale,s=this.options,o=s.skipNull,l=_e(s.maxBarThickness,1/0);let u,h;if(t.grouped){const d=o?this._getStackCount(e):t.stackCount,p=s.barThickness==="flex"?nS(e,t,s,d):tS(e,t,s,d),m=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);u=p.start+p.chunk*m+p.chunk/2,h=Math.min(l,p.chunk*p.ratio)}else u=i.getPixelForValue(this.getParsed(e)[i.axis],e),h=Math.min(l,t.min*t.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,s=i.length;let o=0;for(;o<s;++o)this.getParsed(o)[t.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}Z(Hl,"id","bar"),Z(Hl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Z(Hl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Wl extends wn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,s){const o=super.parsePrimitiveData(e,t,i,s);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+i).radius;return o}parseArrayData(e,t,i,s){const o=super.parseArrayData(e,t,i,s);for(let l=0;l<o.length;l++){const u=t[i+l];o[l]._custom=_e(u[2],this.resolveDataElementOptions(l+i).radius)}return o}parseObjectData(e,t,i,s){const o=super.parseObjectData(e,t,i,s);for(let l=0;l<o.length;l++){const u=t[i+l];o[l]._custom=_e(u&&u.r&&+u.r,this.resolveDataElementOptions(l+i).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=t,l=this.getParsed(e),u=s.getLabelForValue(l.x),h=o.getLabelForValue(l.y),d=l._custom;return{label:i[e]||"",value:"("+u+", "+h+(d?", "+d:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,s){const o=s==="reset",{iScale:l,vScale:u}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(t,s),p=l.axis,m=u.axis;for(let v=t;v<t+i;v++){const _=e[v],b=!o&&this.getParsed(v),k={},E=k[p]=o?l.getPixelForDecimal(.5):l.getPixelForValue(b[p]),T=k[m]=o?u.getBasePixel():u.getPixelForValue(b[m]);k.skip=isNaN(E)||isNaN(T),d&&(k.options=h||this.resolveDataElementOptions(v,_.active?"active":s),o&&(k.options.radius=0)),this.updateElement(_,v,k,s)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,t);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return t!=="active"&&(s.radius=0),s.radius+=_e(i&&i._custom,o),s}}Z(Wl,"id","bubble"),Z(Wl,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Z(Wl,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function uS(n,e,t){let i=1,s=1,o=0,l=0;if(e<We){const u=n,h=u+e,d=Math.cos(u),p=Math.sin(u),m=Math.cos(h),v=Math.sin(h),_=(R,N,L)=>Zo(R,u,h,!0)?1:Math.max(N,N*t,L,L*t),b=(R,N,L)=>Zo(R,u,h,!0)?-1:Math.min(N,N*t,L,L*t),k=_(0,d,m),E=_(it,p,v),T=b(qe,d,m),M=b(qe+it,p,v);i=(k-T)/2,s=(E-M)/2,o=-(k+T)/2,l=-(E+M)/2}return{ratioX:i,ratioY:s,offsetX:o,offsetY:l}}class ks extends wn{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let o=h=>+i[h];if(Ie(i[e])){const{key:h="value"}=this._parsing;o=d=>+Yi(i[d],h)}let l,u;for(l=e,u=e+t;l<u;++l)s._parsed[l]=o(l)}}_getRotation(){return xn(this.options.rotation-90)}_getCircumference(){return xn(this.options.circumference)}_getRotationExtents(){let e=We,t=-We;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),l=s._getCircumference();e=Math.min(e,o),t=Math.max(t,o+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,s=this._cachedMeta,o=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(wb(this.options.cutout,u),1),d=this._getRingWeight(this.index),{circumference:p,rotation:m}=this._getRotationExtents(),{ratioX:v,ratioY:_,offsetX:b,offsetY:k}=uS(m,p,h),E=(i.width-l)/v,T=(i.height-l)/_,M=Math.max(Math.min(E,T)/2,0),R=Iy(this.options.radius,M),N=Math.max(R*h,0),L=(R-N)/this._getVisibleDatasetWeightTotal();this.offsetX=b*R,this.offsetY=k*R,s.total=this.calculateTotal(),this.outerRadius=R-L*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-L*d,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const i=this.options,s=this._cachedMeta,o=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*o/We)}updateElements(e,t,i,s){const o=s==="reset",l=this.chart,u=l.chartArea,d=l.options.animation,p=(u.left+u.right)/2,m=(u.top+u.bottom)/2,v=o&&d.animateScale,_=v?0:this.innerRadius,b=v?0:this.outerRadius,{sharedOptions:k,includeOptions:E}=this._getSharedOptions(t,s);let T=this._getRotation(),M;for(M=0;M<t;++M)T+=this._circumference(M,o);for(M=t;M<t+i;++M){const R=this._circumference(M,o),N=e[M],L={x:p+this.offsetX,y:m+this.offsetY,startAngle:T,endAngle:T+R,circumference:R,outerRadius:b,innerRadius:_};E&&(L.options=k||this.resolveDataElementOptions(M,N.active?"active":s)),T+=R,this.updateElement(N,M,L,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,s;for(s=0;s<t.length;s++){const o=e._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!t[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?We*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=oa(t._parsed[e],i.options.locale);return{label:s[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const i=this.chart;let s,o,l,u,h;if(!e){for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){l=i.getDatasetMeta(s),e=l.data,u=l.controller;break}}if(!e)return 0;for(s=0,o=e.length;s<o;++s)h=u.resolveDataElementOptions(s),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,s=e.length;i<s;++i){const o=this.resolveDataElementOptions(i);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(_e(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Z(ks,"id","doughnut"),Z(ks,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Z(ks,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Z(ks,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return t.labels.map((o,l)=>{const h=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class Yl extends wn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:s=[],_dataset:o}=t,l=this.chart._animationsDisabled;let{start:u,count:h}=$y(t,s,l);this._drawStart=u,this._drawCount=h,By(t)&&(u=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=s;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:d},e),this.updateElements(s,u,h,e)}updateElements(e,t,i,s){const o=s==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:d}=this._cachedMeta,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(t,s),v=l.axis,_=u.axis,{spanGaps:b,segment:k}=this.options,E=Pr(b)?b:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||o||s==="none",M=t+i,R=e.length;let N=t>0&&this.getParsed(t-1);for(let L=0;L<R;++L){const B=e[L],U=T?B:{};if(L<t||L>=M){U.skip=!0;continue}const q=this.getParsed(L),ee=Ee(q[_]),ue=U[v]=l.getPixelForValue(q[v],L),ce=U[_]=o||ee?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,q,h):q[_],L);U.skip=isNaN(ue)||isNaN(ce)||ee,U.stop=L>0&&Math.abs(q[v]-N[v])>E,k&&(U.parsed=q,U.raw=d.data[L]),m&&(U.options=p||this.resolveDataElementOptions(L,B.active?"active":s)),T||this.updateElement(B,L,U,s),N=q}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Z(Yl,"id","line"),Z(Yl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Z(Yl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Uo extends wn{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=oa(t._parsed[e].r,i.options.locale);return{label:s[e]||"",value:o}}parseObjectData(e,t,i,s){return Jy.bind(this)(e,t,i,s)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<t.min&&(t.min=o),o>t.max&&(t.max=o))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,s=Math.min(t.right-t.left,t.bottom-t.top),o=Math.max(s/2,0),l=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),u=(o-l)/e.getVisibleDatasetCount();this.outerRadius=o-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(e,t,i,s){const o=s==="reset",l=this.chart,h=l.options.animation,d=this._cachedMeta.rScale,p=d.xCenter,m=d.yCenter,v=d.getIndexAngle(0)-.5*qe;let _=v,b;const k=360/this.countVisibleElements();for(b=0;b<t;++b)_+=this._computeAngle(b,s,k);for(b=t;b<t+i;b++){const E=e[b];let T=_,M=_+this._computeAngle(b,s,k),R=l.getDataVisibility(b)?d.getDistanceFromCenterForValue(this.getParsed(b).r):0;_=M,o&&(h.animateScale&&(R=0),h.animateRotate&&(T=M=v));const N={x:p,y:m,innerRadius:0,outerRadius:R,startAngle:T,endAngle:M,options:this.resolveDataElementOptions(b,E.active?"active":s)};this.updateElement(E,b,N,s)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?xn(this.resolveDataElementOptions(e,t).angle||i):0}}Z(Uo,"id","polarArea"),Z(Uo,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Z(Uo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return t.labels.map((o,l)=>{const h=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Dh extends ks{}Z(Dh,"id","pie"),Z(Dh,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class ql extends wn{getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,s){return Jy.bind(this)(e,t,i,s)}update(e){const t=this._cachedMeta,i=t.dataset,s=t.data||[],o=t.iScale.getLabels();if(i.points=s,e!=="resize"){const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0);const u={_loop:!0,_fullLoop:o.length===s.length,options:l};this.updateElement(i,void 0,u,e)}this.updateElements(s,0,s.length,e)}updateElements(e,t,i,s){const o=this._cachedMeta.rScale,l=s==="reset";for(let u=t;u<t+i;u++){const h=e[u],d=this.resolveDataElementOptions(u,h.active?"active":s),p=o.getPointPositionForValue(u,this.getParsed(u).r),m=l?o.xCenter:p.x,v=l?o.yCenter:p.y,_={x:m,y:v,angle:p.angle,skip:isNaN(m)||isNaN(v),options:d};this.updateElement(h,u,_,s)}}}Z(ql,"id","radar"),Z(ql,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Z(ql,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Xl extends wn{getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=t,l=this.getParsed(e),u=s.getLabelForValue(l.x),h=o.getLabelForValue(l.y);return{label:i[e]||"",value:"("+u+", "+h+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,s=this.chart._animationsDisabled;let{start:o,count:l}=$y(t,i,s);if(this._drawStart=o,this._drawCount=l,By(t)&&(o=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:h}=t;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!h._decimated,u.points=i;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(u,void 0,{animated:!s,options:d},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,o,l,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,s){const o=s==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:d}=this._cachedMeta,p=this.resolveDataElementOptions(t,s),m=this.getSharedOptions(p),v=this.includeOptions(s,m),_=l.axis,b=u.axis,{spanGaps:k,segment:E}=this.options,T=Pr(k)?k:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||o||s==="none";let R=t>0&&this.getParsed(t-1);for(let N=t;N<t+i;++N){const L=e[N],B=this.getParsed(N),U=M?L:{},q=Ee(B[b]),ee=U[_]=l.getPixelForValue(B[_],N),ue=U[b]=o||q?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,B,h):B[b],N);U.skip=isNaN(ee)||isNaN(ue)||q,U.stop=N>0&&Math.abs(B[_]-R[_])>T,E&&(U.parsed=B,U.raw=d.data[N]),v&&(U.options=m||this.resolveDataElementOptions(N,L.active?"active":s)),M||this.updateElement(L,N,U,s),R=B}this.updateSharedOptions(m,s,p)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let u=0;for(let h=t.length-1;h>=0;--h)u=Math.max(u,t[h].size(this.resolveDataElementOptions(h))/2);return u>0&&u}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!t.length)return s;const o=t[0].size(this.resolveDataElementOptions(0)),l=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(s,o,l)/2}}Z(Xl,"id","scatter"),Z(Xl,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Z(Xl,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var cS=Object.freeze({__proto__:null,BarController:Hl,BubbleController:Wl,DoughnutController:ks,LineController:Yl,PieController:Dh,PolarAreaController:Uo,RadarController:ql,ScatterController:Xl});function vs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class _d{constructor(e){Z(this,"options");this.options=e||{}}static override(e){Object.assign(_d.prototype,e)}init(){}formats(){return vs()}parse(){return vs()}format(){return vs()}add(){return vs()}diff(){return vs()}startOf(){return vs()}endOf(){return vs()}}var hS={_date:_d};function dS(n,e,t,i){const{controller:s,data:o,_sorted:l}=n,u=s._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&o.length){const d=u._reversePixels?Rb:oi;if(i){if(s._sharedOptions){const p=o[0],m=typeof p.getRange=="function"&&p.getRange(e);if(m){const v=d(o,e,t-m),_=d(o,e,t+m);return{lo:v.lo,hi:_.hi}}}}else{const p=d(o,e,t);if(h){const{vScale:m}=s._cachedMeta,{_parsed:v}=n,_=v.slice(0,p.lo+1).reverse().findIndex(k=>!Ee(k[m.axis]));p.lo-=Math.max(0,_);const b=v.slice(p.hi).findIndex(k=>!Ee(k[m.axis]));p.hi+=Math.max(0,b)}return p}}return{lo:0,hi:o.length-1}}function hu(n,e,t,i,s){const o=n.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,h=o.length;u<h;++u){const{index:d,data:p}=o[u],{lo:m,hi:v}=dS(o[u],e,l,s);for(let _=m;_<=v;++_){const b=p[_];b.skip||i(b,d,_)}}}function fS(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,s){const o=e?Math.abs(i.x-s.x):0,l=t?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function dh(n,e,t,i,s){const o=[];return!s&&!n.isPointInArea(e)||hu(n,t,e,function(u,h,d){!s&&!jn(u,n.chartArea,0)||u.inRange(e.x,e.y,i)&&o.push({element:u,datasetIndex:h,index:d})},!0),o}function pS(n,e,t,i){let s=[];function o(l,u,h){const{startAngle:d,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:m}=Ly(l,{x:e.x,y:e.y});Zo(m,d,p)&&s.push({element:l,datasetIndex:u,index:h})}return hu(n,t,e,o),s}function gS(n,e,t,i,s,o){let l=[];const u=fS(t);let h=Number.POSITIVE_INFINITY;function d(p,m,v){const _=p.inRange(e.x,e.y,s);if(i&&!_)return;const b=p.getCenterPoint(s);if(!(!!o||n.isPointInArea(b))&&!_)return;const E=u(e,b);E<h?(l=[{element:p,datasetIndex:m,index:v}],h=E):E===h&&l.push({element:p,datasetIndex:m,index:v})}return hu(n,t,e,d),l}function fh(n,e,t,i,s,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!i?pS(n,e,t,s):gS(n,e,t,i,s,o)}function Zg(n,e,t,i,s){const o=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return hu(n,t,e,(h,d,p)=>{h[l]&&h[l](e[t],s)&&(o.push({element:h,datasetIndex:d,index:p}),u=u||h.inRange(e.x,e.y,s))}),i&&!u?[]:o}var mS={modes:{index(n,e,t,i){const s=Nn(e,n),o=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?dh(n,s,o,i,l):fh(n,s,o,!1,i,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const p=u[0].index,m=d.data[p];m&&!m.skip&&h.push({element:m,datasetIndex:d.index,index:p})}),h):[]},dataset(n,e,t,i){const s=Nn(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?dh(n,s,o,i,l):fh(n,s,o,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,d=n.getDatasetMeta(h).data;u=[];for(let p=0;p<d.length;++p)u.push({element:d[p],datasetIndex:h,index:p})}return u},point(n,e,t,i){const s=Nn(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return dh(n,s,o,i,l)},nearest(n,e,t,i){const s=Nn(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return fh(n,s,o,t.intersect,i,l)},x(n,e,t,i){const s=Nn(e,n);return Zg(n,s,"x",t.intersect,i)},y(n,e,t,i){const s=Nn(e,n);return Zg(n,s,"y",t.intersect,i)}}};const ov=["left","top","right","bottom"];function To(n,e){return n.filter(t=>t.pos===e)}function Qg(n,e){return n.filter(t=>ov.indexOf(t.pos)===-1&&t.box.axis===e)}function Po(n,e){return n.sort((t,i)=>{const s=e?i:t,o=e?t:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function yS(n){const e=[];let t,i,s,o,l,u;for(t=0,i=(n||[]).length;t<i;++t)s=n[t],{position:o,options:{stack:l,stackWeight:u=1}}=s,e.push({index:t,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&o+l,stackWeight:u});return e}function vS(n){const e={};for(const t of n){const{stack:i,pos:s,stackWeight:o}=t;if(!i||!ov.includes(s))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return e}function _S(n,e){const t=vS(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:h}=u.box,d=t[u.stack],p=d&&u.stackWeight/d.weight;u.horizontal?(u.width=p?p*i:h&&e.availableWidth,u.height=s):(u.width=i,u.height=p?p*s:h&&e.availableHeight)}return t}function xS(n){const e=yS(n),t=Po(e.filter(d=>d.box.fullSize),!0),i=Po(To(e,"left"),!0),s=Po(To(e,"right")),o=Po(To(e,"top"),!0),l=Po(To(e,"bottom")),u=Qg(e,"x"),h=Qg(e,"y");return{fullSize:t,leftAndTop:i.concat(o),rightAndBottom:s.concat(h).concat(l).concat(u),chartArea:To(e,"chartArea"),vertical:i.concat(s).concat(h),horizontal:o.concat(l).concat(u)}}function em(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function av(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function wS(n,e,t,i){const{pos:s,box:o}=t,l=n.maxPadding;if(!Ie(s)){t.size&&(n[s]-=t.size);const m=i[t.stack]||{size:0,count:1};m.size=Math.max(m.size,t.horizontal?o.height:o.width),t.size=m.size/m.count,n[s]+=t.size}o.getPadding&&av(l,o.getPadding());const u=Math.max(0,e.outerWidth-em(l,n,"left","right")),h=Math.max(0,e.outerHeight-em(l,n,"top","bottom")),d=u!==n.w,p=h!==n.h;return n.w=u,n.h=h,t.horizontal?{same:d,other:p}:{same:p,other:d}}function bS(n){const e=n.maxPadding;function t(i){const s=Math.max(e[i]-n[i],0);return n[i]+=s,s}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function kS(n,e){const t=e.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{o[l]=Math.max(e[l],t[l])}),o}return i(n?["left","right"]:["top","bottom"])}function Do(n,e,t,i){const s=[];let o,l,u,h,d,p;for(o=0,l=n.length,d=0;o<l;++o){u=n[o],h=u.box,h.update(u.width||e.w,u.height||e.h,kS(u.horizontal,e));const{same:m,other:v}=wS(e,t,u,i);d|=m&&s.length,p=p||v,h.fullSize||s.push(u)}return d&&Do(s,e,t,i)||p}function Il(n,e,t,i,s){n.top=t,n.left=e,n.right=e+i,n.bottom=t+s,n.width=i,n.height=s}function tm(n,e,t,i){const s=t.padding;let{x:o,y:l}=e;for(const u of n){const h=u.box,d=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/d.weight||1;if(u.horizontal){const m=e.w*p,v=d.size||h.height;Ko(d.start)&&(l=d.start),h.fullSize?Il(h,s.left,l,t.outerWidth-s.right-s.left,v):Il(h,e.left+d.placed,l,m,v),d.start=l,d.placed+=m,l=h.bottom}else{const m=e.h*p,v=d.size||h.width;Ko(d.start)&&(o=d.start),h.fullSize?Il(h,o,s.top,v,t.outerHeight-s.bottom-s.top):Il(h,o,e.top+d.placed,v,m),d.start=o,d.placed+=m,o=h.right}}e.x=o,e.y=l}var Tt={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const s=_t(n.options.layout.padding),o=Math.max(e-s.width,0),l=Math.max(t-s.height,0),u=xS(n.boxes),h=u.vertical,d=u.horizontal;Ae(n.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const p=h.reduce((k,E)=>E.box.options&&E.box.options.display===!1?k:k+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),v=Object.assign({},s);av(v,_t(i));const _=Object.assign({maxPadding:v,w:o,h:l,x:s.left,y:s.top},s),b=_S(h.concat(d),m);Do(u.fullSize,_,m,b),Do(h,_,m,b),Do(d,_,m,b)&&Do(h,_,m,b),bS(_),tm(u.leftAndTop,_,m,b),_.x+=_.w,_.y+=_.h,tm(u.rightAndBottom,_,m,b),n.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Ae(u.chartArea,k=>{const E=k.box;Object.assign(E,n.chartArea),E.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class lv{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,s){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):i)}}isAttached(e){return!0}updateConfig(e){}}class SS extends lv{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Jl="$chartjs",ES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},nm=n=>n===null||n==="";function TS(n,e){const t=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Jl]={initial:{height:i,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",nm(s)){const o=Fg(n,"width");o!==void 0&&(n.width=o)}if(nm(i))if(n.style.height==="")n.height=n.width/(e||2);else{const o=Fg(n,"height");o!==void 0&&(n.height=o)}return n}const uv=Pk?{passive:!0}:!1;function PS(n,e,t){n&&n.addEventListener(e,t,uv)}function CS(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,uv)}function MS(n,e){const t=ES[n.type]||n.type,{x:i,y:s}=Nn(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function iu(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function OS(n,e,t){const i=n.canvas,s=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||iu(u.addedNodes,i),l=l&&!iu(u.removedNodes,i);l&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function AS(n,e,t){const i=n.canvas,s=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||iu(u.removedNodes,i),l=l&&!iu(u.addedNodes,i);l&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const ea=new Map;let im=0;function cv(){const n=window.devicePixelRatio;n!==im&&(im=n,ea.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function IS(n,e){ea.size||window.addEventListener("resize",cv),ea.set(n,e)}function DS(n){ea.delete(n),ea.size||window.removeEventListener("resize",cv)}function RS(n,e,t){const i=n.canvas,s=i&&vd(i);if(!s)return;const o=Fy((u,h)=>{const d=s.clientWidth;t(u,h),d<s.clientWidth&&t()},window),l=new ResizeObserver(u=>{const h=u[0],d=h.contentRect.width,p=h.contentRect.height;d===0&&p===0||o(d,p)});return l.observe(s),IS(n,o),l}function ph(n,e,t){t&&t.disconnect(),e==="resize"&&DS(n)}function LS(n,e,t){const i=n.canvas,s=Fy(o=>{n.ctx!==null&&t(MS(o,n))},n);return PS(i,e,s),s}class NS extends lv{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(TS(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Jl])return!1;const i=t[Jl].initial;["height","width"].forEach(o=>{const l=i[o];Ee(l)?t.removeAttribute(o):t.setAttribute(o,l)});const s=i.style||{};return Object.keys(s).forEach(o=>{t.style[o]=s[o]}),t.width=t.width,delete t[Jl],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),l={attach:OS,detach:AS,resize:RS}[t]||LS;s[t]=l(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),s=i[t];if(!s)return;({attach:ph,detach:ph,resize:ph}[t]||CS)(e,t,s),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,s){return Tk(e,t,i,s)}isAttached(e){const t=e&&vd(e);return!!(t&&t.isConnected)}}function jS(n){return!yd()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?SS:NS}class bn{constructor(){Z(this,"x");Z(this,"y");Z(this,"active",!1);Z(this,"options");Z(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Pr(this.x)&&Pr(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const s={};return e.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}}Z(bn,"defaults",{}),Z(bn,"defaultRoutes");function zS(n,e){const t=n.options.ticks,i=FS(n),s=Math.min(t.maxTicksLimit||i,i),o=t.major.enabled?BS(e):[],l=o.length,u=o[0],h=o[l-1],d=[];if(l>s)return US(e,d,o,l/s),d;const p=$S(o,e,s);if(l>0){let m,v;const _=l>1?Math.round((h-u)/(l-1)):null;for(Dl(e,d,p,Ee(_)?0:u-_,u),m=0,v=l-1;m<v;m++)Dl(e,d,p,o[m],o[m+1]);return Dl(e,d,p,h,Ee(_)?e.length:h+_),d}return Dl(e,d,p),d}function FS(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),s=n._maxLength/t;return Math.floor(Math.min(i,s))}function $S(n,e,t){const i=VS(n),s=e.length/t;if(!i)return Math.max(s,1);const o=Mb(i);for(let l=0,u=o.length-1;l<u;l++){const h=o[l];if(h>s)return h}return Math.max(s,1)}function BS(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function US(n,e,t,i){let s=0,o=t[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(e.push(n[l]),s++,o=t[s*i])}function Dl(n,e,t,i,s){const o=_e(i,0),l=Math.min(_e(s,n.length),n.length);let u=0,h,d,p;for(t=Math.ceil(t),s&&(h=s-i,t=h/Math.floor(h/t)),p=o;p<0;)u++,p=Math.round(o+u*t);for(d=Math.max(o,0);d<l;d++)d===p&&(e.push(n[d]),u++,p=Math.round(o+u*t))}function VS(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const HS=n=>n==="left"?"right":n==="right"?"left":n,sm=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,rm=(n,e)=>Math.min(e||n,n);function om(n,e){const t=[],i=n.length/e,s=n.length;let o=0;for(;o<s;o+=i)t.push(n[Math.floor(o)]);return t}function WS(n,e,t){const i=n.ticks.length,s=Math.min(e,i-1),o=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(s),d;if(!(t&&(i===1?d=Math.max(h-o,l-h):e===0?d=(n.getPixelForTick(1)-h)/2:d=(h-n.getPixelForTick(s-1))/2,h+=s<e?d:-d,h<o-u||h>l+u)))return h}function YS(n,e){Ae(n,t=>{const i=t.gc,s=i.length/2;let o;if(s>e){for(o=0;o<s;++o)delete t.data[i[o]];i.splice(0,s)}})}function Co(n){return n.drawTicks?n.tickLength:0}function am(n,e){if(!n.display)return 0;const t=ot(n.font,e),i=_t(n.padding);return(He(n.text)?n.text.length:1)*t.lineHeight+i.height}function qS(n,e){return Gi(n,{scale:e,type:"scale"})}function XS(n,e,t){return Gi(n,{tick:t,index:e,type:"tick"})}function JS(n,e,t){let i=hd(n);return(t&&e!=="right"||!t&&e==="right")&&(i=HS(i)),i}function GS(n,e,t,i){const{top:s,left:o,bottom:l,right:u,chart:h}=n,{chartArea:d,scales:p}=h;let m=0,v,_,b;const k=l-s,E=u-o;if(n.isHorizontal()){if(_=Et(i,o,u),Ie(t)){const T=Object.keys(t)[0],M=t[T];b=p[T].getPixelForValue(M)+k-e}else t==="center"?b=(d.bottom+d.top)/2+k-e:b=sm(n,t,e);v=u-o}else{if(Ie(t)){const T=Object.keys(t)[0],M=t[T];_=p[T].getPixelForValue(M)-E+e}else t==="center"?_=(d.left+d.right)/2-E+e:_=sm(n,t,e);b=Et(i,l,s),m=t==="left"?-it:it}return{titleX:_,titleY:b,maxWidth:v,rotation:m}}class Os extends bn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:s}=this;return e=Zt(e,Number.POSITIVE_INFINITY),t=Zt(t,Number.NEGATIVE_INFINITY),i=Zt(i,Number.POSITIVE_INFINITY),s=Zt(s,Number.NEGATIVE_INFINITY),{min:Zt(e,i),max:Zt(t,s),minDefined:Qe(e),maxDefined:Qe(t)}}getMinMax(e){let{min:t,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),l;if(s&&o)return{min:t,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,d=u.length;h<d;++h)l=u[h].controller.getMinMax(this,e),s||(t=Math.min(t,l.min)),o||(i=Math.max(i,l.max));return t=o&&t>i?i:t,i=s&&t>i?t:i,{min:Zt(t,Zt(i,t)),max:Zt(i,Zt(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){me(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:s,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=sk(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?om(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=zS(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){me(this.options.afterUpdate,[this])}beforeSetDimensions(){me(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){me(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),me(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){me(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,s,o;for(i=0,s=e.length;i<s;i++)o=e[i],o.label=me(t.callback,[o.value,i,e],this)}afterTickToLabelConversion(){me(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){me(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=rm(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,o=t.maxRotation;let l=s,u,h,d;if(!this._isVisible()||!t.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),m=p.widest.width,v=p.highest.height,_=mt(this.chart.width-m,0,this.maxWidth);u=e.offset?this.maxWidth/i:_/(i-1),m+6>u&&(u=_/(i-(e.offset?.5:1)),h=this.maxHeight-Co(e.grid)-t.padding-am(e.title,this.chart.options.font),d=Math.sqrt(m*m+v*v),l=ud(Math.min(Math.asin(mt((p.highest.height+6)/u,-1,1)),Math.asin(mt(h/d,-1,1))-Math.asin(mt(v/d,-1,1)))),l=Math.max(s,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){me(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){me(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:s,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=am(s,t.options.font);if(u?(e.width=this.maxWidth,e.height=Co(o)+h):(e.height=this.maxHeight,e.width=Co(o)+h),i.display&&this.ticks.length){const{first:d,last:p,widest:m,highest:v}=this._getLabelSizes(),_=i.padding*2,b=xn(this.labelRotation),k=Math.cos(b),E=Math.sin(b);if(u){const T=i.mirror?0:E*m.width+k*v.height;e.height=Math.min(this.maxHeight,e.height+T+_)}else{const T=i.mirror?0:k*m.width+E*v.height;e.width=Math.min(this.maxWidth,e.width+T+_)}this._calculatePadding(d,p,E,k)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,s){const{ticks:{align:o,padding:l},position:u}=this.options,h=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,_=0;h?d?(v=s*e.width,_=i*t.height):(v=i*e.height,_=s*t.width):o==="start"?_=t.width:o==="end"?v=e.width:o!=="inner"&&(v=e.width/2,_=t.width/2),this.paddingLeft=Math.max((v-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((_-m+l)*this.width/(this.width-m),0)}else{let p=t.height/2,m=e.height/2;o==="start"?(p=0,m=e.height):o==="end"&&(p=t.height,m=0),this.paddingTop=p+l,this.paddingBottom=m+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){me(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Ee(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=om(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:s,_longestTextCache:o}=this,l=[],u=[],h=Math.floor(t/rm(t,i));let d=0,p=0,m,v,_,b,k,E,T,M,R,N,L;for(m=0;m<t;m+=h){if(b=e[m].label,k=this._resolveTickFontOptions(m),s.font=E=k.string,T=o[E]=o[E]||{data:{},gc:[]},M=k.lineHeight,R=N=0,!Ee(b)&&!He(b))R=tu(s,T.data,T.gc,R,b),N=M;else if(He(b))for(v=0,_=b.length;v<_;++v)L=b[v],!Ee(L)&&!He(L)&&(R=tu(s,T.data,T.gc,R,L),N+=M);l.push(R),u.push(N),d=Math.max(R,d),p=Math.max(N,p)}YS(o,t);const B=l.indexOf(d),U=u.indexOf(p),q=ee=>({width:l[ee]||0,height:u[ee]||0});return{first:q(0),last:q(t-1),widest:q(B),highest:q(U),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Db(this._alignToPixels?ys(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=XS(this.getContext(),e,i))}return this.$context||(this.$context=qS(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=xn(this.labelRotation),i=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,u=o?o.widest.width+l:0,h=o?o.highest.height+l:0;return this.isHorizontal()?h*i>u*s?u/i:h/s:h*s<u*i?h/i:u/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,s=this.options,{grid:o,position:l,border:u}=s,h=o.offset,d=this.isHorizontal(),m=this.ticks.length+(h?1:0),v=Co(o),_=[],b=u.setContext(this.getContext()),k=b.display?b.width:0,E=k/2,T=function(se){return ys(i,se,k)};let M,R,N,L,B,U,q,ee,ue,ce,de,Me;if(l==="top")M=T(this.bottom),U=this.bottom-v,ee=M-E,ce=T(e.top)+E,Me=e.bottom;else if(l==="bottom")M=T(this.top),ce=e.top,Me=T(e.bottom)-E,U=M+E,ee=this.top+v;else if(l==="left")M=T(this.right),B=this.right-v,q=M-E,ue=T(e.left)+E,de=e.right;else if(l==="right")M=T(this.left),ue=e.left,de=T(e.right)-E,B=M+E,q=this.left+v;else if(t==="x"){if(l==="center")M=T((e.top+e.bottom)/2+.5);else if(Ie(l)){const se=Object.keys(l)[0],te=l[se];M=T(this.chart.scales[se].getPixelForValue(te))}ce=e.top,Me=e.bottom,U=M+E,ee=U+v}else if(t==="y"){if(l==="center")M=T((e.left+e.right)/2);else if(Ie(l)){const se=Object.keys(l)[0],te=l[se];M=T(this.chart.scales[se].getPixelForValue(te))}B=M-E,q=B-v,ue=e.left,de=e.right}const Ne=_e(s.ticks.maxTicksLimit,m),be=Math.max(1,Math.ceil(m/Ne));for(R=0;R<m;R+=be){const se=this.getContext(R),te=o.setContext(se),H=u.setContext(se),K=te.lineWidth,Q=te.color,I=H.dash||[],$=H.dashOffset,fe=te.tickWidth,he=te.tickColor,ke=te.tickBorderDash||[],xe=te.tickBorderDashOffset;N=WS(this,R,h),N!==void 0&&(L=ys(i,N,K),d?B=q=ue=de=L:U=ee=ce=Me=L,_.push({tx1:B,ty1:U,tx2:q,ty2:ee,x1:ue,y1:ce,x2:de,y2:Me,width:K,color:Q,borderDash:I,borderDashOffset:$,tickWidth:fe,tickColor:he,tickBorderDash:ke,tickBorderDashOffset:xe}))}return this._ticksLength=m,this._borderValue=M,_}_computeLabelItems(e){const t=this.axis,i=this.options,{position:s,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:d,padding:p,mirror:m}=o,v=Co(i.grid),_=v+p,b=m?-p:_,k=-xn(this.labelRotation),E=[];let T,M,R,N,L,B,U,q,ee,ue,ce,de,Me="middle";if(s==="top")B=this.bottom-b,U=this._getXAxisLabelAlignment();else if(s==="bottom")B=this.top+b,U=this._getXAxisLabelAlignment();else if(s==="left"){const be=this._getYAxisLabelAlignment(v);U=be.textAlign,L=be.x}else if(s==="right"){const be=this._getYAxisLabelAlignment(v);U=be.textAlign,L=be.x}else if(t==="x"){if(s==="center")B=(e.top+e.bottom)/2+_;else if(Ie(s)){const be=Object.keys(s)[0],se=s[be];B=this.chart.scales[be].getPixelForValue(se)+_}U=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")L=(e.left+e.right)/2-_;else if(Ie(s)){const be=Object.keys(s)[0],se=s[be];L=this.chart.scales[be].getPixelForValue(se)}U=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(h==="start"?Me="top":h==="end"&&(Me="bottom"));const Ne=this._getLabelSizes();for(T=0,M=u.length;T<M;++T){R=u[T],N=R.label;const be=o.setContext(this.getContext(T));q=this.getPixelForTick(T)+o.labelOffset,ee=this._resolveTickFontOptions(T),ue=ee.lineHeight,ce=He(N)?N.length:1;const se=ce/2,te=be.color,H=be.textStrokeColor,K=be.textStrokeWidth;let Q=U;l?(L=q,U==="inner"&&(T===M-1?Q=this.options.reverse?"left":"right":T===0?Q=this.options.reverse?"right":"left":Q="center"),s==="top"?d==="near"||k!==0?de=-ce*ue+ue/2:d==="center"?de=-Ne.highest.height/2-se*ue+ue:de=-Ne.highest.height+ue/2:d==="near"||k!==0?de=ue/2:d==="center"?de=Ne.highest.height/2-se*ue:de=Ne.highest.height-ce*ue,m&&(de*=-1),k!==0&&!be.showLabelBackdrop&&(L+=ue/2*Math.sin(k))):(B=q,de=(1-ce)*ue/2);let I;if(be.showLabelBackdrop){const $=_t(be.backdropPadding),fe=Ne.heights[T],he=Ne.widths[T];let ke=de-$.top,xe=0-$.left;switch(Me){case"middle":ke-=fe/2;break;case"bottom":ke-=fe;break}switch(U){case"center":xe-=he/2;break;case"right":xe-=he;break;case"inner":T===M-1?xe-=he:T>0&&(xe-=he/2);break}I={left:xe,top:ke,width:he+$.width,height:fe+$.height,color:be.backdropColor}}E.push({label:N,font:ee,textOffset:de,options:{rotation:k,color:te,strokeColor:H,strokeWidth:K,textAlign:Q,textBaseline:Me,translation:[L,B],backdrop:I}})}return E}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-xn(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,l=this._getLabelSizes(),u=e+o,h=l.widest.width;let d,p;return t==="left"?s?(p=this.right+o,i==="near"?d="left":i==="center"?(d="center",p+=h/2):(d="right",p+=h)):(p=this.right-u,i==="near"?d="right":i==="center"?(d="center",p-=h/2):(d="left",p=this.left)):t==="right"?s?(p=this.left+o,i==="near"?d="right":i==="center"?(d="center",p-=h/2):(d="left",p-=h)):(p=this.left+u,i==="near"?d="left":i==="center"?(d="center",p+=h/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:s,width:o,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,s,o,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(o=>o.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,l;const u=(h,d,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(t.display)for(o=0,l=s.length;o<l;++o){const h=s[o];t.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let d,p,m,v;this.isHorizontal()?(d=ys(e,this.left,l)-l/2,p=ys(e,this.right,u)+u/2,m=v=h):(m=ys(e,this.top,l)-l/2,v=ys(e,this.bottom,u)+u/2,d=p=h),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(d,m),t.lineTo(p,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&lu(i,s);const o=this.getLabelItems(e);for(const l of o){const u=l.options,h=l.font,d=l.label,p=l.textOffset;Cs(i,d,0,p,h,u)}s&&uu(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:s}}=this;if(!i.display)return;const o=ot(i.font),l=_t(i.padding),u=i.align;let h=o.lineHeight/2;t==="bottom"||t==="center"||Ie(t)?(h+=l.bottom,He(i.text)&&(h+=o.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:d,titleY:p,maxWidth:m,rotation:v}=GS(this,h,t,u);Cs(e,i.text,0,0,o,{color:i.color,maxWidth:m,rotation:v,textAlign:JS(u,t,s),textBaseline:"middle",translation:[d,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=_e(e.grid&&e.grid.z,-1),s=_e(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Os.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,l;for(o=0,l=t.length;o<l;++o){const u=t[o];u[i]===this.id&&(!e||u.type===e)&&s.push(u)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return ot(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Rl{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;QS(t)&&(i=this.register(t));const s=this.items,o=e.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in s||(s[o]=e,KS(e,l,i),this.override&&Ye.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,s=this.scope;i in t&&delete t[i],s&&i in Ye[s]&&(delete Ye[s][i],this.override&&delete Ps[i])}}function KS(n,e,t){const i=zn(Object.create(null),[t?Ye.get(t):{},Ye.get(e),n.defaults]);Ye.set(e,i),n.defaultRoutes&&ZS(e,n.defaultRoutes),n.descriptors&&Ye.describe(e,n.descriptors)}function ZS(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),s=i.pop(),o=[n].concat(i).join("."),l=e[t].split("."),u=l.pop(),h=l.join(".");Ye.route(o,s,h,u)})}function QS(n){return"id"in n&&"defaults"in n}class e1{constructor(){this.controllers=new Rl(wn,"datasets",!0),this.elements=new Rl(bn,"elements"),this.plugins=new Rl(Object,"plugins"),this.scales=new Rl(Os,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(e,o,s):Ae(s,l=>{const u=i||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,i){const s=ld(e);me(i["before"+s],[],i),t[e](i),me(i["after"+s],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var Ln=new e1;class t1{constructor(){this._init=[]}notify(e,t,i,s){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=s?this._descriptors(e).filter(s):this._descriptors(e),l=this._notify(o,e,t,i);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,i,s){s=s||{};for(const o of e){const l=o.plugin,u=l[i],h=[t,s,o.options];if(me(u,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Ee(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,s=_e(i.options&&i.options.plugins,{}),o=n1(i);return s===!1&&!t?[]:s1(e,o,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,s=(o,l)=>o.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(s(t,i),e,"stop"),this._notify(s(i,t),e,"start")}}function n1(n){const e={},t=[],i=Object.keys(Ln.plugins.items);for(let o=0;o<i.length;o++)t.push(Ln.getPlugin(i[o]));const s=n.plugins||[];for(let o=0;o<s.length;o++){const l=s[o];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function i1(n,e){return!e&&n===!1?null:n===!0?{}:n}function s1(n,{plugins:e,localIds:t},i,s){const o=[],l=n.getContext();for(const u of e){const h=u.id,d=i1(i[h],s);d!==null&&o.push({plugin:u,options:r1(n.config,{plugin:u,local:t[h]},d,l)})}return o}function r1(n,{plugin:e,local:t},i,s){const o=n.pluginScopeKeys(e),l=n.getOptionScopes(i,o);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Rh(n,e){const t=Ye.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function o1(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function a1(n,e){return n===e?"_index_":"_value_"}function lm(n){if(n==="x"||n==="y"||n==="r")return n}function l1(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Lh(n,...e){if(lm(n))return n;for(const t of e){const i=t.axis||l1(t.position)||n.length>1&&lm(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function um(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function u1(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return um(n,"x",t[0])||um(n,"y",t[0])}return{}}function c1(n,e){const t=Ps[n.type]||{scales:{}},i=e.scales||{},s=Rh(n.type,e),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Ie(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=Lh(l,u,u1(l,n),Ye.scales[u.type]),d=a1(h,s),p=t.scales||{};o[l]=Fo(Object.create(null),[{axis:h},u,p[h],p[d]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||Rh(u,e),p=(Ps[u]||{}).scales||{};Object.keys(p).forEach(m=>{const v=o1(m,h),_=l[v+"AxisID"]||v;o[_]=o[_]||Object.create(null),Fo(o[_],[{axis:v},i[_],p[m]])})}),Object.keys(o).forEach(l=>{const u=o[l];Fo(u,[Ye.scales[u.type],Ye.scale])}),o}function hv(n){const e=n.options||(n.options={});e.plugins=_e(e.plugins,{}),e.scales=c1(n,e)}function dv(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function h1(n){return n=n||{},n.data=dv(n.data),hv(n),n}const cm=new Map,fv=new Set;function Ll(n,e){let t=cm.get(n);return t||(t=e(),cm.set(n,t),fv.add(t)),t}const Mo=(n,e,t)=>{const i=Yi(e,t);i!==void 0&&n.add(i)};class d1{constructor(e){this._config=h1(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=dv(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),hv(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ll(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Ll(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Ll(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return Ll(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let s=i.get(e);return(!s||t)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,t,i){const{options:s,type:o}=this,l=this._cachedScopes(e,i),u=l.get(t);if(u)return u;const h=new Set;t.forEach(p=>{e&&(h.add(e),p.forEach(m=>Mo(h,e,m))),p.forEach(m=>Mo(h,s,m)),p.forEach(m=>Mo(h,Ps[o]||{},m)),p.forEach(m=>Mo(h,Ye,m)),p.forEach(m=>Mo(h,Ah,m))});const d=Array.from(h);return d.length===0&&d.push(Object.create(null)),fv.has(t)&&l.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,Ps[t]||{},Ye.datasets[t]||{},{type:t},Ye,Ah]}resolveNamedOptions(e,t,i,s=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=hm(this._resolverCache,e,s);let h=l;if(p1(l,t)){o.$shared=!1,i=qi(i)?i():i;const d=this.createResolver(e,i,u);h=Cr(l,i,d)}for(const d of t)o[d]=h[d];return o}createResolver(e,t,i=[""],s){const{resolver:o}=hm(this._resolverCache,e,i);return Ie(t)?Cr(o,t,void 0,s):o}}function hm(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const s=t.join();let o=i.get(s);return o||(o={resolver:pd(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},i.set(s,o)),o}const f1=n=>Ie(n)&&Object.getOwnPropertyNames(n).some(e=>qi(n[e]));function p1(n,e){const{isScriptable:t,isIndexable:i}=Wy(n);for(const s of e){const o=t(s),l=i(s),u=(l||o)&&n[s];if(o&&(qi(u)||f1(u))||l&&He(u))return!0}return!1}var g1="4.4.9";const m1=["top","bottom","left","right","chartArea"];function dm(n,e){return n==="top"||n==="bottom"||m1.indexOf(n)===-1&&e==="x"}function fm(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function pm(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),me(t&&t.onComplete,[n],e)}function y1(n){const e=n.chart,t=e.options.animation;me(t&&t.onProgress,[n],e)}function pv(n){return yd()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Gl={},gm=n=>{const e=pv(n);return Object.values(Gl).filter(t=>t.canvas===e).pop()};function v1(n,e,t){const i=Object.keys(n);for(const s of i){const o=+s;if(o>=e){const l=n[s];delete n[s],(t>0||o>e)&&(n[o+t]=l)}}}function _1(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}class en{static register(...e){Ln.add(...e),mm()}static unregister(...e){Ln.remove(...e),mm()}constructor(e,t){const i=this.config=new d1(t),s=pv(e),o=gm(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||jS(s)),this.platform.updateConfig(i);const u=this.platform.acquireContext(s,l.aspectRatio),h=u&&u.canvas,d=h&&h.height,p=h&&h.width;if(this.id=xb(),this.ctx=u,this.canvas=h,this.width=p,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new t1,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=jb(m=>this.update(m),l.resizeDelay||0),this._dataChanges=[],Gl[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}ti.listen(this,"complete",pm),ti.listen(this,"progress",y1),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:s,_aspectRatio:o}=this;return Ee(e)?t&&o?o:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ln}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():zg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Lg(this.canvas,this.ctx),this}stop(){return ti.stop(this),this}resize(e,t){ti.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,e,t,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,zg(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),me(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Ae(t,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,s=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];t&&(o=o.concat(Object.keys(t).map(l=>{const u=t[l],h=Lh(l,u),d=h==="r",p=h==="x";return{options:u,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),Ae(o,l=>{const u=l.options,h=u.id,d=Lh(h,u),p=_e(u.type,l.dtype);(u.position===void 0||dm(u.position,d)!==dm(l.dposition))&&(u.position=l.dposition),s[h]=!0;let m=null;if(h in i&&i[h].type===p)m=i[h];else{const v=Ln.getScale(p);m=new v({id:h,type:p,ctx:this.ctx,chart:this}),i[m.id]=m}m.init(u,e)}),Ae(s,(l,u)=>{l||delete i[u]}),Ae(i,l=>{Tt.configure(this,l,l.options),Tt.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((s,o)=>s.index-o.index),i>t){for(let s=t;s<i;++s)this._destroyDatasetMeta(s);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(fm("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,s)=>{t.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=t.length;i<s;i++){const o=t[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||Rh(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=Ln.getController(u),{datasetElementType:d,dataElementType:p}=Ye.datasets[u];Object.assign(h,{dataElementType:Ln.getElement(p),datasetElementType:d&&Ln.getElement(d)}),l.controller=new h(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Ae(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:m}=this.getDatasetMeta(d),v=!s&&o.indexOf(m)===-1;m.buildOrUpdateElements(v),l=Math.max(+m.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||Ae(o,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(fm("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Ae(this.scales,e=>{Tt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Tg(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of t){const l=i==="_removeElements"?-o:o;v1(e,s,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=o=>new Set(e.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),s=i(0);for(let o=1;o<t;o++)if(!Tg(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Tt.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Ae(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,qi(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ti.has(this)?this.attached&&!ti.running(this)&&ti.start(this):(this.draw(),pm({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let s,o;for(s=0,o=t.length;s<o;++s){const l=t[s];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=nv(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&lu(t,s),e.controller.draw(),s&&uu(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return jn(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,s){const o=mS.modes[t];return typeof o=="function"?o(this,e,i,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let s=i.filter(o=>o&&o._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Gi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const s=i?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,s);Ko(t)?(o.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ti.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Lg(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Gl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(o,l)=>{t.addEventListener(this,o,l),e[o]=l},s=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};Ae(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(h,d)=>{t.addEventListener(this,h,d),e[h]=d},s=(h,d)=>{e[h]&&(t.removeEventListener(this,h,d),delete e[h])},o=(h,d)=>{this.canvas&&this.resize(h,d)};let l;const u=()=>{s("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){Ae(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ae(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const s=i?"set":"remove";let o,l,u,h;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){l=e[u];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!Zl(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const s=this.options.hover,o=(h,d)=>h.filter(p=>!d.some(m=>p.datasetIndex===m.datasetIndex&&p.index===m.index)),l=o(t,e),u=i?e:o(e,t);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:s=[],options:o}=this,l=t,u=this._getActiveElements(e,s,i,l),h=Tb(e),d=_1(e,this._lastEvent,i,h);i&&(this._lastEvent=null,me(o.onHover,[e,u,this],this),h&&me(o.onClick,[e,u,this],this));const p=!Zl(u,s);return(p||t)&&(this._active=u,this._updateHoverStyles(u,s,t)),this._lastEvent=d,p}_getActiveElements(e,t,i,s){if(e.type==="mouseout")return[];if(!i)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,s)}}Z(en,"defaults",Ye),Z(en,"instances",Gl),Z(en,"overrides",Ps),Z(en,"registry",Ln),Z(en,"version",g1),Z(en,"getChart",gm);function mm(){return Ae(en.instances,n=>n._plugins.invalidate())}function x1(n,e,t){const{startAngle:i,pixelMargin:s,x:o,y:l,outerRadius:u,innerRadius:h}=e;let d=s/u;n.beginPath(),n.arc(o,l,u,i-d,t+d),h>s?(d=s/h,n.arc(o,l,h,t+d,i-d,!0)):n.arc(o,l,s,t+it,i-it),n.closePath(),n.clip()}function w1(n){return fd(n,["outerStart","outerEnd","innerStart","innerEnd"])}function b1(n,e,t,i){const s=w1(n.options.borderRadius),o=(t-e)/2,l=Math.min(o,i*e/2),u=h=>{const d=(t-Math.min(o,h))*i/2;return mt(h,0,Math.min(o,d))};return{outerStart:u(s.outerStart),outerEnd:u(s.outerEnd),innerStart:mt(s.innerStart,0,l),innerEnd:mt(s.innerEnd,0,l)}}function xr(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function su(n,e,t,i,s,o){const{x:l,y:u,startAngle:h,pixelMargin:d,innerRadius:p}=e,m=Math.max(e.outerRadius+i+t-d,0),v=p>0?p+i+t+d:0;let _=0;const b=s-h;if(i){const be=p>0?p-i:0,se=m>0?m-i:0,te=(be+se)/2,H=te!==0?b*te/(te+i):b;_=(b-H)/2}const k=Math.max(.001,b*m-t/qe)/m,E=(b-k)/2,T=h+E+_,M=s-E-_,{outerStart:R,outerEnd:N,innerStart:L,innerEnd:B}=b1(e,v,m,M-T),U=m-R,q=m-N,ee=T+R/U,ue=M-N/q,ce=v+L,de=v+B,Me=T+L/ce,Ne=M-B/de;if(n.beginPath(),o){const be=(ee+ue)/2;if(n.arc(l,u,m,ee,be),n.arc(l,u,m,be,ue),N>0){const K=xr(q,ue,l,u);n.arc(K.x,K.y,N,ue,M+it)}const se=xr(de,M,l,u);if(n.lineTo(se.x,se.y),B>0){const K=xr(de,Ne,l,u);n.arc(K.x,K.y,B,M+it,Ne+Math.PI)}const te=(M-B/v+(T+L/v))/2;if(n.arc(l,u,v,M-B/v,te,!0),n.arc(l,u,v,te,T+L/v,!0),L>0){const K=xr(ce,Me,l,u);n.arc(K.x,K.y,L,Me+Math.PI,T-it)}const H=xr(U,T,l,u);if(n.lineTo(H.x,H.y),R>0){const K=xr(U,ee,l,u);n.arc(K.x,K.y,R,T-it,ee)}}else{n.moveTo(l,u);const be=Math.cos(ee)*m+l,se=Math.sin(ee)*m+u;n.lineTo(be,se);const te=Math.cos(ue)*m+l,H=Math.sin(ue)*m+u;n.lineTo(te,H)}n.closePath()}function k1(n,e,t,i,s){const{fullCircles:o,startAngle:l,circumference:u}=e;let h=e.endAngle;if(o){su(n,e,t,i,h,s);for(let d=0;d<o;++d)n.fill();isNaN(u)||(h=l+(u%We||We))}return su(n,e,t,i,h,s),n.fill(),h}function S1(n,e,t,i,s){const{fullCircles:o,startAngle:l,circumference:u,options:h}=e,{borderWidth:d,borderJoinStyle:p,borderDash:m,borderDashOffset:v}=h,_=h.borderAlign==="inner";if(!d)return;n.setLineDash(m||[]),n.lineDashOffset=v,_?(n.lineWidth=d*2,n.lineJoin=p||"round"):(n.lineWidth=d,n.lineJoin=p||"bevel");let b=e.endAngle;if(o){su(n,e,t,i,b,s);for(let k=0;k<o;++k)n.stroke();isNaN(u)||(b=l+(u%We||We))}_&&x1(n,e,b),o||(su(n,e,t,i,b,s),n.stroke())}class br extends bn{constructor(t){super();Z(this,"circumference");Z(this,"endAngle");Z(this,"fullCircles");Z(this,"innerRadius");Z(this,"outerRadius");Z(this,"pixelMargin");Z(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,s){const o=this.getProps(["x","y"],s),{angle:l,distance:u}=Ly(o,{x:t,y:i}),{startAngle:h,endAngle:d,innerRadius:p,outerRadius:m,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),_=(this.options.spacing+this.options.borderWidth)/2,b=_e(v,d-h),k=Zo(l,h,d)&&h!==d,E=b>=We||k,T=ri(u,p+_,m+_);return E&&T}getCenterPoint(t){const{x:i,y:s,startAngle:o,endAngle:l,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:p}=this.options,m=(o+l)/2,v=(u+h+p+d)/2;return{x:i+Math.cos(m)*v,y:s+Math.sin(m)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:s}=this,o=(i.offset||0)/4,l=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>We?Math.floor(s/We):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*o,Math.sin(h)*o);const d=1-Math.sin(Math.min(qe,s||0)),p=o*d;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,k1(t,this,p,l,u),S1(t,this,p,l,u),t.restore()}}Z(br,"id","arc"),Z(br,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Z(br,"defaultRoutes",{backgroundColor:"backgroundColor"}),Z(br,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function gv(n,e,t=e){n.lineCap=_e(t.borderCapStyle,e.borderCapStyle),n.setLineDash(_e(t.borderDash,e.borderDash)),n.lineDashOffset=_e(t.borderDashOffset,e.borderDashOffset),n.lineJoin=_e(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=_e(t.borderWidth,e.borderWidth),n.strokeStyle=_e(t.borderColor,e.borderColor)}function E1(n,e,t){n.lineTo(t.x,t.y)}function T1(n){return n.stepped?Jb:n.tension||n.cubicInterpolationMode==="monotone"?Gb:E1}function mv(n,e,t={}){const i=n.length,{start:s=0,end:o=i-1}=t,{start:l,end:u}=e,h=Math.max(s,l),d=Math.min(o,u),p=s<l&&o<l||s>u&&o>u;return{count:i,start:h,loop:e.loop,ilen:d<h&&!p?i+d-h:d-h}}function P1(n,e,t,i){const{points:s,options:o}=e,{count:l,start:u,loop:h,ilen:d}=mv(s,t,i),p=T1(o);let{move:m=!0,reverse:v}=i||{},_,b,k;for(_=0;_<=d;++_)b=s[(u+(v?d-_:_))%l],!b.skip&&(m?(n.moveTo(b.x,b.y),m=!1):p(n,k,b,v,o.stepped),k=b);return h&&(b=s[(u+(v?d:0))%l],p(n,k,b,v,o.stepped)),!!h}function C1(n,e,t,i){const s=e.points,{count:o,start:l,ilen:u}=mv(s,t,i),{move:h=!0,reverse:d}=i||{};let p=0,m=0,v,_,b,k,E,T;const M=N=>(l+(d?u-N:N))%o,R=()=>{k!==E&&(n.lineTo(p,E),n.lineTo(p,k),n.lineTo(p,T))};for(h&&(_=s[M(0)],n.moveTo(_.x,_.y)),v=0;v<=u;++v){if(_=s[M(v)],_.skip)continue;const N=_.x,L=_.y,B=N|0;B===b?(L<k?k=L:L>E&&(E=L),p=(m*p+N)/++m):(R(),n.lineTo(N,L),b=B,m=0,k=E=L),T=L}R()}function Nh(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?C1:P1}function M1(n){return n.stepped?Ck:n.tension||n.cubicInterpolationMode==="monotone"?Mk:ws}function O1(n,e,t,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,t,i)&&s.closePath()),gv(n,e.options),n.stroke(s)}function A1(n,e,t,i){const{segments:s,options:o}=e,l=Nh(e);for(const u of s)gv(n,o,u.style),n.beginPath(),l(n,e,u,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const I1=typeof Path2D=="function";function D1(n,e,t,i){I1&&!e.options.segment?O1(n,e,t,i):A1(n,e,t,i)}class Vi extends bn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;xk(this._points,i,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Lk(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,s=e[t],o=this.points,l=tv(this,{property:t,start:s,end:s});if(!l.length)return;const u=[],h=M1(i);let d,p;for(d=0,p=l.length;d<p;++d){const{start:m,end:v}=l[d],_=o[m],b=o[v];if(_===b){u.push(_);continue}const k=Math.abs((s-_[t])/(b[t]-_[t])),E=h(_,b,k,i.stepped);E[t]=e[t],u.push(E)}return u.length===1?u[0]:u}pathSegment(e,t,i){return Nh(this)(e,this,t,i)}path(e,t,i){const s=this.segments,o=Nh(this);let l=this._loop;t=t||0,i=i||this.points.length-t;for(const u of s)l&=o(e,this,u,{start:t,end:t+i-1});return!!l}draw(e,t,i,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),D1(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Z(Vi,"id","line"),Z(Vi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Z(Vi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Z(Vi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function ym(n,e,t,i){const s=n.options,{[t]:o}=n.getProps([t],i);return Math.abs(e-o)<s.radius+s.hitRadius}class Vo extends bn{constructor(t){super();Z(this,"parsed");Z(this,"skip");Z(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,s){const o=this.options,{x:l,y:u}=this.getProps(["x","y"],s);return Math.pow(t-l,2)+Math.pow(i-u,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,i){return ym(this,t,"x",i)}inYRange(t,i){return ym(this,t,"y",i)}getCenterPoint(t){const{x:i,y:s}=this.getProps(["x","y"],t);return{x:i,y:s}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const s=i&&t.borderWidth||0;return(i+s)*2}draw(t,i){const s=this.options;this.skip||s.radius<.1||!jn(this,i,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,Ih(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Z(Vo,"id","point"),Z(Vo,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Z(Vo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function yv(n,e){const{x:t,y:i,base:s,width:o,height:l}=n.getProps(["x","y","base","width","height"],e);let u,h,d,p,m;return n.horizontal?(m=l/2,u=Math.min(t,s),h=Math.max(t,s),d=i-m,p=i+m):(m=o/2,u=t-m,h=t+m,d=Math.min(i,s),p=Math.max(i,s)),{left:u,top:d,right:h,bottom:p}}function Hi(n,e,t,i){return n?0:mt(e,t,i)}function R1(n,e,t){const i=n.options.borderWidth,s=n.borderSkipped,o=Hy(i);return{t:Hi(s.top,o.top,0,t),r:Hi(s.right,o.right,0,e),b:Hi(s.bottom,o.bottom,0,t),l:Hi(s.left,o.left,0,e)}}function L1(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,o=Es(s),l=Math.min(e,t),u=n.borderSkipped,h=i||Ie(s);return{topLeft:Hi(!h||u.top||u.left,o.topLeft,0,l),topRight:Hi(!h||u.top||u.right,o.topRight,0,l),bottomLeft:Hi(!h||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:Hi(!h||u.bottom||u.right,o.bottomRight,0,l)}}function N1(n){const e=yv(n),t=e.right-e.left,i=e.bottom-e.top,s=R1(n,t/2,i/2),o=L1(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:o},inner:{x:e.left+s.l,y:e.top+s.t,w:t-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function gh(n,e,t,i){const s=e===null,o=t===null,u=n&&!(s&&o)&&yv(n,i);return u&&(s||ri(e,u.left,u.right))&&(o||ri(t,u.top,u.bottom))}function j1(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function z1(n,e){n.rect(e.x,e.y,e.w,e.h)}function mh(n,e,t={}){const i=n.x!==t.x?-e:0,s=n.y!==t.y?-e:0,o=(n.x+n.w!==t.x+t.w?e:0)-i,l=(n.y+n.h!==t.y+t.h?e:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+o,h:n.h+l,radius:n.radius}}class Ho extends bn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:s}}=this,{inner:o,outer:l}=N1(this),u=j1(l.radius)?Qo:z1;e.save(),(l.w!==o.w||l.h!==o.h)&&(e.beginPath(),u(e,mh(l,t,o)),e.clip(),u(e,mh(o,-t,l)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,mh(o,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,i){return gh(this,e,t,i)}inXRange(e,t){return gh(this,e,null,t)}inYRange(e,t){return gh(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+s)/2:t,y:o?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Z(Ho,"id","bar"),Z(Ho,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Z(Ho,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var F1=Object.freeze({__proto__:null,ArcElement:br,BarElement:Ho,LineElement:Vi,PointElement:Vo});const jh=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],vm=jh.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function vv(n){return jh[n%jh.length]}function _v(n){return vm[n%vm.length]}function $1(n,e){return n.borderColor=vv(e),n.backgroundColor=_v(e),++e}function B1(n,e){return n.backgroundColor=n.data.map(()=>vv(e++)),e}function U1(n,e){return n.backgroundColor=n.data.map(()=>_v(e++)),e}function V1(n){let e=0;return(t,i)=>{const s=n.getDatasetMeta(i).controller;s instanceof ks?e=B1(t,e):s instanceof Uo?e=U1(t,e):s&&(e=$1(t,e))}}function _m(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function H1(n){return n&&(n.borderColor||n.backgroundColor)}function W1(){return Ye.borderColor!=="rgba(0,0,0,0.1)"||Ye.backgroundColor!=="rgba(0,0,0,0.1)"}var Y1={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:i},options:s}=n.config,{elements:o}=s,l=_m(i)||H1(s)||o&&_m(o)||W1();if(!t.forceOverride&&l)return;const u=V1(n);i.forEach(u)}};function q1(n,e,t,i,s){const o=s.samples||i;if(o>=t)return n.slice(e,e+t);const l=[],u=(t-2)/(o-2);let h=0;const d=e+t-1;let p=e,m,v,_,b,k;for(l[h++]=n[p],m=0;m<o-2;m++){let E=0,T=0,M;const R=Math.floor((m+1)*u)+1+e,N=Math.min(Math.floor((m+2)*u)+1,t)+e,L=N-R;for(M=R;M<N;M++)E+=n[M].x,T+=n[M].y;E/=L,T/=L;const B=Math.floor(m*u)+1+e,U=Math.min(Math.floor((m+1)*u)+1,t)+e,{x:q,y:ee}=n[p];for(_=b=-1,M=B;M<U;M++)b=.5*Math.abs((q-E)*(n[M].y-ee)-(q-n[M].x)*(T-ee)),b>_&&(_=b,v=n[M],k=M);l[h++]=v,p=k}return l[h++]=n[d],l}function X1(n,e,t,i){let s=0,o=0,l,u,h,d,p,m,v,_,b,k;const E=[],T=e+t-1,M=n[e].x,N=n[T].x-M;for(l=e;l<e+t;++l){u=n[l],h=(u.x-M)/N*i,d=u.y;const L=h|0;if(L===p)d<b?(b=d,m=l):d>k&&(k=d,v=l),s=(o*s+u.x)/++o;else{const B=l-1;if(!Ee(m)&&!Ee(v)){const U=Math.min(m,v),q=Math.max(m,v);U!==_&&U!==B&&E.push({...n[U],x:s}),q!==_&&q!==B&&E.push({...n[q],x:s})}l>0&&B!==_&&E.push(n[B]),E.push(u),p=L,o=0,b=k=d,m=v=_=l}}return E}function xv(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function xm(n){n.data.datasets.forEach(e=>{xv(e)})}function J1(n,e){const t=e.length;let i=0,s;const{iScale:o}=n,{min:l,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();return h&&(i=mt(oi(e,o.axis,l).lo,0,t-1)),d?s=mt(oi(e,o.axis,u).hi+1,i,t)-i:s=t-i,{start:i,count:s}}var G1={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){xm(n);return}const i=n.width;n.data.datasets.forEach((s,o)=>{const{_data:l,indexAxis:u}=s,h=n.getDatasetMeta(o),d=l||s.data;if(Ve([u,n.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;const p=n.scales[h.xAxisID];if(p.type!=="linear"&&p.type!=="time"||n.options.parsing)return;let{start:m,count:v}=J1(h,d);const _=t.threshold||4*i;if(v<=_){xv(s);return}Ee(l)&&(s._data=d,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(k){this._data=k}}));let b;switch(t.algorithm){case"lttb":b=q1(d,m,v,i,t);break;case"min-max":b=X1(d,m,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}s._decimated=b})},destroy(n){xm(n)}};function K1(n,e,t){const i=n.segments,s=n.points,o=e.points,l=[];for(const u of i){let{start:h,end:d}=u;d=xd(h,d,s);const p=zh(t,s[h],s[d],u.loop);if(!e.segments){l.push({source:u,target:p,start:s[h],end:s[d]});continue}const m=tv(e,p);for(const v of m){const _=zh(t,o[v.start],o[v.end],v.loop),b=ev(u,s,_);for(const k of b)l.push({source:k,target:v,start:{[t]:wm(p,_,"start",Math.max)},end:{[t]:wm(p,_,"end",Math.min)}})}}return l}function zh(n,e,t,i){if(i)return;let s=e[n],o=t[n];return n==="angle"&&(s=Qt(s),o=Qt(o)),{property:n,start:s,end:o}}function Z1(n,e){const{x:t=null,y:i=null}=n||{},s=e.points,o=[];return e.segments.forEach(({start:l,end:u})=>{u=xd(l,u,s);const h=s[l],d=s[u];i!==null?(o.push({x:h.x,y:i}),o.push({x:d.x,y:i})):t!==null&&(o.push({x:t,y:h.y}),o.push({x:t,y:d.y}))}),o}function xd(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function wm(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function wv(n,e){let t=[],i=!1;return He(n)?(i=!0,t=n):t=Z1(n,e),t.length?new Vi({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function bm(n){return n&&n.fill!==!1}function Q1(n,e,t){let s=n[e].fill;const o=[e];let l;if(!t)return s;for(;s!==!1&&o.indexOf(s)===-1;){if(!Qe(s))return s;if(l=n[s],!l)return!1;if(l.visible)return s;o.push(s),s=l.fill}return!1}function eE(n,e,t){const i=sE(n);if(Ie(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Qe(s)&&Math.floor(s)===s?tE(i[0],e,s,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function tE(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function nE(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:Ie(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function iE(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:Ie(n)?i=n.value:i=e.getBaseValue(),i}function sE(n){const e=n.options,t=e.fill;let i=_e(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function rE(n){const{scale:e,index:t,line:i}=n,s=[],o=i.segments,l=i.points,u=oE(e,t);u.push(wv({x:null,y:e.bottom},i));for(let h=0;h<o.length;h++){const d=o[h];for(let p=d.start;p<=d.end;p++)aE(s,l[p],u)}return new Vi({points:s,options:{}})}function oE(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const o=i[s];if(o.index===e)break;o.hidden||t.unshift(o.dataset)}return t}function aE(n,e,t){const i=[];for(let s=0;s<t.length;s++){const o=t[s],{first:l,last:u,point:h}=lE(o,e,"x");if(!(!h||l&&u)){if(l)i.unshift(h);else if(n.push(h),!u)break}}n.push(...i)}function lE(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const s=i[t],o=n.segments,l=n.points;let u=!1,h=!1;for(let d=0;d<o.length;d++){const p=o[d],m=l[p.start][t],v=l[p.end][t];if(ri(s,m,v)){u=s===m,h=s===v;break}}return{first:u,last:h,point:i}}class bv{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:s,y:o,radius:l}=this;return t=t||{start:0,end:We},e.arc(s,o,l,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:s}=this,o=e.angle;return{x:t+Math.cos(o)*s,y:i+Math.sin(o)*s,angle:o}}}function uE(n){const{chart:e,fill:t,line:i}=n;if(Qe(t))return cE(e,t);if(t==="stack")return rE(n);if(t==="shape")return!0;const s=hE(n);return s instanceof bv?s:wv(s,i)}function cE(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function hE(n){return(n.scale||{}).getPointPositionForValue?fE(n):dE(n)}function dE(n){const{scale:e={},fill:t}=n,i=nE(t,e);if(Qe(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function fE(n){const{scale:e,fill:t}=n,i=e.options,s=e.getLabels().length,o=i.reverse?e.max:e.min,l=iE(t,e,o),u=[];if(i.grid.circular){const h=e.getPointPositionForValue(0,o);return new bv({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(l)})}for(let h=0;h<s;++h)u.push(e.getPointPositionForValue(h,l));return u}function yh(n,e,t){const i=uE(e),{chart:s,index:o,line:l,scale:u,axis:h}=e,d=l.options,p=d.fill,m=d.backgroundColor,{above:v=m,below:_=m}=p||{},b=s.getDatasetMeta(o),k=nv(s,b);i&&l.points.length&&(lu(n,t),pE(n,{line:l,target:i,above:v,below:_,area:t,scale:u,axis:h,clip:k}),uu(n))}function pE(n,e){const{line:t,target:i,above:s,below:o,area:l,scale:u,clip:h}=e,d=t._loop?"angle":e.axis;n.save(),d==="x"&&o!==s&&(km(n,i,l.top),Sm(n,{line:t,target:i,color:s,scale:u,property:d,clip:h}),n.restore(),n.save(),km(n,i,l.bottom)),Sm(n,{line:t,target:i,color:o,scale:u,property:d,clip:h}),n.restore()}function km(n,e,t){const{segments:i,points:s}=e;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:h,end:d}=u,p=s[h],m=s[xd(h,d,s)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(p.x,t),n.lineTo(p.x,p.y)),l=!!e.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(m.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function Sm(n,e){const{line:t,target:i,property:s,color:o,scale:l,clip:u}=e,h=K1(t,i,s);for(const{source:d,target:p,start:m,end:v}of h){const{style:{backgroundColor:_=o}={}}=d,b=i!==!0;n.save(),n.fillStyle=_,gE(n,l,u,b&&zh(s,m,v)),n.beginPath();const k=!!t.pathSegment(n,d);let E;if(b){k?n.closePath():Em(n,i,v,s);const T=!!i.pathSegment(n,p,{move:k,reverse:!0});E=k&&T,E||Em(n,i,m,s)}n.closePath(),n.fill(E?"evenodd":"nonzero"),n.restore()}}function gE(n,e,t,i){const s=e.chart.chartArea,{property:o,start:l,end:u}=i||{};if(o==="x"||o==="y"){let h,d,p,m;o==="x"?(h=l,d=s.top,p=u,m=s.bottom):(h=s.left,d=l,p=s.right,m=u),n.beginPath(),t&&(h=Math.max(h,t.left),p=Math.min(p,t.right),d=Math.max(d,t.top),m=Math.min(m,t.bottom)),n.rect(h,d,p-h,m-d),n.clip()}}function Em(n,e,t,i){const s=e.interpolate(t,i);s&&n.lineTo(s.x,s.y)}var mE={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,s=[];let o,l,u,h;for(l=0;l<i;++l)o=n.getDatasetMeta(l),u=o.dataset,h=null,u&&u.options&&u instanceof Vi&&(h={visible:n.isDatasetVisible(l),index:l,fill:eE(u,l,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=h,s.push(h);for(l=0;l<i;++l)h=s[l],!(!h||h.fill===!1)&&(h.fill=Q1(s,l,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=s.length-1;l>=0;--l){const u=s[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),i&&u.fill&&yh(n.ctx,u,o))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const o=i[s].$filler;bm(o)&&yh(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!bm(i)||t.drawTime!=="beforeDatasetDraw"||yh(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Tm=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},yE=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Pm extends bn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=me(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=ot(i.font),o=s.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=Tm(i,o);let d,p;t.font=s.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(l,o,u,h)+10):(p=this.maxHeight,d=this._fitCols(l,s,u,h)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,s){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],d=this.lineWidths=[0],p=s+u;let m=e;o.textAlign="left",o.textBaseline="middle";let v=-1,_=-p;return this.legendItems.forEach((b,k)=>{const E=i+t/2+o.measureText(b.text).width;(k===0||d[d.length-1]+E+2*u>l)&&(m+=p,d[d.length-(k>0?0:1)]=0,_+=p,v++),h[k]={left:0,top:_,row:v,width:E,height:s},d[d.length-1]+=E+u}),m}_fitCols(e,t,i,s){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],d=this.columnSizes=[],p=l-e;let m=u,v=0,_=0,b=0,k=0;return this.legendItems.forEach((E,T)=>{const{itemWidth:M,itemHeight:R}=vE(i,t,o,E,s);T>0&&_+R+2*u>p&&(m+=v+u,d.push({width:v,height:_}),b+=v+u,k++,v=_=0),h[T]={left:b,top:_,col:k,width:M,height:R},v=Math.max(v,M),_+=R+u}),m+=v,d.push({width:v,height:_}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:s},rtl:o}}=this,l=Sr(o,this.left,this.width);if(this.isHorizontal()){let u=0,h=Et(i,this.left+s,this.right-this.lineWidths[u]);for(const d of t)u!==d.row&&(u=d.row,h=Et(i,this.left+s,this.right-this.lineWidths[u])),d.top+=this.top+e+s,d.left=l.leftForLtr(l.x(h),d.width),h+=d.width+s}else{let u=0,h=Et(i,this.top+e+s,this.bottom-this.columnSizes[u].height);for(const d of t)d.col!==u&&(u=d.col,h=Et(i,this.top+e+s,this.bottom-this.columnSizes[u].height)),d.top=h,d.left+=this.left+s,d.left=l.leftForLtr(l.x(d.left),d.width),h+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;lu(e,this),this._draw(),uu(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:s}=this,{align:o,labels:l}=e,u=Ye.color,h=Sr(e.rtl,this.left,this.width),d=ot(l.font),{padding:p}=l,m=d.size,v=m/2;let _;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:b,boxHeight:k,itemHeight:E}=Tm(l,m),T=function(B,U,q){if(isNaN(b)||b<=0||isNaN(k)||k<0)return;s.save();const ee=_e(q.lineWidth,1);if(s.fillStyle=_e(q.fillStyle,u),s.lineCap=_e(q.lineCap,"butt"),s.lineDashOffset=_e(q.lineDashOffset,0),s.lineJoin=_e(q.lineJoin,"miter"),s.lineWidth=ee,s.strokeStyle=_e(q.strokeStyle,u),s.setLineDash(_e(q.lineDash,[])),l.usePointStyle){const ue={radius:k*Math.SQRT2/2,pointStyle:q.pointStyle,rotation:q.rotation,borderWidth:ee},ce=h.xPlus(B,b/2),de=U+v;Vy(s,ue,ce,de,l.pointStyleWidth&&b)}else{const ue=U+Math.max((m-k)/2,0),ce=h.leftForLtr(B,b),de=Es(q.borderRadius);s.beginPath(),Object.values(de).some(Me=>Me!==0)?Qo(s,{x:ce,y:ue,w:b,h:k,radius:de}):s.rect(ce,ue,b,k),s.fill(),ee!==0&&s.stroke()}s.restore()},M=function(B,U,q){Cs(s,q.text,B,U+E/2,d,{strikethrough:q.hidden,textAlign:h.textAlign(q.textAlign)})},R=this.isHorizontal(),N=this._computeTitleHeight();R?_={x:Et(o,this.left+p,this.right-i[0]),y:this.top+p+N,line:0}:_={x:this.left+p,y:Et(o,this.top+N+p,this.bottom-t[0].height),line:0},Ky(this.ctx,e.textDirection);const L=E+p;this.legendItems.forEach((B,U)=>{s.strokeStyle=B.fontColor,s.fillStyle=B.fontColor;const q=s.measureText(B.text).width,ee=h.textAlign(B.textAlign||(B.textAlign=l.textAlign)),ue=b+v+q;let ce=_.x,de=_.y;h.setWidth(this.width),R?U>0&&ce+ue+p>this.right&&(de=_.y+=L,_.line++,ce=_.x=Et(o,this.left+p,this.right-i[_.line])):U>0&&de+L>this.bottom&&(ce=_.x=ce+t[_.line].width+p,_.line++,de=_.y=Et(o,this.top+N+p,this.bottom-t[_.line].height));const Me=h.x(ce);if(T(Me,de,B),ce=zb(ee,ce+b+v,R?ce+ue:this.right,e.rtl),M(h.x(ce),de,B),R)_.x+=ue+p;else if(typeof B.text!="string"){const Ne=d.lineHeight;_.y+=kv(B,Ne)+p}else _.y+=L}),Zy(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=ot(t.font),s=_t(t.padding);if(!t.display)return;const o=Sr(e.rtl,this.left,this.width),l=this.ctx,u=t.position,h=i.size/2,d=s.top+h;let p,m=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+d,m=Et(e.align,m,this.right-v);else{const b=this.columnSizes.reduce((k,E)=>Math.max(k,E.height),0);p=d+Et(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const _=Et(u,m,m+v);l.textAlign=o.textAlign(hd(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=i.string,Cs(l,t.text,_,p,i)}_computeTitleHeight(){const e=this.options.title,t=ot(e.font),i=_t(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,s,o;if(ri(e,this.left,this.right)&&ri(t,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],ri(e,s.left,s.left+s.width)&&ri(t,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!wE(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,o=yE(s,i);s&&!o&&me(t.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!o&&me(t.onHover,[e,i,this],this)}else i&&me(t.onClick,[e,i,this],this)}}function vE(n,e,t,i,s){const o=_E(i,n,e,t),l=xE(s,i,e.lineHeight);return{itemWidth:o,itemHeight:l}}function _E(n,e,t,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((o,l)=>o.length>l.length?o:l)),e+t.size/2+i.measureText(s).width}function xE(n,e,t){let i=n;return typeof e.text!="string"&&(i=kv(e,t)),i}function kv(n,e){const t=n.text?n.text.length:0;return e*t}function wE(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var bE={id:"legend",_element:Pm,start(n,e,t){const i=n.legend=new Pm({ctx:n.ctx,options:t,chart:n});Tt.configure(n,i,t),Tt.addBox(n,i)},stop(n){Tt.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Tt.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,s=t.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:s,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const d=h.controller.getStyle(t?0:void 0),p=_t(d.borderWidth);return{text:e[h.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:l&&(u||d.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class wd extends bn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const s=He(i.text)?i.text.length:1;this._padding=_t(i.padding);const o=s*ot(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:s,right:o,options:l}=this,u=l.align;let h=0,d,p,m;return this.isHorizontal()?(p=Et(u,i,o),m=t+e,d=o-i):(l.position==="left"?(p=i+e,m=Et(u,s,t),h=qe*-.5):(p=o-e,m=Et(u,t,s),h=qe*.5),d=s-t),{titleX:p,titleY:m,maxWidth:d,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=ot(t.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:h,rotation:d}=this._drawArgs(o);Cs(e,t.text,0,0,i,{color:t.color,maxWidth:h,rotation:d,textAlign:hd(t.align),textBaseline:"middle",translation:[l,u]})}}function kE(n,e){const t=new wd({ctx:n.ctx,options:e,chart:n});Tt.configure(n,t,e),Tt.addBox(n,t),n.titleBlock=t}var SE={id:"title",_element:wd,start(n,e,t){kE(n,t)},stop(n){const e=n.titleBlock;Tt.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;Tt.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Nl=new WeakMap;var EE={id:"subtitle",start(n,e,t){const i=new wd({ctx:n.ctx,options:t,chart:n});Tt.configure(n,i,t),Tt.addBox(n,i),Nl.set(n,i)},stop(n){Tt.removeBox(n,Nl.get(n)),Nl.delete(n)},beforeUpdate(n,e,t){const i=Nl.get(n);Tt.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ro={average(n){if(!n.length)return!1;let e,t,i=new Set,s=0,o=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),s+=h.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:s/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,s=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const h=n[o].element;if(h&&h.hasValue()){const d=h.getCenterPoint(),p=Oh(e,d);p<s&&(s=p,u=h)}}if(u){const h=u.tooltipPosition();t=h.x,i=h.y}return{x:t,y:i}}};function Rn(n,e){return e&&(He(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function ni(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function TE(n,e){const{element:t,datasetIndex:i,index:s}=e,o=n.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(s);return{chart:n,label:l,parsed:o.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:u,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:t}}function Cm(n,e){const t=n.chart.ctx,{body:i,footer:s,title:o}=n,{boxWidth:l,boxHeight:u}=e,h=ot(e.bodyFont),d=ot(e.titleFont),p=ot(e.footerFont),m=o.length,v=s.length,_=i.length,b=_t(e.padding);let k=b.height,E=0,T=i.reduce((N,L)=>N+L.before.length+L.lines.length+L.after.length,0);if(T+=n.beforeBody.length+n.afterBody.length,m&&(k+=m*d.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),T){const N=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;k+=_*N+(T-_)*h.lineHeight+(T-1)*e.bodySpacing}v&&(k+=e.footerMarginTop+v*p.lineHeight+(v-1)*e.footerSpacing);let M=0;const R=function(N){E=Math.max(E,t.measureText(N).width+M)};return t.save(),t.font=d.string,Ae(n.title,R),t.font=h.string,Ae(n.beforeBody.concat(n.afterBody),R),M=e.displayColors?l+2+e.boxPadding:0,Ae(i,N=>{Ae(N.before,R),Ae(N.lines,R),Ae(N.after,R)}),M=0,t.font=p.string,Ae(n.footer,R),t.restore(),E+=b.width,{width:E,height:k}}function PE(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function CE(n,e,t,i){const{x:s,width:o}=i,l=t.caretSize+t.caretPadding;if(n==="left"&&s+o+l>e.width||n==="right"&&s-o-l<0)return!0}function ME(n,e,t,i){const{x:s,width:o}=t,{width:l,chartArea:{left:u,right:h}}=n;let d="center";return i==="center"?d=s<=(u+h)/2?"left":"right":s<=o/2?d="left":s>=l-o/2&&(d="right"),CE(d,n,e,t)&&(d="center"),d}function Mm(n,e,t){const i=t.yAlign||e.yAlign||PE(n,t);return{xAlign:t.xAlign||e.xAlign||ME(n,e,t,i),yAlign:i}}function OE(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function AE(n,e,t){let{y:i,height:s}=n;return e==="top"?i+=t:e==="bottom"?i-=s+t:i-=s/2,i}function Om(n,e,t,i){const{caretSize:s,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:h}=t,d=s+o,{topLeft:p,topRight:m,bottomLeft:v,bottomRight:_}=Es(l);let b=OE(e,u);const k=AE(e,h,d);return h==="center"?u==="left"?b+=d:u==="right"&&(b-=d):u==="left"?b-=Math.max(p,v)+s:u==="right"&&(b+=Math.max(m,_)+s),{x:mt(b,0,i.width-e.width),y:mt(k,0,i.height-e.height)}}function jl(n,e,t){const i=_t(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function Am(n){return Rn([],ni(n))}function IE(n,e,t){return Gi(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Im(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const Sv={beforeTitle:ei,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:ei,beforeBody:ei,beforeLabel:ei,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Ee(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ei,afterBody:ei,beforeFooter:ei,footer:ei,afterFooter:ei};function Ft(n,e,t,i){const s=n[e].call(t,i);return typeof s>"u"?Sv[e].call(t,i):s}class Fh extends bn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&t.options.animation&&i.animations,o=new iv(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=IE(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,s=Ft(i,"beforeTitle",this,e),o=Ft(i,"title",this,e),l=Ft(i,"afterTitle",this,e);let u=[];return u=Rn(u,ni(s)),u=Rn(u,ni(o)),u=Rn(u,ni(l)),u}getBeforeBody(e,t){return Am(Ft(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,s=[];return Ae(e,o=>{const l={before:[],lines:[],after:[]},u=Im(i,o);Rn(l.before,ni(Ft(u,"beforeLabel",this,o))),Rn(l.lines,Ft(u,"label",this,o)),Rn(l.after,ni(Ft(u,"afterLabel",this,o))),s.push(l)}),s}getAfterBody(e,t){return Am(Ft(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,s=Ft(i,"beforeFooter",this,e),o=Ft(i,"footer",this,e),l=Ft(i,"afterFooter",this,e);let u=[];return u=Rn(u,ni(s)),u=Rn(u,ni(o)),u=Rn(u,ni(l)),u}_createItems(e){const t=this._active,i=this.chart.data,s=[],o=[],l=[];let u=[],h,d;for(h=0,d=t.length;h<d;++h)u.push(TE(this.chart,t[h]));return e.filter&&(u=u.filter((p,m,v)=>e.filter(p,m,v,i))),e.itemSort&&(u=u.sort((p,m)=>e.itemSort(p,m,i))),Ae(u,p=>{const m=Im(e.callbacks,p);s.push(Ft(m,"labelColor",this,p)),o.push(Ft(m,"labelPointStyle",this,p)),l.push(Ft(m,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const i=this.options.setContext(this.getContext()),s=this._active;let o,l=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const u=Ro[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=Cm(this,i),d=Object.assign({},u,h),p=Mm(this.chart,i,d),m=Om(i,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:m.x,y:m.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,s){const o=this.getCaretPosition(e,i,s);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,i){const{xAlign:s,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:d,bottomLeft:p,bottomRight:m}=Es(u),{x:v,y:_}=e,{width:b,height:k}=t;let E,T,M,R,N,L;return o==="center"?(N=_+k/2,s==="left"?(E=v,T=E-l,R=N+l,L=N-l):(E=v+b,T=E+l,R=N-l,L=N+l),M=E):(s==="left"?T=v+Math.max(h,p)+l:s==="right"?T=v+b-Math.max(d,m)-l:T=this.caretX,o==="top"?(R=_,N=R-l,E=T-l,M=T+l):(R=_+k,N=R+l,E=T+l,M=T-l),L=R),{x1:E,x2:T,x3:M,y1:R,y2:N,y3:L}}drawTitle(e,t,i){const s=this.title,o=s.length;let l,u,h;if(o){const d=Sr(i.rtl,this.x,this.width);for(e.x=jl(this,i.titleAlign,i),t.textAlign=d.textAlign(i.titleAlign),t.textBaseline="middle",l=ot(i.titleFont),u=i.titleSpacing,t.fillStyle=i.titleColor,t.font=l.string,h=0;h<o;++h)t.fillText(s[h],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,h+1===o&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,t,i,s,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:d}=o,p=ot(o.bodyFont),m=jl(this,"left",o),v=s.x(m),_=h<p.lineHeight?(p.lineHeight-h)/2:0,b=t.y+_;if(o.usePointStyle){const k={radius:Math.min(d,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},E=s.leftForLtr(v,d)+d/2,T=b+h/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Ih(e,k,E,T),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Ih(e,k,E,T)}else{e.lineWidth=Ie(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const k=s.leftForLtr(v,d),E=s.leftForLtr(s.xPlus(v,1),d-2),T=Es(l.borderRadius);Object.values(T).some(M=>M!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Qo(e,{x:k,y:b,w:d,h,radius:T}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Qo(e,{x:E,y:b+1,w:d-2,h:h-2,radius:T}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(k,b,d,h),e.strokeRect(k,b,d,h),e.fillStyle=l.backgroundColor,e.fillRect(E,b+1,d-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:s}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:d,boxPadding:p}=i,m=ot(i.bodyFont);let v=m.lineHeight,_=0;const b=Sr(i.rtl,this.x,this.width),k=function(q){t.fillText(q,b.x(e.x+_),e.y+v/2),e.y+=v+o},E=b.textAlign(l);let T,M,R,N,L,B,U;for(t.textAlign=l,t.textBaseline="middle",t.font=m.string,e.x=jl(this,E,i),t.fillStyle=i.bodyColor,Ae(this.beforeBody,k),_=u&&E!=="right"?l==="center"?d/2+p:d+2+p:0,N=0,B=s.length;N<B;++N){for(T=s[N],M=this.labelTextColors[N],t.fillStyle=M,Ae(T.before,k),R=T.lines,u&&R.length&&(this._drawColorBox(t,e,N,b,i),v=Math.max(m.lineHeight,h)),L=0,U=R.length;L<U;++L)k(R[L]),v=m.lineHeight;Ae(T.after,k)}_=0,v=m.lineHeight,Ae(this.afterBody,k),e.y-=o}drawFooter(e,t,i){const s=this.footer,o=s.length;let l,u;if(o){const h=Sr(i.rtl,this.x,this.width);for(e.x=jl(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=h.textAlign(i.footerAlign),t.textBaseline="middle",l=ot(i.footerFont),t.fillStyle=i.footerColor,t.font=l.string,u=0;u<o;++u)t.fillText(s[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,t,i,s){const{xAlign:o,yAlign:l}=this,{x:u,y:h}=e,{width:d,height:p}=i,{topLeft:m,topRight:v,bottomLeft:_,bottomRight:b}=Es(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(u+m,h),l==="top"&&this.drawCaret(e,t,i,s),t.lineTo(u+d-v,h),t.quadraticCurveTo(u+d,h,u+d,h+v),l==="center"&&o==="right"&&this.drawCaret(e,t,i,s),t.lineTo(u+d,h+p-b),t.quadraticCurveTo(u+d,h+p,u+d-b,h+p),l==="bottom"&&this.drawCaret(e,t,i,s),t.lineTo(u+_,h+p),t.quadraticCurveTo(u,h+p,u,h+p-_),l==="center"&&o==="left"&&this.drawCaret(e,t,i,s),t.lineTo(u,h+m),t.quadraticCurveTo(u,h,u+m,h),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const l=Ro[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=Cm(this,e),h=Object.assign({},l,this._size),d=Mm(t,e,h),p=Om(e,h,d,t);(s._to!==p.x||o._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=_t(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,s,t),Ky(e,t.textDirection),o.y+=l.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),Zy(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,s=e.map(({datasetIndex:u,index:h})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[h],index:h}}),o=!Zl(i,s),l=this._positionChanged(s,t);(o||l)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],l=this._getActiveElements(e,o,t,i),u=this._positionChanged(l,e),h=t||!Zl(l,o)||u;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,i,s){const o=this.options;if(e.type==="mouseout")return[];if(!s)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:i,caretY:s,options:o}=this,l=Ro[o.position].call(this,e,t);return l!==!1&&(i!==l.x||s!==l.y)}}Z(Fh,"positioners",Ro);var DE={id:"tooltip",_element:Fh,positioners:Ro,afterInit(n,e,t){t&&(n.tooltip=new Fh({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Sv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},RE=Object.freeze({__proto__:null,Colors:Y1,Decimation:G1,Filler:mE,Legend:bE,SubTitle:EE,Title:SE,Tooltip:DE});const LE=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function NE(n,e,t,i){const s=n.indexOf(e);if(s===-1)return LE(n,e,t,i);const o=n.lastIndexOf(e);return s!==o?t:s}const jE=(n,e)=>n===null?null:mt(Math.round(n),0,e);function Dm(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class $h extends Os{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:s,label:o}of t)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ee(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:NE(i,e,_e(t,e),this._addedLabels),jE(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=t;l++)s.push({value:l});return s}getLabelForValue(e){return Dm.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Z($h,"id","category"),Z($h,"defaults",{ticks:{callback:Dm}});function zE(n,e){const t=[],{bounds:s,step:o,min:l,max:u,precision:h,count:d,maxTicks:p,maxDigits:m,includeBounds:v}=n,_=o||1,b=p-1,{min:k,max:E}=e,T=!Ee(l),M=!Ee(u),R=!Ee(d),N=(E-k)/(m+1);let L=Cg((E-k)/b/_)*_,B,U,q,ee;if(L<1e-14&&!T&&!M)return[{value:k},{value:E}];ee=Math.ceil(E/L)-Math.floor(k/L),ee>b&&(L=Cg(ee*L/b/_)*_),Ee(h)||(B=Math.pow(10,h),L=Math.ceil(L*B)/B),s==="ticks"?(U=Math.floor(k/L)*L,q=Math.ceil(E/L)*L):(U=k,q=E),T&&M&&o&&Ab((u-l)/o,L/1e3)?(ee=Math.round(Math.min((u-l)/L,p)),L=(u-l)/ee,U=l,q=u):R?(U=T?l:U,q=M?u:q,ee=d-1,L=(q-U)/ee):(ee=(q-U)/L,Ss(ee,Math.round(ee),L/1e3)?ee=Math.round(ee):ee=Math.ceil(ee));const ue=Math.max(Mg(L),Mg(U));B=Math.pow(10,Ee(h)?ue:h),U=Math.round(U*B)/B,q=Math.round(q*B)/B;let ce=0;for(T&&(v&&U!==l?(t.push({value:l}),U<l&&ce++,Ss(Math.round((U+ce*L)*B)/B,l,Rm(l,N,n))&&ce++):U<l&&ce++);ce<ee;++ce){const de=Math.round((U+ce*L)*B)/B;if(M&&de>u)break;t.push({value:de})}return M&&v&&q!==u?t.length&&Ss(t[t.length-1].value,u,Rm(u,N,n))?t[t.length-1].value=u:t.push({value:u}):(!M||q===u)&&t.push({value:q}),t}function Rm(n,e,{horizontal:t,minRotation:i}){const s=xn(i),o=(t?Math.sin(s):Math.cos(s))||.001,l=.75*e*(""+n).length;return Math.min(e/o,l)}class ru extends Os{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ee(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const l=h=>s=t?s:h,u=h=>o=i?o:h;if(e){const h=un(s),d=un(o);h<0&&d<0?u(0):h>0&&d>0&&l(0)}if(s===o){let h=o===0?1:Math.abs(o*.05);u(o+h),e||l(s-h)}this.min=s,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,l=zE(s,o);return e.bounds==="ticks"&&Ry(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-t)/Math.max(e.length-1,1)/2;t-=s,i+=s}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return oa(e,this.chart.options.locale,this.options.ticks.format)}}class Bh extends ru{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Qe(e)?e:0,this.max=Qe(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=xn(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Z(Bh,"id","linear"),Z(Bh,"defaults",{ticks:{callback:au.formatters.numeric}});const ta=n=>Math.floor(Ui(n)),_s=(n,e)=>Math.pow(10,ta(n)+e);function Lm(n){return n/Math.pow(10,ta(n))===1}function Nm(n,e,t){const i=Math.pow(10,t),s=Math.floor(n/i);return Math.ceil(e/i)-s}function FE(n,e){const t=e-n;let i=ta(t);for(;Nm(n,e,i)>10;)i++;for(;Nm(n,e,i)<10;)i--;return Math.min(i,ta(n))}function $E(n,{min:e,max:t}){e=Zt(n.min,e);const i=[],s=ta(e);let o=FE(e,t),l=o<0?Math.pow(10,Math.abs(o)):1;const u=Math.pow(10,o),h=s>o?Math.pow(10,s):0,d=Math.round((e-h)*l)/l,p=Math.floor((e-h)/u/10)*u*10;let m=Math.floor((d-p)/Math.pow(10,o)),v=Zt(n.min,Math.round((h+p+m*Math.pow(10,o))*l)/l);for(;v<t;)i.push({value:v,major:Lm(v),significand:m}),m>=10?m=m<15?15:20:m++,m>=20&&(o++,m=2,l=o>=0?1:l),v=Math.round((h+p+m*Math.pow(10,o))*l)/l;const _=Zt(n.max,v);return i.push({value:_,major:Lm(_),significand:m}),i}class Uh extends Os{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=ru.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return Qe(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Qe(e)?Math.max(0,e):null,this.max=Qe(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Qe(this._userMin)&&(this.min=e===_s(this.min,0)?_s(this.min,-1):_s(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,s=this.max;const o=u=>i=e?i:u,l=u=>s=t?s:u;i===s&&(i<=0?(o(1),l(10)):(o(_s(i,-1)),l(_s(s,1)))),i<=0&&o(_s(s,-1)),s<=0&&l(_s(i,1)),this.min=i,this.max=s}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},i=$E(t,this);return e.bounds==="ticks"&&Ry(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":oa(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ui(e),this._valueRange=Ui(this.max)-Ui(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ui(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}Z(Uh,"id","logarithmic"),Z(Uh,"defaults",{ticks:{callback:au.formatters.logarithmic,major:{enabled:!0}}});function Vh(n){const e=n.ticks;if(e.display&&n.display){const t=_t(e.backdropPadding);return _e(e.font&&e.font.size,Ye.font.size)+t.height}return 0}function BE(n,e,t){return t=He(t)?t:[t],{w:Xb(n,e.string,t),h:t.length*e.lineHeight}}function jm(n,e,t,i,s){return n===i||n===s?{start:e-t/2,end:e+t/2}:n<i||n>s?{start:e-t,end:e}:{start:e,end:e+t}}function UE(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],s=[],o=n._pointLabels.length,l=n.options.pointLabels,u=l.centerPointLabels?qe/o:0;for(let h=0;h<o;h++){const d=l.setContext(n.getPointLabelContext(h));s[h]=d.padding;const p=n.getPointPosition(h,n.drawingArea+s[h],u),m=ot(d.font),v=BE(n.ctx,m,n._pointLabels[h]);i[h]=v;const _=Qt(n.getIndexAngle(h)+u),b=Math.round(ud(_)),k=jm(b,p.x,v.w,0,180),E=jm(b,p.y,v.h,90,270);VE(t,e,_,k,E)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=YE(n,i,s)}function VE(n,e,t,i,s){const o=Math.abs(Math.sin(t)),l=Math.abs(Math.cos(t));let u=0,h=0;i.start<e.l?(u=(e.l-i.start)/o,n.l=Math.min(n.l,e.l-u)):i.end>e.r&&(u=(i.end-e.r)/o,n.r=Math.max(n.r,e.r+u)),s.start<e.t?(h=(e.t-s.start)/l,n.t=Math.min(n.t,e.t-h)):s.end>e.b&&(h=(s.end-e.b)/l,n.b=Math.max(n.b,e.b+h))}function HE(n,e,t){const i=n.drawingArea,{extra:s,additionalAngle:o,padding:l,size:u}=t,h=n.getPointPosition(e,i+s+l,o),d=Math.round(ud(Qt(h.angle+it))),p=JE(h.y,u.h,d),m=qE(d),v=XE(h.x,u.w,m);return{visible:!0,x:h.x,y:p,textAlign:m,left:v,top:p,right:v+u.w,bottom:p+u.h}}function WE(n,e){if(!e)return!0;const{left:t,top:i,right:s,bottom:o}=n;return!(jn({x:t,y:i},e)||jn({x:t,y:o},e)||jn({x:s,y:i},e)||jn({x:s,y:o},e))}function YE(n,e,t){const i=[],s=n._pointLabels.length,o=n.options,{centerPointLabels:l,display:u}=o.pointLabels,h={extra:Vh(o)/2,additionalAngle:l?qe/s:0};let d;for(let p=0;p<s;p++){h.padding=t[p],h.size=e[p];const m=HE(n,p,h);i.push(m),u==="auto"&&(m.visible=WE(m,d),m.visible&&(d=m))}return i}function qE(n){return n===0||n===180?"center":n<180?"left":"right"}function XE(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function JE(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function GE(n,e,t){const{left:i,top:s,right:o,bottom:l}=t,{backdropColor:u}=e;if(!Ee(u)){const h=Es(e.borderRadius),d=_t(e.backdropPadding);n.fillStyle=u;const p=i-d.left,m=s-d.top,v=o-i+d.width,_=l-s+d.height;Object.values(h).some(b=>b!==0)?(n.beginPath(),Qo(n,{x:p,y:m,w:v,h:_,radius:h}),n.fill()):n.fillRect(p,m,v,_)}}function KE(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let s=e-1;s>=0;s--){const o=n._pointLabelItems[s];if(!o.visible)continue;const l=i.setContext(n.getPointLabelContext(s));GE(t,l,o);const u=ot(l.font),{x:h,y:d,textAlign:p}=o;Cs(t,n._pointLabels[s],h,d+u.lineHeight/2,u,{color:l.color,textAlign:p,textBaseline:"middle"})}}function Ev(n,e,t,i){const{ctx:s}=n;if(t)s.arc(n.xCenter,n.yCenter,e,0,We);else{let o=n.getPointPosition(0,e);s.moveTo(o.x,o.y);for(let l=1;l<i;l++)o=n.getPointPosition(l,e),s.lineTo(o.x,o.y)}}function ZE(n,e,t,i,s){const o=n.ctx,l=e.circular,{color:u,lineWidth:h}=e;!l&&!i||!u||!h||t<0||(o.save(),o.strokeStyle=u,o.lineWidth=h,o.setLineDash(s.dash||[]),o.lineDashOffset=s.dashOffset,o.beginPath(),Ev(n,t,l,i),o.closePath(),o.stroke(),o.restore())}function QE(n,e,t){return Gi(n,{label:t,index:e,type:"pointLabel"})}class Lo extends ru{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=_t(Vh(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Qe(e)&&!isNaN(e)?e:0,this.max=Qe(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Vh(this.options))}generateTickLabels(e){ru.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const s=me(this.options.pointLabels.callback,[t,i],this);return s||s===0?s:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?UE(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,s){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,s))}getIndexAngle(e){const t=We/(this._pointLabels.length||1),i=this.options.startAngle||0;return Qt(e*t+xn(i))}getDistanceFromCenterForValue(e){if(Ee(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Ee(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return QE(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const s=this.getIndexAngle(e)-it+i;return{x:Math.cos(s)*t+this.xCenter,y:Math.sin(s)*t+this.yCenter,angle:s}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:s,bottom:o}=this._pointLabelItems[e];return{left:t,top:i,right:s,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),Ev(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:s,border:o}=t,l=this._pointLabels.length;let u,h,d;if(t.pointLabels.display&&KE(this,l),s.display&&this.ticks.forEach((p,m)=>{if(m!==0||m===0&&this.min<0){h=this.getDistanceFromCenterForValue(p.value);const v=this.getContext(m),_=s.setContext(v),b=o.setContext(v);ZE(this,_,h,l,b)}}),i.display){for(e.save(),u=l-1;u>=0;u--){const p=i.setContext(this.getPointLabelContext(u)),{color:m,lineWidth:v}=p;!v||!m||(e.lineWidth=v,e.strokeStyle=m,e.setLineDash(p.borderDash),e.lineDashOffset=p.borderDashOffset,h=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),d=this.getPointPosition(u,h),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let o,l;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((u,h)=>{if(h===0&&this.min>=0&&!t.reverse)return;const d=i.setContext(this.getContext(h)),p=ot(d.font);if(o=this.getDistanceFromCenterForValue(this.ticks[h].value),d.showLabelBackdrop){e.font=p.string,l=e.measureText(u.label).width,e.fillStyle=d.backdropColor;const m=_t(d.backdropPadding);e.fillRect(-l/2-m.left,-o-p.size/2-m.top,l+m.width,p.size+m.height)}Cs(e,u.label,0,-o,p,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}Z(Lo,"id","radialLinear"),Z(Lo,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:au.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Z(Lo,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Z(Lo,"descriptors",{angleLines:{_fallback:"grid"}});const du={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ut=Object.keys(du);function zm(n,e){return n-e}function Fm(n,e){if(Ee(e))return null;const t=n._adapter,{parser:i,round:s,isoWeekday:o}=n._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),Qe(l)||(l=typeof i=="string"?t.parse(l,i):t.parse(l)),l===null?null:(s&&(l=s==="week"&&(Pr(o)||o===!0)?t.startOf(l,"isoWeek",o):t.startOf(l,s)),+l)}function $m(n,e,t,i){const s=Ut.length;for(let o=Ut.indexOf(n);o<s-1;++o){const l=du[Ut[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=i)return Ut[o]}return Ut[s-1]}function eT(n,e,t,i,s){for(let o=Ut.length-1;o>=Ut.indexOf(t);o--){const l=Ut[o];if(du[l].common&&n._adapter.diff(s,i,l)>=e-1)return l}return Ut[t?Ut.indexOf(t):0]}function tT(n){for(let e=Ut.indexOf(n)+1,t=Ut.length;e<t;++e)if(du[Ut[e]].common)return Ut[e]}function Bm(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:s}=cd(t,e),o=t[i]>=e?t[i]:t[s];n[o]=!0}}function nT(n,e,t,i){const s=n._adapter,o=+s.startOf(e[0].value,i),l=e[e.length-1].value;let u,h;for(u=o;u<=l;u=+s.add(u,1,i))h=t[u],h>=0&&(e[h].major=!0);return e}function Um(n,e,t){const i=[],s={},o=e.length;let l,u;for(l=0;l<o;++l)u=e[l],s[u]=l,i.push({value:u,major:!1});return o===0||!t?i:nT(n,i,s,t)}class na extends Os{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),s=this._adapter=new hS._date(e.adapters.date);s.init(t),Fo(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Fm(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:s,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function h(d){!l&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!u&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!l||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=Qe(s)&&!isNaN(s)?s:+t.startOf(Date.now(),i),o=Qe(o)&&!isNaN(o)?o:+t.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,l=this.max,u=Lb(s,o,l);return this._unit=t.unit||(i.autoSkip?$m(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):eT(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:tT(this._unit),this.initOffsets(s),e.reverse&&u.reverse(),Um(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,s,o;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=mt(t,0,l),i=mt(i,0,l),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,s=this.options,o=s.time,l=o.unit||$m(o.minUnit,t,i,this._getLabelCapacity(t)),u=_e(s.ticks.stepSize,1),h=l==="week"?o.isoWeekday:!1,d=Pr(h)||h===!0,p={};let m=t,v,_;if(d&&(m=+e.startOf(m,"isoWeek",h)),m=+e.startOf(m,d?"day":l),e.diff(i,t,l)>1e5*u)throw new Error(t+" and "+i+" are too far apart with stepSize of "+u+" "+l);const b=s.ticks.source==="data"&&this.getDataTimestamps();for(v=m,_=0;v<i;v=+e.add(v,u,l),_++)Bm(p,v,b);return(v===i||s.bounds==="ticks"||_===1)&&Bm(p,v,b),Object.keys(p).sort(zm).map(k=>+k)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,o=this._unit,l=t||s[o];return this._adapter.format(e,l)}_tickFormatFunction(e,t,i,s){const o=this.options,l=o.ticks.callback;if(l)return me(l,[e,t,i],this);const u=o.time.displayFormats,h=this._unit,d=this._majorUnit,p=h&&u[h],m=d&&u[d],v=i[t],_=d&&m&&v&&v.major;return this._adapter.format(e,s||(_?m:p))}generateTickLabels(e){let t,i,s;for(t=0,i=e.length;t<i;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,s=xn(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(s),l=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,s=i[t.unit]||i.millisecond,o=this._tickFormatFunction(e,0,Um(this,[e],this._majorUnit),s),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,i=s.length;t<i;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const s=this.getLabels();for(t=0,i=s.length;t<i;++t)e.push(Fm(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return jy(e.sort(zm))}}Z(na,"id","time"),Z(na,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function zl(n,e,t){let i=0,s=n.length-1,o,l,u,h;t?(e>=n[i].pos&&e<=n[s].pos&&({lo:i,hi:s}=oi(n,"pos",e)),{pos:o,time:u}=n[i],{pos:l,time:h}=n[s]):(e>=n[i].time&&e<=n[s].time&&({lo:i,hi:s}=oi(n,"time",e)),{time:o,pos:u}=n[i],{time:l,pos:h}=n[s]);const d=l-o;return d?u+(h-u)*(e-o)/d:u}class Hh extends na{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=zl(t,this.min),this._tableRange=zl(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,s=[],o=[];let l,u,h,d,p;for(l=0,u=e.length;l<u;++l)d=e[l],d>=t&&d<=i&&s.push(d);if(s.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(l=0,u=s.length;l<u;++l)p=s[l+1],h=s[l-1],d=s[l],Math.round((p+h)/2)!==d&&o.push({time:d,pos:l/(u-1)});return o}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(zl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return zl(this._table,i*this._tableRange+this._minPos,!0)}}Z(Hh,"id","timeseries"),Z(Hh,"defaults",na.defaults);var iT=Object.freeze({__proto__:null,CategoryScale:$h,LinearScale:Bh,LogarithmicScale:Uh,RadialLinearScale:Lo,TimeScale:na,TimeSeriesScale:Hh});const sT=[cS,F1,RE,iT];en.register(...sT);function Vm(n,e){const t=parseInt(n.replace("#",""),16);let i=t>>16&255,s=t>>8&255,o=t&255;return i=Math.min(255,Math.max(0,i+Math.round(i*e/100))),s=Math.min(255,Math.max(0,s+Math.round(s*e/100))),o=Math.min(255,Math.max(0,o+Math.round(o*e/100))),"#"+(1<<24|i<<16|s<<8|o).toString(16).slice(1)}const rT=Fn("https://hffsxjhlpyhklmdekkgp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmZnN4amhscHloa2xtZGVra2dwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMjI5NzYsImV4cCI6MjA2MjU5ODk3Nn0.CZ_1YjI1sWLzEFGlrYALocpFLL1s6-zAF_TrfwlZJow"),oT=({year:n,grandPrix:e,session:t})=>{const[i,s]=Pe.useState(null),[o,l]=Pe.useState(null);Pe.useEffect(()=>{(async()=>{try{let{data:p,error:m}=await rT.from("telemetry_data").select("payload").eq("year",n).eq("grand_prix",e).eq("session",t).eq("data_type","track_dominance").single();if(m)throw m;s(p.payload)}catch(p){l(p.message)}})()},[n,e,t]);const u=Pe.useRef(null),h=Pe.useRef(null);return Pe.useEffect(()=>{if(!i)return;const{segments:d}=i,p=i.drivers,m=i.teamColors.map(T=>T.startsWith("#")?T:`#${T}`),v={};p.forEach((T,M)=>{const R=m[M];v[R]=(v[R]||0)+1});const _={},b={};p.forEach((T,M)=>{const R=m[M];b[R]=(b[R]||0)+1;const N=b[R];_[T]=v[R]===1||N===1?R:Vm(R,20*(N-1))});const k=d.filter(T=>Array.isArray(T.points)).map(T=>({label:T.fastestDriver,data:T.points.map(([M,R])=>({x:M,y:R})),borderColor:_[T.fastestDriver],borderWidth:6,showLine:!0,fill:!1,pointRadius:0,tension:.4,cubicInterpolationMode:"monotone"}));k.forEach(T=>{T.borderColor=Vm(T.borderColor,30)});const E={type:"scatter",data:{datasets:k},options:{scales:{x:{display:!1},y:{display:!1}},plugins:{legend:{display:!1},tooltip:{enabled:!1},datalabels:{display:!1}},hover:{mode:null},animation:!1,elements:{line:{borderCapStyle:"round",borderJoinStyle:"round",tension:.4}},responsive:!0,maintainAspectRatio:!0}};h.current&&h.current.destroy(),h.current=new en(u.current,E)},[i]),o?J.jsxs("div",{children:["Error: ",o]}):i?J.jsxs("div",{className:"track-dominance-container",children:[J.jsx("canvas",{ref:u,className:"track-dominance-chart",style:{filter:"saturate(200%) drop-shadow(0 0 8px rgba(255,255,255,0.8)) drop-shadow(0 0 16px rgba(255,255,255,0.6))"}}),J.jsx("div",{className:"mt-0 flex justify-center space-x-8 items-center",children:i.drivers.map((d,p)=>J.jsxs("div",{className:"flex items-center space-x-2",children:[J.jsx("span",{className:"w-6 h-6 rounded-full",style:{backgroundColor:i.teamColors[p].startsWith("#")?i.teamColors[p]:`#${i.teamColors[p]}`}}),J.jsx("span",{className:"text-base font-semibold text-gray-900",children:d})]},d))})]}):J.jsx("p",{children:"Loading track dominance..."})},aT="https://hffsxjhlpyhklmdekkgp.supabase.co",lT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmZnN4amhscHloa2xtZGVra2dwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMjI5NzYsImV4cCI6MjA2MjU5ODk3Nn0.CZ_1YjI1sWLzEFGlrYALocpFLL1s6-zAF_TrfwlZJow",uT=Fn(aT,lT),cT=({year:n,grandPrix:e,session:t})=>{const[i,s]=Pe.useState([]);return Pe.useEffect(()=>{n&&e&&t&&(async()=>{try{const{data:l,error:u}=await uT.from("telemetry_data").select("payload").eq("year",n).eq("grand_prix",e).eq("session",t).eq("data_type","podium").single();if(u)throw u;s(l.payload||[])}catch(l){console.error("Error fetching podium data:",l)}})()},[n,e,t]),J.jsx("div",{className:"flex justify-start items-center gap-6 py-0 px-0 w-full",children:i.map((o,l)=>J.jsx("div",{className:"flex-1 rounded-lg shadow-lg overflow-hidden backdrop-blur-sm p-4",style:{backgroundColor:`${o.TeamColor}CC`},children:J.jsxs("div",{className:"flex flex-col items-center gap-4",children:[J.jsx("div",{className:"relative w-32 h-32 rounded-full overflow-hidden bg-gray-200",children:J.jsx("img",{src:o.HeadshotUrl||"/api/placeholder/128/128",alt:`${o.Abbreviation}'s headshot`,className:"w-full h-full object-cover"})}),J.jsxs("div",{className:"text-center",children:[J.jsxs("div",{className:"text-4xl font-bold mb-2",children:["P",o.Position]}),J.jsx("div",{className:"text-2xl font-semibold mb-4",children:o.Abbreviation})]}),J.jsx("div",{className:"w-24 h-24 flex items-center justify-center",children:J.jsx("img",{src:`./assets/team_logos/${o.TeamName.toLowerCase().replace(/\s+/g,"-")}.png`,alt:`${o.TeamName} logo`,className:"max-w-full max-h-full object-contain"})})]})},l))})};/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var Hm=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var n=window.screen;if(n)return(n.deviceXDPI||1)/(n.logicalXDPI||1)}return 1}(),Wo={toTextLines:function(n){var e=[],t;for(n=[].concat(n);n.length;)t=n.pop(),typeof t=="string"?e.unshift.apply(e,t.split(`
`)):Array.isArray(t)?n.push.apply(n,t):Ee(n)||e.unshift(""+t);return e},textSize:function(n,e,t){var i=[].concat(e),s=i.length,o=n.font,l=0,u;for(n.font=t.string,u=0;u<s;++u)l=Math.max(n.measureText(i[u]).width,l);return n.font=o,{height:s*t.lineHeight,width:l}},bound:function(n,e,t){return Math.max(n,Math.min(e,t))},arrayDiff:function(n,e){var t=n.slice(),i=[],s,o,l,u;for(s=0,l=e.length;s<l;++s)u=e[s],o=t.indexOf(u),o===-1?i.push([u,1]):t.splice(o,1);for(s=0,l=t.length;s<l;++s)i.push([t[s],-1]);return i},rasterize:function(n){return Math.round(n*Hm)/Hm}};function vh(n,e){var t=e.x,i=e.y;if(t===null)return{x:0,y:-1};if(i===null)return{x:1,y:0};var s=n.x-t,o=n.y-i,l=Math.sqrt(s*s+o*o);return{x:l?s/l:0,y:l?o/l:-1}}function hT(n,e,t,i,s){switch(s){case"center":t=i=0;break;case"bottom":t=0,i=1;break;case"right":t=1,i=0;break;case"left":t=-1,i=0;break;case"top":t=0,i=-1;break;case"start":t=-t,i=-i;break;case"end":break;default:s*=Math.PI/180,t=Math.cos(s),i=Math.sin(s);break}return{x:n,y:e,vx:t,vy:i}}var dT=0,Tv=1,Pv=2,Cv=4,Mv=8;function Fl(n,e,t){var i=dT;return n<t.left?i|=Tv:n>t.right&&(i|=Pv),e<t.top?i|=Mv:e>t.bottom&&(i|=Cv),i}function fT(n,e){for(var t=n.x0,i=n.y0,s=n.x1,o=n.y1,l=Fl(t,i,e),u=Fl(s,o,e),h,d,p;!(!(l|u)||l&u);)h=l||u,h&Mv?(d=t+(s-t)*(e.top-i)/(o-i),p=e.top):h&Cv?(d=t+(s-t)*(e.bottom-i)/(o-i),p=e.bottom):h&Pv?(p=i+(o-i)*(e.right-t)/(s-t),d=e.right):h&Tv&&(p=i+(o-i)*(e.left-t)/(s-t),d=e.left),h===l?(t=d,i=p,l=Fl(t,i,e)):(s=d,o=p,u=Fl(s,o,e));return{x0:t,x1:s,y0:i,y1:o}}function $l(n,e){var t=e.anchor,i=n,s,o;return e.clamp&&(i=fT(i,e.area)),t==="start"?(s=i.x0,o=i.y0):t==="end"?(s=i.x1,o=i.y1):(s=(i.x0+i.x1)/2,o=(i.y0+i.y1)/2),hT(s,o,n.vx,n.vy,e.align)}var Bl={arc:function(n,e){var t=(n.startAngle+n.endAngle)/2,i=Math.cos(t),s=Math.sin(t),o=n.innerRadius,l=n.outerRadius;return $l({x0:n.x+i*o,y0:n.y+s*o,x1:n.x+i*l,y1:n.y+s*l,vx:i,vy:s},e)},point:function(n,e){var t=vh(n,e.origin),i=t.x*n.options.radius,s=t.y*n.options.radius;return $l({x0:n.x-i,y0:n.y-s,x1:n.x+i,y1:n.y+s,vx:t.x,vy:t.y},e)},bar:function(n,e){var t=vh(n,e.origin),i=n.x,s=n.y,o=0,l=0;return n.horizontal?(i=Math.min(n.x,n.base),o=Math.abs(n.base-n.x)):(s=Math.min(n.y,n.base),l=Math.abs(n.base-n.y)),$l({x0:i,y0:s+l,x1:i+o,y1:s,vx:t.x,vy:t.y},e)},fallback:function(n,e){var t=vh(n,e.origin);return $l({x0:n.x,y0:n.y,x1:n.x+(n.width||0),y1:n.y+(n.height||0),vx:t.x,vy:t.y},e)}},ai=Wo.rasterize;function pT(n){var e=n.borderWidth||0,t=n.padding,i=n.size.height,s=n.size.width,o=-s/2,l=-i/2;return{frame:{x:o-t.left-e,y:l-t.top-e,w:s+t.width+e*2,h:i+t.height+e*2},text:{x:o,y:l,w:s,h:i}}}function gT(n,e){var t=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!t)return null;if(t.xCenter!==void 0&&t.yCenter!==void 0)return{x:t.xCenter,y:t.yCenter};var i=t.getBasePixel();return n.horizontal?{x:i,y:null}:{x:null,y:i}}function mT(n){return n instanceof br?Bl.arc:n instanceof Vo?Bl.point:n instanceof Ho?Bl.bar:Bl.fallback}function yT(n,e,t,i,s,o){var l=Math.PI/2;if(o){var u=Math.min(o,s/2,i/2),h=e+u,d=t+u,p=e+i-u,m=t+s-u;n.moveTo(e,d),h<p&&d<m?(n.arc(h,d,u,-Math.PI,-l),n.arc(p,d,u,-l,0),n.arc(p,m,u,0,l),n.arc(h,m,u,l,Math.PI)):h<p?(n.moveTo(h,t),n.arc(p,d,u,-l,l),n.arc(h,d,u,l,Math.PI+l)):d<m?(n.arc(h,d,u,-Math.PI,0),n.arc(h,m,u,0,Math.PI)):n.arc(h,d,u,-Math.PI,Math.PI),n.closePath(),n.moveTo(e,t)}else n.rect(e,t,i,s)}function vT(n,e,t){var i=t.backgroundColor,s=t.borderColor,o=t.borderWidth;!i&&(!s||!o)||(n.beginPath(),yT(n,ai(e.x)+o/2,ai(e.y)+o/2,ai(e.w)-o,ai(e.h)-o,t.borderRadius),n.closePath(),i&&(n.fillStyle=i,n.fill()),s&&o&&(n.strokeStyle=s,n.lineWidth=o,n.lineJoin="miter",n.stroke()))}function _T(n,e,t){var i=t.lineHeight,s=n.w,o=n.x,l=n.y+i/2;return e==="center"?o+=s/2:(e==="end"||e==="right")&&(o+=s),{h:i,w:s,x:o,y:l}}function xT(n,e,t){var i=n.shadowBlur,s=t.stroked,o=ai(t.x),l=ai(t.y),u=ai(t.w);s&&n.strokeText(e,o,l,u),t.filled&&(i&&s&&(n.shadowBlur=0),n.fillText(e,o,l,u),i&&s&&(n.shadowBlur=i))}function wT(n,e,t,i){var s=i.textAlign,o=i.color,l=!!o,u=i.font,h=e.length,d=i.textStrokeColor,p=i.textStrokeWidth,m=d&&p,v;if(!(!h||!l&&!m))for(t=_T(t,s,u),n.font=u.string,n.textAlign=s,n.textBaseline="middle",n.shadowBlur=i.textShadowBlur,n.shadowColor=i.textShadowColor,l&&(n.fillStyle=o),m&&(n.lineJoin="round",n.lineWidth=p,n.strokeStyle=d),v=0,h=e.length;v<h;++v)xT(n,e[v],{stroked:m,filled:l,w:t.w,x:t.x,y:t.y+t.h*v})}var Ov=function(n,e,t,i){var s=this;s._config=n,s._index=i,s._model=null,s._rects=null,s._ctx=e,s._el=t};zn(Ov.prototype,{_modelize:function(n,e,t,i){var s=this,o=s._index,l=ot(Ve([t.font,{}],i,o)),u=Ve([t.color,Ye.color],i,o);return{align:Ve([t.align,"center"],i,o),anchor:Ve([t.anchor,"center"],i,o),area:i.chart.chartArea,backgroundColor:Ve([t.backgroundColor,null],i,o),borderColor:Ve([t.borderColor,null],i,o),borderRadius:Ve([t.borderRadius,0],i,o),borderWidth:Ve([t.borderWidth,0],i,o),clamp:Ve([t.clamp,!1],i,o),clip:Ve([t.clip,!1],i,o),color:u,display:n,font:l,lines:e,offset:Ve([t.offset,4],i,o),opacity:Ve([t.opacity,1],i,o),origin:gT(s._el,i),padding:_t(Ve([t.padding,4],i,o)),positioner:mT(s._el),rotation:Ve([t.rotation,0],i,o)*(Math.PI/180),size:Wo.textSize(s._ctx,e,l),textAlign:Ve([t.textAlign,"start"],i,o),textShadowBlur:Ve([t.textShadowBlur,0],i,o),textShadowColor:Ve([t.textShadowColor,u],i,o),textStrokeColor:Ve([t.textStrokeColor,u],i,o),textStrokeWidth:Ve([t.textStrokeWidth,0],i,o)}},update:function(n){var e=this,t=null,i=null,s=e._index,o=e._config,l,u,h,d=Ve([o.display,!0],n,s);d&&(l=n.dataset.data[s],u=_e(me(o.formatter,[l,n]),l),h=Ee(u)?[]:Wo.toTextLines(u),h.length&&(t=e._modelize(d,h,o,n),i=pT(t))),e._model=t,e._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(n,e){var t=this,i=n.ctx,s=t._model,o=t._rects,l;this.visible()&&(i.save(),s.clip&&(l=s.area,i.beginPath(),i.rect(l.left,l.top,l.right-l.left,l.bottom-l.top),i.clip()),i.globalAlpha=Wo.bound(0,s.opacity,1),i.translate(ai(e.x),ai(e.y)),i.rotate(s.rotation),vT(i,o.frame,s),wT(i,s.lines,o.text,s),i.restore())}});var bT=Number.MIN_SAFE_INTEGER||-9007199254740991,kT=Number.MAX_SAFE_INTEGER||9007199254740991;function Oo(n,e,t){var i=Math.cos(t),s=Math.sin(t),o=e.x,l=e.y;return{x:o+i*(n.x-o)-s*(n.y-l),y:l+s*(n.x-o)+i*(n.y-l)}}function Wm(n,e){var t=kT,i=bT,s=e.origin,o,l,u,h,d;for(o=0;o<n.length;++o)l=n[o],u=l.x-s.x,h=l.y-s.y,d=e.vx*u+e.vy*h,t=Math.min(t,d),i=Math.max(i,d);return{min:t,max:i}}function Ul(n,e){var t=e.x-n.x,i=e.y-n.y,s=Math.sqrt(t*t+i*i);return{vx:(e.x-n.x)/s,vy:(e.y-n.y)/s,origin:n,ln:s}}var Av=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};zn(Av.prototype,{center:function(){var n=this._rect;return{x:n.x+n.w/2,y:n.y+n.h/2}},update:function(n,e,t){this._rotation=t,this._rect={x:e.x+n.x,y:e.y+n.y,w:e.w,h:e.h}},contains:function(n){var e=this,t=1,i=e._rect;return n=Oo(n,e.center(),-e._rotation),!(n.x<i.x-t||n.y<i.y-t||n.x>i.x+i.w+t*2||n.y>i.y+i.h+t*2)},intersects:function(n){var e=this._points(),t=n._points(),i=[Ul(e[0],e[1]),Ul(e[0],e[3])],s,o,l;for(this._rotation!==n._rotation&&i.push(Ul(t[0],t[1]),Ul(t[0],t[3])),s=0;s<i.length;++s)if(o=Wm(e,i[s]),l=Wm(t,i[s]),o.max<l.min||l.max<o.min)return!1;return!0},_points:function(){var n=this,e=n._rect,t=n._rotation,i=n.center();return[Oo({x:e.x,y:e.y},i,t),Oo({x:e.x+e.w,y:e.y},i,t),Oo({x:e.x+e.w,y:e.y+e.h},i,t),Oo({x:e.x,y:e.y+e.h},i,t)]}});function Iv(n,e,t){var i=e.positioner(n,e),s=i.vx,o=i.vy;if(!s&&!o)return{x:i.x,y:i.y};var l=t.w,u=t.h,h=e.rotation,d=Math.abs(l/2*Math.cos(h))+Math.abs(u/2*Math.sin(h)),p=Math.abs(l/2*Math.sin(h))+Math.abs(u/2*Math.cos(h)),m=1/Math.max(Math.abs(s),Math.abs(o));return d*=s*m,p*=o*m,d+=e.offset*s,p+=e.offset*o,{x:i.x+d,y:i.y+p}}function ST(n,e){var t,i,s,o;for(t=n.length-1;t>=0;--t)for(s=n[t].$layout,i=t-1;i>=0&&s._visible;--i)o=n[i].$layout,o._visible&&s._box.intersects(o._box)&&e(s,o);return n}function ET(n){var e,t,i,s,o,l,u;for(e=0,t=n.length;e<t;++e)i=n[e],s=i.$layout,s._visible&&(u=new Proxy(i._el,{get:(h,d)=>h.getProps([d],!0)[d]}),o=i.geometry(),l=Iv(u,i.model(),o),s._box.update(l,o,i.rotation()));return ST(n,function(h,d){var p=h._hidable,m=d._hidable;p&&m||m?d._visible=!1:p&&(h._visible=!1)})}var Yo={prepare:function(n){var e=[],t,i,s,o,l;for(t=0,s=n.length;t<s;++t)for(i=0,o=n[t].length;i<o;++i)l=n[t][i],e.push(l),l.$layout={_box:new Av,_hidable:!1,_visible:!0,_set:t,_idx:l._index};return e.sort(function(u,h){var d=u.$layout,p=h.$layout;return d._idx===p._idx?p._set-d._set:p._idx-d._idx}),this.update(e),e},update:function(n){var e=!1,t,i,s,o,l;for(t=0,i=n.length;t<i;++t)s=n[t],o=s.model(),l=s.$layout,l._hidable=o&&o.display==="auto",l._visible=s.visible(),e|=l._hidable;e&&ET(n)},lookup:function(n,e){var t,i;for(t=n.length-1;t>=0;--t)if(i=n[t].$layout,i&&i._visible&&i._box.contains(e))return n[t];return null},draw:function(n,e){var t,i,s,o,l,u;for(t=0,i=e.length;t<i;++t)s=e[t],o=s.$layout,o._visible&&(l=s.geometry(),u=Iv(s._el,s.model(),l),o._box.update(u,l,s.rotation()),s.draw(n,u))}},TT=function(n){if(Ee(n))return null;var e=n,t,i,s;if(Ie(n))if(!Ee(n.label))e=n.label;else if(!Ee(n.r))e=n.r;else for(e="",t=Object.keys(n),s=0,i=t.length;s<i;++s)e+=(s!==0?", ":"")+t[s]+": "+n[t[s]];return""+e},PT={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:TT,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},$t="$datalabels",Dv="$default";function CT(n,e){var t=n.datalabels,i={},s=[],o,l;return t===!1?null:(t===!0&&(t={}),e=zn({},[e,t]),o=e.labels||{},l=Object.keys(o),delete e.labels,l.length?l.forEach(function(u){o[u]&&s.push(zn({},[e,o[u],{_key:u}]))}):s.push(e),i=s.reduce(function(u,h){return Ae(h.listeners||{},function(d,p){u[p]=u[p]||{},u[p][h._key||Dv]=d}),delete h.listeners,u},{}),{labels:s,listeners:i})}function Wh(n,e,t,i){if(e){var s=t.$context,o=t.$groups,l;e[o._set]&&(l=e[o._set][o._key],l&&me(l,[s,i])===!0&&(n[$t]._dirty=!0,t.update(s)))}}function MT(n,e,t,i,s){var o,l;!t&&!i||(t?i?t!==i&&(l=o=!0):l=!0:o=!0,l&&Wh(n,e.leave,t,s),o&&Wh(n,e.enter,i,s))}function OT(n,e){var t=n[$t],i=t._listeners,s,o;if(!(!i.enter&&!i.leave)){if(e.type==="mousemove")o=Yo.lookup(t._labels,e);else if(e.type!=="mouseout")return;s=t._hovered,t._hovered=o,MT(n,i,s,o,e)}}function AT(n,e){var t=n[$t],i=t._listeners.click,s=i&&Yo.lookup(t._labels,e);s&&Wh(n,i,s,e)}var Rv={id:"datalabels",defaults:PT,beforeInit:function(n){n[$t]={_actives:[]}},beforeUpdate:function(n){var e=n[$t];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(n,e,t){var i=e.index,s=n[$t],o=s._datasets[i]=[],l=n.isDatasetVisible(i),u=n.data.datasets[i],h=CT(u,t),d=e.meta.data||[],p=n.ctx,m,v,_,b,k,E,T,M;for(p.save(),m=0,_=d.length;m<_;++m)if(T=d[m],T[$t]=[],l&&T&&n.getDataVisibility(m)&&!T.skip)for(v=0,b=h.labels.length;v<b;++v)k=h.labels[v],E=k._key,M=new Ov(k,p,T,m),M.$groups={_set:i,_key:E||Dv},M.$context={active:!1,chart:n,dataIndex:m,dataset:u,datasetIndex:i},M.update(M.$context),T[$t].push(M),o.push(M);p.restore(),zn(s._listeners,h.listeners,{merger:function(R,N,L){N[R]=N[R]||{},N[R][e.index]=L[R],s._listened=!0}})},afterUpdate:function(n){n[$t]._labels=Yo.prepare(n[$t]._datasets)},afterDatasetsDraw:function(n){Yo.draw(n,n[$t]._labels)},beforeEvent:function(n,e){if(n[$t]._listened){var t=e.event;switch(t.type){case"mousemove":case"mouseout":OT(n,t);break;case"click":AT(n,t);break}}},afterEvent:function(n){var e=n[$t],t=e._actives,i=e._actives=n.getActiveElements(),s=Wo.arrayDiff(t,i),o,l,u,h,d,p,m;for(o=0,l=s.length;o<l;++o)if(d=s[o],d[1])for(m=d[0].element[$t]||[],u=0,h=m.length;u<h;++u)p=m[u],p.$context.active=d[1]===1,p.update(p.$context);(e._dirty||s.length)&&(Yo.update(e._labels),n.render()),delete e._dirty}};const Ym=Fn("https://hffsxjhlpyhklmdekkgp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmZnN4amhscHloa2xtZGVra2dwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMjI5NzYsImV4cCI6MjA2MjU5ODk3Nn0.CZ_1YjI1sWLzEFGlrYALocpFLL1s6-zAF_TrfwlZJow");en.register(Rv);const qm={SOFT:"#FF1E1E",MEDIUM:"#FFD700",HARD:"#FFFFFF",INTERMEDIATE:"#00C16E",WET:"#007BFF",UNKNOWN:"#999999"};function IT({year:n,grandPrix:e,session:t}){const i=Pe.useRef(null),s=Pe.useRef(null),[o,l]=Pe.useState({}),[u,h]=Pe.useState([]);Pe.useEffect(()=>{async function p(){const{data:m,error:v}=await Ym.from("telemetry_data").select("payload").eq("year",n).eq("grand_prix",e).eq("session",t).eq("data_type","tyres").maybeSingle();if(v&&v.code!=="PGRST116")throw v;const _=(m==null?void 0:m.payload)||[],{data:b,error:k}=await Ym.from("telemetry_data").select("payload").eq("year",n).eq("grand_prix",e).eq("session",t).eq("data_type","session_results").maybeSingle();if(k&&k.code!=="PGRST116")throw k;const T=(Array.isArray(b==null?void 0:b.payload)?b.payload:[]).slice().sort((R,N)=>R.Position-N.Position).map(R=>R.Abbreviation);h(T);const M={};_.forEach(({Driver:R,Abbreviation:N,LapNumber:L,Compound:B})=>{const U=N||R;M[U]||(M[U]={}),M[U][L]=B}),l(M)}p()},[n,e,t]),Pe.useEffect(()=>{if(!Object.keys(o).length)return;const p=Object.entries(o).reduce((T,[M,R])=>{const N=[];let L=null;return Object.entries(R).forEach(([B,U])=>{const q=+B;!L||L.compound!==U?(L&&N.push(L),L={start:q,end:q,compound:U}):L.end=q}),L&&N.push(L),T[M]=N,T},{});Math.max(...Object.values(p).map(T=>T.length));const m=u.length?u:Object.keys(p),_=[...new Set(Object.values(p).flatMap(T=>T.map(M=>M.compound)))].map(T=>{const M=new Image;M.src=`/svgs/${T.toLowerCase()}tyre.svg`;const R=m.map(N=>(p[N]||[]).filter(B=>B.compound===T).reduce((B,U)=>B+(U.end-U.start+1),0));return{label:T,data:R,backgroundColor:qm[T]||qm.UNKNOWN,borderWidth:0,pointStyle:M,pointRadius:10,barThickness:20,borderRadius:3}}).filter(T=>T.data.some(M=>M>0)),b=Object.values(o).flatMap(T=>Object.keys(T).map(M=>Number(M))),k=Math.max(...b);s.current&&s.current.destroy(),s.current=new en(i.current,{type:"bar",data:{labels:m,datasets:_},plugins:[Rv],options:{indexAxis:"y",responsive:!0,maintainAspectRatio:!1,scales:{x:{stacked:!0,title:{display:!0,text:"Laps"},beginAtZero:!0,max:k,grid:{display:!0,color:"#333"},ticks:{stepSize:1,color:"#ccc"}},y:{stacked:!0,title:{display:!1},ticks:{color:"#fff",font:{size:18},autoSkip:!1,maxTicksLimit:m.length},grid:{display:!0,color:"#333"}}},plugins:{datalabels:{color:"#000",anchor:"center",align:"center",font:{size:14,weight:"bold"},formatter:T=>T>0?T:""},tooltip:{padding:8,titleFont:{size:16},bodyFont:{size:14},footerFont:{size:12},callbacks:{footer:T=>`Total laps: ${T.reduce((R,N)=>R+N.parsed.x,0)}`}},legend:{display:!1}},interaction:{mode:"index",intersect:!1,axis:"y"}}});const E=()=>{var T;(T=s.current)==null||T.resize()};return window.addEventListener("resize",E),()=>{var T;window.removeEventListener("resize",E),(T=s.current)==null||T.destroy()}},[o,u]);const d=u.length*35+100;return Object.keys(o).length?J.jsxs("div",{style:{background:"#111",padding:20,borderRadius:8,width:"100%",height:d,margin:"0 auto"},children:[J.jsx("h3",{style:{color:"#fff",marginBottom:12},children:"Tyre Strategy by Lap"}),J.jsx("canvas",{ref:i})]}):J.jsx("p",{style:{color:"#fff"},children:"Loading tyre data…"})}var _h={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */var Xm;function DT(){return Xm||(Xm=1,function(n){(function(e,t,i,s){var o=["","webkit","Moz","MS","ms","o"],l=t.createElement("div"),u="function",h=Math.round,d=Math.abs,p=Date.now;function m(w,S,C){return setTimeout(R(w,C),S)}function v(w,S,C){return Array.isArray(w)?(_(w,C[S],C),!0):!1}function _(w,S,C){var z;if(w)if(w.forEach)w.forEach(S,C);else if(w.length!==s)for(z=0;z<w.length;)S.call(C,w[z],z,w),z++;else for(z in w)w.hasOwnProperty(z)&&S.call(C,w[z],z,w)}function b(w,S,C){var z="DEPRECATED METHOD: "+S+`
`+C+` AT 
`;return function(){var W=new Error("get-stack-trace"),ne=W&&W.stack?W.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Ce=e.console&&(e.console.warn||e.console.log);return Ce&&Ce.call(e.console,z,ne),w.apply(this,arguments)}}var k;typeof Object.assign!="function"?k=function(S){if(S===s||S===null)throw new TypeError("Cannot convert undefined or null to object");for(var C=Object(S),z=1;z<arguments.length;z++){var W=arguments[z];if(W!==s&&W!==null)for(var ne in W)W.hasOwnProperty(ne)&&(C[ne]=W[ne])}return C}:k=Object.assign;var E=b(function(S,C,z){for(var W=Object.keys(C),ne=0;ne<W.length;)(!z||z&&S[W[ne]]===s)&&(S[W[ne]]=C[W[ne]]),ne++;return S},"extend","Use `assign`."),T=b(function(S,C){return E(S,C,!0)},"merge","Use `assign`.");function M(w,S,C){var z=S.prototype,W;W=w.prototype=Object.create(z),W.constructor=w,W._super=z,C&&k(W,C)}function R(w,S){return function(){return w.apply(S,arguments)}}function N(w,S){return typeof w==u?w.apply(S&&S[0]||s,S):w}function L(w,S){return w===s?S:w}function B(w,S,C){_(ue(S),function(z){w.addEventListener(z,C,!1)})}function U(w,S,C){_(ue(S),function(z){w.removeEventListener(z,C,!1)})}function q(w,S){for(;w;){if(w==S)return!0;w=w.parentNode}return!1}function ee(w,S){return w.indexOf(S)>-1}function ue(w){return w.trim().split(/\s+/g)}function ce(w,S,C){if(w.indexOf&&!C)return w.indexOf(S);for(var z=0;z<w.length;){if(C&&w[z][C]==S||!C&&w[z]===S)return z;z++}return-1}function de(w){return Array.prototype.slice.call(w,0)}function Me(w,S,C){for(var z=[],W=[],ne=0;ne<w.length;){var Ce=w[ne][S];ce(W,Ce)<0&&z.push(w[ne]),W[ne]=Ce,ne++}return z=z.sort(function(tt,st){return tt[S]>st[S]}),z}function Ne(w,S){for(var C,z,W=S[0].toUpperCase()+S.slice(1),ne=0;ne<o.length;){if(C=o[ne],z=C?C+W:S,z in w)return z;ne++}return s}var be=1;function se(){return be++}function te(w){var S=w.ownerDocument||w;return S.defaultView||S.parentWindow||e}var H=/mobile|tablet|ip(ad|hone|od)|android/i,K="ontouchstart"in e,Q=Ne(e,"PointerEvent")!==s,I=K&&H.test(navigator.userAgent),$="touch",fe="pen",he="mouse",ke="kinect",xe=25,we=1,Se=2,ye=4,je=8,cn=1,li=2,kn=4,$n=8,ui=16,Vt=li|kn,hn=$n|ui,Ir=Vt|hn,Is=["x","y"],Sn=["clientX","clientY"];function at(w,S){var C=this;this.manager=w,this.callback=S,this.element=w.element,this.target=w.options.inputTarget,this.domHandler=function(z){N(w.options.enable,[w])&&C.handler(z)},this.init()}at.prototype={handler:function(){},init:function(){this.evEl&&B(this.element,this.evEl,this.domHandler),this.evTarget&&B(this.target,this.evTarget,this.domHandler),this.evWin&&B(te(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&U(this.element,this.evEl,this.domHandler),this.evTarget&&U(this.target,this.evTarget,this.domHandler),this.evWin&&U(te(this.element),this.evWin,this.domHandler)}};function Dr(w){var S,C=w.options.inputClass;return C?S=C:Q?S=Rs:I?S=di:K?S=pi:S=hi,new S(w,aa)}function aa(w,S,C){var z=C.pointers.length,W=C.changedPointers.length,ne=S&we&&z-W===0,Ce=S&(ye|je)&&z-W===0;C.isFirst=!!ne,C.isFinal=!!Ce,ne&&(w.session={}),C.eventType=S,la(w,C),w.emit("hammer.input",C),w.recognize(C),w.session.prevInput=C}function la(w,S){var C=w.session,z=S.pointers,W=z.length;C.firstInput||(C.firstInput=Ds(S)),W>1&&!C.firstMultiple?C.firstMultiple=Ds(S):W===1&&(C.firstMultiple=!1);var ne=C.firstInput,Ce=C.firstMultiple,et=Ce?Ce.center:ne.center,tt=S.center=Ki(z);S.timeStamp=p(),S.deltaTime=S.timeStamp-ne.timeStamp,S.angle=Lr(et,tt),S.distance=En(et,tt),ua(C,S),S.offsetDirection=ci(S.deltaX,S.deltaY);var st=Rr(S.deltaTime,S.deltaX,S.deltaY);S.overallVelocityX=st.x,S.overallVelocityY=st.y,S.overallVelocity=d(st.x)>d(st.y)?st.x:st.y,S.scale=Ce?da(Ce.pointers,z):1,S.rotation=Ce?ha(Ce.pointers,z):0,S.maxPointers=C.prevInput?S.pointers.length>C.prevInput.maxPointers?S.pointers.length:C.prevInput.maxPointers:S.pointers.length,ca(C,S);var lt=w.element;q(S.srcEvent.target,lt)&&(lt=S.srcEvent.target),S.target=lt}function ua(w,S){var C=S.center,z=w.offsetDelta||{},W=w.prevDelta||{},ne=w.prevInput||{};(S.eventType===we||ne.eventType===ye)&&(W=w.prevDelta={x:ne.deltaX||0,y:ne.deltaY||0},z=w.offsetDelta={x:C.x,y:C.y}),S.deltaX=W.x+(C.x-z.x),S.deltaY=W.y+(C.y-z.y)}function ca(w,S){var C=w.lastInterval||S,z=S.timeStamp-C.timeStamp,W,ne,Ce,et;if(S.eventType!=je&&(z>xe||C.velocity===s)){var tt=S.deltaX-C.deltaX,st=S.deltaY-C.deltaY,lt=Rr(z,tt,st);ne=lt.x,Ce=lt.y,W=d(lt.x)>d(lt.y)?lt.x:lt.y,et=ci(tt,st),w.lastInterval=S}else W=C.velocity,ne=C.velocityX,Ce=C.velocityY,et=C.direction;S.velocity=W,S.velocityX=ne,S.velocityY=Ce,S.direction=et}function Ds(w){for(var S=[],C=0;C<w.pointers.length;)S[C]={clientX:h(w.pointers[C].clientX),clientY:h(w.pointers[C].clientY)},C++;return{timeStamp:p(),pointers:S,center:Ki(S),deltaX:w.deltaX,deltaY:w.deltaY}}function Ki(w){var S=w.length;if(S===1)return{x:h(w[0].clientX),y:h(w[0].clientY)};for(var C=0,z=0,W=0;W<S;)C+=w[W].clientX,z+=w[W].clientY,W++;return{x:h(C/S),y:h(z/S)}}function Rr(w,S,C){return{x:S/w||0,y:C/w||0}}function ci(w,S){return w===S?cn:d(w)>=d(S)?w<0?li:kn:S<0?$n:ui}function En(w,S,C){C||(C=Is);var z=S[C[0]]-w[C[0]],W=S[C[1]]-w[C[1]];return Math.sqrt(z*z+W*W)}function Lr(w,S,C){C||(C=Is);var z=S[C[0]]-w[C[0]],W=S[C[1]]-w[C[1]];return Math.atan2(W,z)*180/Math.PI}function ha(w,S){return Lr(S[1],S[0],Sn)+Lr(w[1],w[0],Sn)}function da(w,S){return En(S[0],S[1],Sn)/En(w[0],w[1],Sn)}var fu={mousedown:we,mousemove:Se,mouseup:ye},Nr="mousedown",jr="mousemove mouseup";function hi(){this.evEl=Nr,this.evWin=jr,this.pressed=!1,at.apply(this,arguments)}M(hi,at,{handler:function(S){var C=fu[S.type];C&we&&S.button===0&&(this.pressed=!0),C&Se&&S.which!==1&&(C=ye),this.pressed&&(C&ye&&(this.pressed=!1),this.callback(this.manager,C,{pointers:[S],changedPointers:[S],pointerType:he,srcEvent:S}))}});var zr={pointerdown:we,pointermove:Se,pointerup:ye,pointercancel:je,pointerout:je},Fr={2:$,3:fe,4:he,5:ke},Bn="pointerdown",Un="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Bn="MSPointerDown",Un="MSPointerMove MSPointerUp MSPointerCancel");function Rs(){this.evEl=Bn,this.evWin=Un,at.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}M(Rs,at,{handler:function(S){var C=this.store,z=!1,W=S.type.toLowerCase().replace("ms",""),ne=zr[W],Ce=Fr[S.pointerType]||S.pointerType,et=Ce==$,tt=ce(C,S.pointerId,"pointerId");ne&we&&(S.button===0||et)?tt<0&&(C.push(S),tt=C.length-1):ne&(ye|je)&&(z=!0),!(tt<0)&&(C[tt]=S,this.callback(this.manager,ne,{pointers:C,changedPointers:[S],pointerType:Ce,srcEvent:S}),z&&C.splice(tt,1))}});var fa={touchstart:we,touchmove:Se,touchend:ye,touchcancel:je},pa="touchstart",ga="touchstart touchmove touchend touchcancel";function $r(){this.evTarget=pa,this.evWin=ga,this.started=!1,at.apply(this,arguments)}M($r,at,{handler:function(S){var C=fa[S.type];if(C===we&&(this.started=!0),!!this.started){var z=Br.call(this,S,C);C&(ye|je)&&z[0].length-z[1].length===0&&(this.started=!1),this.callback(this.manager,C,{pointers:z[0],changedPointers:z[1],pointerType:$,srcEvent:S})}}});function Br(w,S){var C=de(w.touches),z=de(w.changedTouches);return S&(ye|je)&&(C=Me(C.concat(z),"identifier")),[C,z]}var ma={touchstart:we,touchmove:Se,touchend:ye,touchcancel:je},Zi="touchstart touchmove touchend touchcancel";function di(){this.evTarget=Zi,this.targetIds={},at.apply(this,arguments)}M(di,at,{handler:function(S){var C=ma[S.type],z=Qi.call(this,S,C);z&&this.callback(this.manager,C,{pointers:z[0],changedPointers:z[1],pointerType:$,srcEvent:S})}});function Qi(w,S){var C=de(w.touches),z=this.targetIds;if(S&(we|Se)&&C.length===1)return z[C[0].identifier]=!0,[C,C];var W,ne,Ce=de(w.changedTouches),et=[],tt=this.target;if(ne=C.filter(function(st){return q(st.target,tt)}),S===we)for(W=0;W<ne.length;)z[ne[W].identifier]=!0,W++;for(W=0;W<Ce.length;)z[Ce[W].identifier]&&et.push(Ce[W]),S&(ye|je)&&delete z[Ce[W].identifier],W++;if(et.length)return[Me(ne.concat(et),"identifier"),et]}var pu=2500,fi=25;function pi(){at.apply(this,arguments);var w=R(this.handler,this);this.touch=new di(this.manager,w),this.mouse=new hi(this.manager,w),this.primaryTouch=null,this.lastTouches=[]}M(pi,at,{handler:function(S,C,z){var W=z.pointerType==$,ne=z.pointerType==he;if(!(ne&&z.sourceCapabilities&&z.sourceCapabilities.firesTouchEvents)){if(W)Ls.call(this,C,z);else if(ne&&gu.call(this,z))return;this.callback(S,C,z)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Ls(w,S){w&we?(this.primaryTouch=S.changedPointers[0].identifier,Ns.call(this,S)):w&(ye|je)&&Ns.call(this,S)}function Ns(w){var S=w.changedPointers[0];if(S.identifier===this.primaryTouch){var C={x:S.clientX,y:S.clientY};this.lastTouches.push(C);var z=this.lastTouches,W=function(){var ne=z.indexOf(C);ne>-1&&z.splice(ne,1)};setTimeout(W,pu)}}function gu(w){for(var S=w.srcEvent.clientX,C=w.srcEvent.clientY,z=0;z<this.lastTouches.length;z++){var W=this.lastTouches[z],ne=Math.abs(S-W.x),Ce=Math.abs(C-W.y);if(ne<=fi&&Ce<=fi)return!0}return!1}var ya=Ne(l.style,"touchAction"),va=ya!==s,Tn="compute",Ur="auto",js="manipulation",Vn="none",gi="pan-x",mi="pan-y",es=yu();function zs(w,S){this.manager=w,this.set(S)}zs.prototype={set:function(w){w==Tn&&(w=this.compute()),va&&this.manager.element.style&&es[w]&&(this.manager.element.style[ya]=w),this.actions=w.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var w=[];return _(this.manager.recognizers,function(S){N(S.options.enable,[S])&&(w=w.concat(S.getTouchAction()))}),mu(w.join(" "))},preventDefaults:function(w){var S=w.srcEvent,C=w.offsetDirection;if(this.manager.session.prevented){S.preventDefault();return}var z=this.actions,W=ee(z,Vn)&&!es[Vn],ne=ee(z,mi)&&!es[mi],Ce=ee(z,gi)&&!es[gi];if(W){var et=w.pointers.length===1,tt=w.distance<2,st=w.deltaTime<250;if(et&&tt&&st)return}if(!(Ce&&ne)&&(W||ne&&C&Vt||Ce&&C&hn))return this.preventSrc(S)},preventSrc:function(w){this.manager.session.prevented=!0,w.preventDefault()}};function mu(w){if(ee(w,Vn))return Vn;var S=ee(w,gi),C=ee(w,mi);return S&&C?Vn:S||C?S?gi:mi:ee(w,js)?js:Ur}function yu(){if(!va)return!1;var w={},S=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(C){w[C]=S?e.CSS.supports("touch-action",C):!0}),w}var ze=1,Mt=2,Pn=4,dn=8,Ot=dn,ts=16,Ht=32;function At(w){this.options=k({},this.defaults,w||{}),this.id=se(),this.manager=null,this.options.enable=L(this.options.enable,!0),this.state=ze,this.simultaneous={},this.requireFail=[]}At.prototype={defaults:{},set:function(w){return k(this.options,w),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(w){if(v(w,"recognizeWith",this))return this;var S=this.simultaneous;return w=xt(w,this),S[w.id]||(S[w.id]=w,w.recognizeWith(this)),this},dropRecognizeWith:function(w){return v(w,"dropRecognizeWith",this)?this:(w=xt(w,this),delete this.simultaneous[w.id],this)},requireFailure:function(w){if(v(w,"requireFailure",this))return this;var S=this.requireFail;return w=xt(w,this),ce(S,w)===-1&&(S.push(w),w.requireFailure(this)),this},dropRequireFailure:function(w){if(v(w,"dropRequireFailure",this))return this;w=xt(w,this);var S=ce(this.requireFail,w);return S>-1&&this.requireFail.splice(S,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(w){return!!this.simultaneous[w.id]},emit:function(w){var S=this,C=this.state;function z(W){S.manager.emit(W,w)}C<dn&&z(S.options.event+Wt(C)),z(S.options.event),w.additionalEvent&&z(w.additionalEvent),C>=dn&&z(S.options.event+Wt(C))},tryEmit:function(w){if(this.canEmit())return this.emit(w);this.state=Ht},canEmit:function(){for(var w=0;w<this.requireFail.length;){if(!(this.requireFail[w].state&(Ht|ze)))return!1;w++}return!0},recognize:function(w){var S=k({},w);if(!N(this.options.enable,[this,S])){this.reset(),this.state=Ht;return}this.state&(Ot|ts|Ht)&&(this.state=ze),this.state=this.process(S),this.state&(Mt|Pn|dn|ts)&&this.tryEmit(S)},process:function(w){},getTouchAction:function(){},reset:function(){}};function Wt(w){return w&ts?"cancel":w&dn?"end":w&Pn?"move":w&Mt?"start":""}function _a(w){return w==ui?"down":w==$n?"up":w==li?"left":w==kn?"right":""}function xt(w,S){var C=S.manager;return C?C.get(w):w}function Yt(){At.apply(this,arguments)}M(Yt,At,{defaults:{pointers:1},attrTest:function(w){var S=this.options.pointers;return S===0||w.pointers.length===S},process:function(w){var S=this.state,C=w.eventType,z=S&(Mt|Pn),W=this.attrTest(w);return z&&(C&je||!W)?S|ts:z||W?C&ye?S|dn:S&Mt?S|Pn:Mt:Ht}});function Fs(){Yt.apply(this,arguments),this.pX=null,this.pY=null}M(Fs,Yt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ir},getTouchAction:function(){var w=this.options.direction,S=[];return w&Vt&&S.push(mi),w&hn&&S.push(gi),S},directionTest:function(w){var S=this.options,C=!0,z=w.distance,W=w.direction,ne=w.deltaX,Ce=w.deltaY;return W&S.direction||(S.direction&Vt?(W=ne===0?cn:ne<0?li:kn,C=ne!=this.pX,z=Math.abs(w.deltaX)):(W=Ce===0?cn:Ce<0?$n:ui,C=Ce!=this.pY,z=Math.abs(w.deltaY))),w.direction=W,C&&z>S.threshold&&W&S.direction},attrTest:function(w){return Yt.prototype.attrTest.call(this,w)&&(this.state&Mt||!(this.state&Mt)&&this.directionTest(w))},emit:function(w){this.pX=w.deltaX,this.pY=w.deltaY;var S=_a(w.direction);S&&(w.additionalEvent=this.options.event+S),this._super.emit.call(this,w)}});function Vr(){Yt.apply(this,arguments)}M(Vr,Yt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Vn]},attrTest:function(w){return this._super.attrTest.call(this,w)&&(Math.abs(w.scale-1)>this.options.threshold||this.state&Mt)},emit:function(w){if(w.scale!==1){var S=w.scale<1?"in":"out";w.additionalEvent=this.options.event+S}this._super.emit.call(this,w)}});function yi(){At.apply(this,arguments),this._timer=null,this._input=null}M(yi,At,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ur]},process:function(w){var S=this.options,C=w.pointers.length===S.pointers,z=w.distance<S.threshold,W=w.deltaTime>S.time;if(this._input=w,!z||!C||w.eventType&(ye|je)&&!W)this.reset();else if(w.eventType&we)this.reset(),this._timer=m(function(){this.state=Ot,this.tryEmit()},S.time,this);else if(w.eventType&ye)return Ot;return Ht},reset:function(){clearTimeout(this._timer)},emit:function(w){this.state===Ot&&(w&&w.eventType&ye?this.manager.emit(this.options.event+"up",w):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}});function vi(){Yt.apply(this,arguments)}M(vi,Yt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Vn]},attrTest:function(w){return this._super.attrTest.call(this,w)&&(Math.abs(w.rotation)>this.options.threshold||this.state&Mt)}});function Hn(){Yt.apply(this,arguments)}M(Hn,Yt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Vt|hn,pointers:1},getTouchAction:function(){return Fs.prototype.getTouchAction.call(this)},attrTest:function(w){var S=this.options.direction,C;return S&(Vt|hn)?C=w.overallVelocity:S&Vt?C=w.overallVelocityX:S&hn&&(C=w.overallVelocityY),this._super.attrTest.call(this,w)&&S&w.offsetDirection&&w.distance>this.options.threshold&&w.maxPointers==this.options.pointers&&d(C)>this.options.velocity&&w.eventType&ye},emit:function(w){var S=_a(w.offsetDirection);S&&this.manager.emit(this.options.event+S,w),this.manager.emit(this.options.event,w)}});function Wn(){At.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}M(Wn,At,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[js]},process:function(w){var S=this.options,C=w.pointers.length===S.pointers,z=w.distance<S.threshold,W=w.deltaTime<S.time;if(this.reset(),w.eventType&we&&this.count===0)return this.failTimeout();if(z&&W&&C){if(w.eventType!=ye)return this.failTimeout();var ne=this.pTime?w.timeStamp-this.pTime<S.interval:!0,Ce=!this.pCenter||En(this.pCenter,w.center)<S.posThreshold;this.pTime=w.timeStamp,this.pCenter=w.center,!Ce||!ne?this.count=1:this.count+=1,this._input=w;var et=this.count%S.taps;if(et===0)return this.hasRequireFailures()?(this._timer=m(function(){this.state=Ot,this.tryEmit()},S.interval,this),Mt):Ot}return Ht},failTimeout:function(){return this._timer=m(function(){this.state=Ht},this.options.interval,this),Ht},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ot&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Cn(w,S){return S=S||{},S.recognizers=L(S.recognizers,Cn.defaults.preset),new Bs(w,S)}Cn.VERSION="2.0.7",Cn.defaults={domEvents:!1,touchAction:Tn,enable:!0,inputTarget:null,inputClass:null,preset:[[vi,{enable:!1}],[Vr,{enable:!1},["rotate"]],[Hn,{direction:Vt}],[Fs,{direction:Vt},["swipe"]],[Wn],[Wn,{event:"doubletap",taps:2},["tap"]],[yi]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var vu=1,$s=2;function Bs(w,S){this.options=k({},Cn.defaults,S||{}),this.options.inputTarget=this.options.inputTarget||w,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=w,this.input=Dr(this),this.touchAction=new zs(this,this.options.touchAction),Us(this,!0),_(this.options.recognizers,function(C){var z=this.add(new C[0](C[1]));C[2]&&z.recognizeWith(C[2]),C[3]&&z.requireFailure(C[3])},this)}Bs.prototype={set:function(w){return k(this.options,w),w.touchAction&&this.touchAction.update(),w.inputTarget&&(this.input.destroy(),this.input.target=w.inputTarget,this.input.init()),this},stop:function(w){this.session.stopped=w?$s:vu},recognize:function(w){var S=this.session;if(!S.stopped){this.touchAction.preventDefaults(w);var C,z=this.recognizers,W=S.curRecognizer;(!W||W&&W.state&Ot)&&(W=S.curRecognizer=null);for(var ne=0;ne<z.length;)C=z[ne],S.stopped!==$s&&(!W||C==W||C.canRecognizeWith(W))?C.recognize(w):C.reset(),!W&&C.state&(Mt|Pn|dn)&&(W=S.curRecognizer=C),ne++}},get:function(w){if(w instanceof At)return w;for(var S=this.recognizers,C=0;C<S.length;C++)if(S[C].options.event==w)return S[C];return null},add:function(w){if(v(w,"add",this))return this;var S=this.get(w.options.event);return S&&this.remove(S),this.recognizers.push(w),w.manager=this,this.touchAction.update(),w},remove:function(w){if(v(w,"remove",this))return this;if(w=this.get(w),w){var S=this.recognizers,C=ce(S,w);C!==-1&&(S.splice(C,1),this.touchAction.update())}return this},on:function(w,S){if(w!==s&&S!==s){var C=this.handlers;return _(ue(w),function(z){C[z]=C[z]||[],C[z].push(S)}),this}},off:function(w,S){if(w!==s){var C=this.handlers;return _(ue(w),function(z){S?C[z]&&C[z].splice(ce(C[z],S),1):delete C[z]}),this}},emit:function(w,S){this.options.domEvents&&ns(w,S);var C=this.handlers[w]&&this.handlers[w].slice();if(!(!C||!C.length)){S.type=w,S.preventDefault=function(){S.srcEvent.preventDefault()};for(var z=0;z<C.length;)C[z](S),z++}},destroy:function(){this.element&&Us(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Us(w,S){var C=w.element;if(C.style){var z;_(w.options.cssProps,function(W,ne){z=Ne(C.style,ne),S?(w.oldCssProps[z]=C.style[z],C.style[z]=W):C.style[z]=w.oldCssProps[z]||""}),S||(w.oldCssProps={})}}function ns(w,S){var C=t.createEvent("Event");C.initEvent(w,!0,!0),C.gesture=S,S.target.dispatchEvent(C)}k(Cn,{INPUT_START:we,INPUT_MOVE:Se,INPUT_END:ye,INPUT_CANCEL:je,STATE_POSSIBLE:ze,STATE_BEGAN:Mt,STATE_CHANGED:Pn,STATE_ENDED:dn,STATE_RECOGNIZED:Ot,STATE_CANCELLED:ts,STATE_FAILED:Ht,DIRECTION_NONE:cn,DIRECTION_LEFT:li,DIRECTION_RIGHT:kn,DIRECTION_UP:$n,DIRECTION_DOWN:ui,DIRECTION_HORIZONTAL:Vt,DIRECTION_VERTICAL:hn,DIRECTION_ALL:Ir,Manager:Bs,Input:at,TouchAction:zs,TouchInput:di,MouseInput:hi,PointerEventInput:Rs,TouchMouseInput:pi,SingleTouchInput:$r,Recognizer:At,AttrRecognizer:Yt,Tap:Wn,Pan:Fs,Swipe:Hn,Pinch:Vr,Rotate:vi,Press:yi,on:B,off:U,each:_,merge:T,extend:E,assign:k,inherit:M,bindFn:R,prefixed:Ne});var _u=typeof e<"u"?e:typeof self<"u"?self:{};_u.Hammer=Cn,n.exports?n.exports=Cn:e[i]=Cn})(window,document,"Hammer")}(_h)),_h.exports}var RT=DT();const qo=uy(RT);/*!
* chartjs-plugin-zoom v2.2.0
* https://www.chartjs.org/chartjs-plugin-zoom/2.2.0/
 * (c) 2016-2024 chartjs-plugin-zoom Contributors
 * Released under the MIT License
 */const ia=n=>n&&n.enabled&&n.modifierKey,Lv=(n,e)=>n&&e[n+"Key"],bd=(n,e)=>n&&!e[n+"Key"];function Xi(n,e,t){return n===void 0?!0:typeof n=="string"?n.indexOf(e)!==-1:typeof n=="function"?n({chart:t}).indexOf(e)!==-1:!1}function xh(n,e){return typeof n=="function"&&(n=n({chart:e})),typeof n=="string"?{x:n.indexOf("x")!==-1,y:n.indexOf("y")!==-1}:{x:!1,y:!1}}function LT(n,e){let t;return function(){return clearTimeout(t),t=setTimeout(n,e),e}}function NT({x:n,y:e},t){const i=t.scales,s=Object.keys(i);for(let o=0;o<s.length;o++){const l=i[s[o]];if(e>=l.top&&e<=l.bottom&&n>=l.left&&n<=l.right)return l}return null}function Nv(n,e,t){const{mode:i="xy",scaleMode:s,overScaleMode:o}=n||{},l=NT(e,t),u=xh(i,t),h=xh(s,t);if(o){const p=xh(o,t);for(const m of["x","y"])p[m]&&(h[m]=u[m],u[m]=!1)}if(l&&h[l.axis])return[l];const d=[];return Ae(t.scales,function(p){u[p.axis]&&d.push(p)}),d}const Yh=new WeakMap;function Ke(n){let e=Yh.get(n);return e||(e={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},Yh.set(n,e)),e}function jT(n){Yh.delete(n)}function jv(n,e,t,i){const s=Math.max(0,Math.min(1,(n-e)/t||0)),o=1-s;return{min:i*s,max:i*o}}function zv(n,e){const t=n.isHorizontal()?e.x:e.y;return n.getValueForPixel(t)}function Fv(n,e,t){const i=n.max-n.min,s=i*(e-1),o=zv(n,t);return jv(o,n.min,i,s)}function zT(n,e,t){const i=zv(n,t);if(i===void 0)return{min:n.min,max:n.max};const s=Math.log10(n.min),o=Math.log10(n.max),l=Math.log10(i),u=o-s,h=u*(e-1),d=jv(l,s,u,h);return{min:Math.pow(10,s+d.min),max:Math.pow(10,o-d.max)}}function FT(n,e){return e&&(e[n.id]||e[n.axis])||{}}function Jm(n,e,t,i,s){let o=t[i];if(o==="original"){const l=n.originalScaleLimits[e.id][i];o=_e(l.options,l.scale)}return _e(o,s)}function $T(n,e,t){const i=n.getValueForPixel(e),s=n.getValueForPixel(t);return{min:Math.min(i,s),max:Math.max(i,s)}}function BT(n,{min:e,max:t,minLimit:i,maxLimit:s},o){const l=(n-t+e)/2;e-=l,t+=l;const u=o.min.options??o.min.scale,h=o.max.options??o.max.scale,d=n/1e6;return Ss(e,u,d)&&(e=u),Ss(t,h,d)&&(t=h),e<i?(e=i,t=Math.min(i+n,s)):t>s&&(t=s,e=Math.max(s-n,i)),{min:e,max:t}}function As(n,{min:e,max:t},i,s=!1){const o=Ke(n.chart),{options:l}=n,u=FT(n,i),{minRange:h=0}=u,d=Jm(o,n,u,"min",-1/0),p=Jm(o,n,u,"max",1/0);if(s==="pan"&&(e<d||t>p))return!0;const m=n.max-n.min,v=s?Math.max(t-e,h):m;if(s&&v===h&&m<=h)return!0;const _=BT(v,{min:e,max:t,minLimit:d,maxLimit:p},o.originalScaleLimits[n.id]);return l.min=_.min,l.max=_.max,o.updatedScaleLimits[n.id]=_,n.parse(_.min)!==n.min||n.parse(_.max)!==n.max}function UT(n,e,t,i){const s=Fv(n,e,t),o={min:n.min+s.min,max:n.max-s.max};return As(n,o,i,!0)}function VT(n,e,t,i){const s=zT(n,e,t);return As(n,s,i,!0)}function HT(n,e,t,i){As(n,$T(n,e,t),i,!0)}const Gm=n=>n===0||isNaN(n)?0:n<0?Math.min(Math.round(n),-1):Math.max(Math.round(n),1);function WT(n){const t=n.getLabels().length-1;n.min>0&&(n.min-=1),n.max<t&&(n.max+=1)}function YT(n,e,t,i){const s=Fv(n,e,t);n.min===n.max&&e<1&&WT(n);const o={min:n.min+Gm(s.min),max:n.max-Gm(s.max)};return As(n,o,i,!0)}function qT(n){return n.isHorizontal()?n.width:n.height}function XT(n,e,t){const s=n.getLabels().length-1;let{min:o,max:l}=n;const u=Math.max(l-o,1),h=Math.round(qT(n)/Math.max(u,10)),d=Math.round(Math.abs(e/h));let p;return e<-h?(l=Math.min(l+d,s),o=u===1?l:l-u,p=l===s):e>h&&(o=Math.max(0,o-d),l=u===1?o:o+u,p=o===0),As(n,{min:o,max:l},t)||p}const JT={second:500,minute:30*1e3,hour:30*60*1e3,day:12*60*60*1e3,week:3.5*24*60*60*1e3,month:15*24*60*60*1e3,quarter:60*24*60*60*1e3,year:182*24*60*60*1e3};function $v(n,e,t,i=!1){const{min:s,max:o,options:l}=n,u=l.time&&l.time.round,h=JT[u]||0,d=n.getValueForPixel(n.getPixelForValue(s+h)-e),p=n.getValueForPixel(n.getPixelForValue(o+h)-e);return isNaN(d)||isNaN(p)?!0:As(n,{min:d,max:p},t,i?"pan":!1)}function Km(n,e,t){return $v(n,e,t,!0)}const qh={category:YT,default:UT,logarithmic:VT},Xh={default:HT},Jh={category:XT,default:$v,logarithmic:Km,timeseries:Km};function GT(n,e,t){const{id:i,options:{min:s,max:o}}=n;if(!e[i]||!t[i])return!0;const l=t[i];return l.min!==s||l.max!==o}function Zm(n,e){Ae(n,(t,i)=>{e[i]||delete n[i]})}function Ar(n,e){const{scales:t}=n,{originalScaleLimits:i,updatedScaleLimits:s}=e;return Ae(t,function(o){GT(o,i,s)&&(i[o.id]={min:{scale:o.min,options:o.options.min},max:{scale:o.max,options:o.options.max}})}),Zm(i,t),Zm(s,t),i}function Qm(n,e,t,i){const s=qh[n.type]||qh.default;me(s,[n,e,t,i])}function ey(n,e,t,i){const s=Xh[n.type]||Xh.default;me(s,[n,e,t,i])}function KT(n){const e=n.chartArea;return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function kd(n,e,t="none",i="api"){const{x:s=1,y:o=1,focalPoint:l=KT(n)}=typeof e=="number"?{x:e,y:e}:e,u=Ke(n),{options:{limits:h,zoom:d}}=u;Ar(n,u);const p=s!==1,m=o!==1,v=Nv(d,l,n);Ae(v||n.scales,function(_){_.isHorizontal()&&p?Qm(_,s,l,h):!_.isHorizontal()&&m&&Qm(_,o,l,h)}),n.update(t),me(d.onZoom,[{chart:n,trigger:i}])}function Bv(n,e,t,i="none",s="api"){const o=Ke(n),{options:{limits:l,zoom:u}}=o,{mode:h="xy"}=u;Ar(n,o);const d=Xi(h,"x",n),p=Xi(h,"y",n);Ae(n.scales,function(m){m.isHorizontal()&&d?ey(m,e.x,t.x,l):!m.isHorizontal()&&p&&ey(m,e.y,t.y,l)}),n.update(i),me(u.onZoom,[{chart:n,trigger:s}])}function ZT(n,e,t,i="none",s="api"){var u;const o=Ke(n);Ar(n,o);const l=n.scales[e];As(l,t,void 0,!0),n.update(i),me((u=o.options.zoom)==null?void 0:u.onZoom,[{chart:n,trigger:s}])}function QT(n,e="default"){const t=Ke(n),i=Ar(n,t);Ae(n.scales,function(s){const o=s.options;i[s.id]?(o.min=i[s.id].min.options,o.max=i[s.id].max.options):(delete o.min,delete o.max),delete t.updatedScaleLimits[s.id]}),n.update(e),me(t.options.zoom.onZoomComplete,[{chart:n}])}function eP(n,e){const t=n.originalScaleLimits[e];if(!t)return;const{min:i,max:s}=t;return _e(s.options,s.scale)-_e(i.options,i.scale)}function tP(n){const e=Ke(n);let t=1,i=1;return Ae(n.scales,function(s){const o=eP(e,s.id);if(o){const l=Math.round(o/(s.max-s.min)*100)/100;t=Math.min(t,l),i=Math.max(i,l)}}),t<1?t:i}function ty(n,e,t,i){const{panDelta:s}=i,o=s[n.id]||0;un(o)===un(e)&&(e+=o);const l=Jh[n.type]||Jh.default;me(l,[n,e,t])?s[n.id]=0:s[n.id]=e}function Uv(n,e,t,i="none"){const{x:s=0,y:o=0}=typeof e=="number"?{x:e,y:e}:e,l=Ke(n),{options:{pan:u,limits:h}}=l,{onPan:d}=u||{};Ar(n,l);const p=s!==0,m=o!==0;Ae(t||n.scales,function(v){v.isHorizontal()&&p?ty(v,s,h,l):!v.isHorizontal()&&m&&ty(v,o,h,l)}),n.update(i),me(d,[{chart:n}])}function Vv(n){const e=Ke(n);Ar(n,e);const t={};for(const i of Object.keys(n.scales)){const{min:s,max:o}=e.originalScaleLimits[i]||{min:{},max:{}};t[i]={min:s.scale,max:o.scale}}return t}function nP(n){const e=Ke(n),t={};for(const i of Object.keys(n.scales))t[i]=e.updatedScaleLimits[i];return t}function iP(n){const e=Vv(n);for(const t of Object.keys(n.scales)){const{min:i,max:s}=e[t];if(i!==void 0&&n.scales[t].min!==i||s!==void 0&&n.scales[t].max!==s)return!0}return!1}function ny(n){const e=Ke(n);return e.panning||e.dragging}const iy=(n,e,t)=>Math.min(t,Math.max(e,n));function Bt(n,e){const{handlers:t}=Ke(n),i=t[e];i&&i.target&&(i.target.removeEventListener(e,i),delete t[e])}function Xo(n,e,t,i){const{handlers:s,options:o}=Ke(n),l=s[t];if(l&&l.target===e)return;Bt(n,t),s[t]=h=>i(n,h,o),s[t].target=e;const u=t==="wheel"?!1:void 0;e.addEventListener(t,s[t],{passive:u})}function sP(n,e){const t=Ke(n);t.dragStart&&(t.dragging=!0,t.dragEnd=e,n.update("none"))}function rP(n,e){const t=Ke(n);!t.dragStart||e.key!=="Escape"||(Bt(n,"keydown"),t.dragging=!1,t.dragStart=t.dragEnd=null,n.update("none"))}function Gh(n,e){if(n.target!==e.canvas){const t=e.canvas.getBoundingClientRect();return{x:n.clientX-t.left,y:n.clientY-t.top}}return Nn(n,e)}function Hv(n,e,t){const{onZoomStart:i,onZoomRejected:s}=t;if(i){const o=Gh(e,n);if(me(i,[{chart:n,event:e,point:o}])===!1)return me(s,[{chart:n,event:e}]),!1}}function oP(n,e){if(n.legend){const o=Nn(e,n);if(jn(o,n.legend))return}const t=Ke(n),{pan:i,zoom:s={}}=t.options;if(e.button!==0||Lv(ia(i),e)||bd(ia(s.drag),e))return me(s.onZoomRejected,[{chart:n,event:e}]);Hv(n,e,s)!==!1&&(t.dragStart=e,Xo(n,n.canvas.ownerDocument,"mousemove",sP),Xo(n,window.document,"keydown",rP))}function aP({begin:n,end:e},t){let i=e.x-n.x,s=e.y-n.y;const o=Math.abs(i/s);o>t?i=Math.sign(i)*Math.abs(s*t):o<t&&(s=Math.sign(s)*Math.abs(i/t)),e.x=n.x+i,e.y=n.y+s}function sy(n,e,t,{min:i,max:s,prop:o}){n[i]=iy(Math.min(t.begin[o],t.end[o]),e[i],e[s]),n[s]=iy(Math.max(t.begin[o],t.end[o]),e[i],e[s])}function lP(n,e,t){const i={begin:Gh(e.dragStart,n),end:Gh(e.dragEnd,n)};if(t){const s=n.chartArea.width/n.chartArea.height;aP(i,s)}return i}function Wv(n,e,t,i){const s=Xi(e,"x",n),o=Xi(e,"y",n),{top:l,left:u,right:h,bottom:d,width:p,height:m}=n.chartArea,v={top:l,left:u,right:h,bottom:d},_=lP(n,t,i&&s&&o);s&&sy(v,n.chartArea,_,{min:"left",max:"right",prop:"x"}),o&&sy(v,n.chartArea,_,{min:"top",max:"bottom",prop:"y"});const b=v.right-v.left,k=v.bottom-v.top;return{...v,width:b,height:k,zoomX:s&&b?1+(p-b)/p:1,zoomY:o&&k?1+(m-k)/m:1}}function uP(n,e){const t=Ke(n);if(!t.dragStart)return;Bt(n,"mousemove");const{mode:i,onZoomComplete:s,drag:{threshold:o=0,maintainAspectRatio:l}}=t.options.zoom,u=Wv(n,i,{dragStart:t.dragStart,dragEnd:e},l),h=Xi(i,"x",n)?u.width:0,d=Xi(i,"y",n)?u.height:0,p=Math.sqrt(h*h+d*d);if(t.dragStart=t.dragEnd=null,p<=o){t.dragging=!1,n.update("none");return}Bv(n,{x:u.left,y:u.top},{x:u.right,y:u.bottom},"zoom","drag"),t.dragging=!1,t.filterNextClick=!0,me(s,[{chart:n}])}function cP(n,e,t){if(bd(ia(t.wheel),e)){me(t.onZoomRejected,[{chart:n,event:e}]);return}if(Hv(n,e,t)!==!1&&(e.cancelable&&e.preventDefault(),e.deltaY!==void 0))return!0}function hP(n,e){const{handlers:{onZoomComplete:t},options:{zoom:i}}=Ke(n);if(!cP(n,e,i))return;const s=e.target.getBoundingClientRect(),o=i.wheel.speed,l=e.deltaY>=0?2-1/(1-o):1+o,u={x:l,y:l,focalPoint:{x:e.clientX-s.left,y:e.clientY-s.top}};kd(n,u,"zoom","wheel"),me(t,[{chart:n}])}function dP(n,e,t,i){t&&(Ke(n).handlers[e]=LT(()=>me(t,[{chart:n}]),i))}function fP(n,e){const t=n.canvas,{wheel:i,drag:s,onZoomComplete:o}=e.zoom;i.enabled?(Xo(n,t,"wheel",hP),dP(n,"onZoomComplete",o,250)):Bt(n,"wheel"),s.enabled?(Xo(n,t,"mousedown",oP),Xo(n,t.ownerDocument,"mouseup",uP)):(Bt(n,"mousedown"),Bt(n,"mousemove"),Bt(n,"mouseup"),Bt(n,"keydown"))}function pP(n){Bt(n,"mousedown"),Bt(n,"mousemove"),Bt(n,"mouseup"),Bt(n,"wheel"),Bt(n,"click"),Bt(n,"keydown")}function gP(n,e){return function(t,i){const{pan:s,zoom:o={}}=e.options;if(!s||!s.enabled)return!1;const l=i&&i.srcEvent;return l&&!e.panning&&i.pointerType==="mouse"&&(bd(ia(s),l)||Lv(ia(o.drag),l))?(me(s.onPanRejected,[{chart:n,event:i}]),!1):!0}}function mP(n,e){const t=Math.abs(n.clientX-e.clientX),i=Math.abs(n.clientY-e.clientY),s=t/i;let o,l;return s>.3&&s<1.7?o=l=!0:t>i?o=!0:l=!0,{x:o,y:l}}function Yv(n,e,t){if(e.scale){const{center:i,pointers:s}=t,o=1/e.scale*t.scale,l=t.target.getBoundingClientRect(),u=mP(s[0],s[1]),h=e.options.zoom.mode,d={x:u.x&&Xi(h,"x",n)?o:1,y:u.y&&Xi(h,"y",n)?o:1,focalPoint:{x:i.x-l.left,y:i.y-l.top}};kd(n,d,"zoom","pinch"),e.scale=t.scale}}function yP(n,e,t){if(e.options.zoom.pinch.enabled){const i=Nn(t,n);me(e.options.zoom.onZoomStart,[{chart:n,event:t,point:i}])===!1?(e.scale=null,me(e.options.zoom.onZoomRejected,[{chart:n,event:t}])):e.scale=1}}function vP(n,e,t){e.scale&&(Yv(n,e,t),e.scale=null,me(e.options.zoom.onZoomComplete,[{chart:n}]))}function qv(n,e,t){const i=e.delta;i&&(e.panning=!0,Uv(n,{x:t.deltaX-i.x,y:t.deltaY-i.y},e.panScales),e.delta={x:t.deltaX,y:t.deltaY})}function _P(n,e,t){const{enabled:i,onPanStart:s,onPanRejected:o}=e.options.pan;if(!i)return;const l=t.target.getBoundingClientRect(),u={x:t.center.x-l.left,y:t.center.y-l.top};if(me(s,[{chart:n,event:t,point:u}])===!1)return me(o,[{chart:n,event:t}]);e.panScales=Nv(e.options.pan,u,n),e.delta={x:0,y:0},qv(n,e,t)}function xP(n,e){e.delta=null,e.panning&&(e.panning=!1,e.filterNextClick=!0,me(e.options.pan.onPanComplete,[{chart:n}]))}const Kh=new WeakMap;function ry(n,e){const t=Ke(n),i=n.canvas,{pan:s,zoom:o}=e,l=new qo.Manager(i);o&&o.pinch.enabled&&(l.add(new qo.Pinch),l.on("pinchstart",u=>yP(n,t,u)),l.on("pinch",u=>Yv(n,t,u)),l.on("pinchend",u=>vP(n,t,u))),s&&s.enabled&&(l.add(new qo.Pan({threshold:s.threshold,enable:gP(n,t)})),l.on("panstart",u=>_P(n,t,u)),l.on("panmove",u=>qv(n,t,u)),l.on("panend",()=>xP(n,t))),Kh.set(n,l)}function oy(n){const e=Kh.get(n);e&&(e.remove("pinchstart"),e.remove("pinch"),e.remove("pinchend"),e.remove("panstart"),e.remove("pan"),e.remove("panend"),e.destroy(),Kh.delete(n))}function wP(n,e){var l,u,h,d;const{pan:t,zoom:i}=n,{pan:s,zoom:o}=e;return((u=(l=i==null?void 0:i.zoom)==null?void 0:l.pinch)==null?void 0:u.enabled)!==((d=(h=o==null?void 0:o.zoom)==null?void 0:h.pinch)==null?void 0:d.enabled)||(t==null?void 0:t.enabled)!==(s==null?void 0:s.enabled)||(t==null?void 0:t.threshold)!==(s==null?void 0:s.threshold)}var bP="2.2.0";function Vl(n,e,t){const i=t.zoom.drag,{dragStart:s,dragEnd:o}=Ke(n);if(i.drawTime!==e||!o)return;const{left:l,top:u,width:h,height:d}=Wv(n,t.zoom.mode,{dragStart:s,dragEnd:o},i.maintainAspectRatio),p=n.ctx;p.save(),p.beginPath(),p.fillStyle=i.backgroundColor||"rgba(225,225,225,0.3)",p.fillRect(l,u,h,d),i.borderWidth>0&&(p.lineWidth=i.borderWidth,p.strokeStyle=i.borderColor||"rgba(225,225,225)",p.strokeRect(l,u,h,d)),p.restore()}var kP={id:"zoom",version:bP,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(n,e,t){const i=Ke(n);i.options=t,Object.prototype.hasOwnProperty.call(t.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(t.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(t.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),qo&&ry(n,t),n.pan=(s,o,l)=>Uv(n,s,o,l),n.zoom=(s,o)=>kd(n,s,o),n.zoomRect=(s,o,l)=>Bv(n,s,o,l),n.zoomScale=(s,o,l)=>ZT(n,s,o,l),n.resetZoom=s=>QT(n,s),n.getZoomLevel=()=>tP(n),n.getInitialScaleBounds=()=>Vv(n),n.getZoomedScaleBounds=()=>nP(n),n.isZoomedOrPanned=()=>iP(n),n.isZoomingOrPanning=()=>ny(n)},beforeEvent(n,{event:e}){if(ny(n))return!1;if(e.type==="click"||e.type==="mouseup"){const t=Ke(n);if(t.filterNextClick)return t.filterNextClick=!1,!1}},beforeUpdate:function(n,e,t){const i=Ke(n),s=i.options;i.options=t,wP(s,t)&&(oy(n),ry(n,t)),fP(n,t)},beforeDatasetsDraw(n,e,t){Vl(n,"beforeDatasetsDraw",t)},afterDatasetsDraw(n,e,t){Vl(n,"afterDatasetsDraw",t)},beforeDraw(n,e,t){Vl(n,"beforeDraw",t)},afterDraw(n,e,t){Vl(n,"afterDraw",t)},stop:function(n){pP(n),qo&&oy(n),jT(n)},panFunctions:Jh,zoomFunctions:qh,zoomRectFunctions:Xh};en.register(kP);const ay=Fn("https://hffsxjhlpyhklmdekkgp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmZnN4amhscHloa2xtZGVra2dwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMjI5NzYsImV4cCI6MjA2MjU5ODk3Nn0.CZ_1YjI1sWLzEFGlrYALocpFLL1s6-zAF_TrfwlZJow");function ly(n){const[e,t]=n.split(":"),[i,s]=t.split(".");return parseInt(e,10)*60+parseInt(i,10)+parseInt(s.padEnd(3,"0"),10)/1e3}const SP=({year:n,grandPrix:e,session:t="Race"})=>{const i=Pe.useRef(null),s=Pe.useRef(null),[o,l]=Pe.useState(null),[u,h]=Pe.useState([]),[d,p]=Pe.useState({}),[m,v]=Pe.useState([]);Pe.useEffect(()=>{if(!n||!e)return;(async()=>{const{data:T,error:M}=await ay.from("telemetry_data").select("payload").eq("year",n).eq("grand_prix",e).eq("session",t).eq("data_type","lap_chart_data").single();if(M)throw M;const R=T.payload||{laps:[],podium:[]},{data:N,error:L}=await ay.from("telemetry_data").select("payload").eq("year",n).eq("grand_prix",e).eq("session",t).eq("data_type","session_results").single();if(L)throw L;const B=Array.isArray(N.payload)?N.payload:[],U={};B.forEach(ee=>{U[ee.Abbreviation]=ee.TeamColor});const q=B.slice().sort((ee,ue)=>ee.Position-ue.Position).map(ee=>ee.Abbreviation);p(U),v(q),l(R),h(R.podium)})()},[n,e,t]),Pe.useEffect(()=>{if(!o)return;const E={id:"verticalLine",afterDraw:se=>{const te=se.ctx,H=se.tooltip;if(H._active&&H._active.length){const K=H._active[0].element.x;te.save(),te.strokeStyle="#888",te.lineWidth=1,te.beginPath(),te.moveTo(K,se.chartArea.top),te.lineTo(K,se.chartArea.bottom),te.stroke(),te.restore()}}},T=Array.isArray(o.laps)?o.laps:[],M=T.map(se=>ly(se.lapTime)),R=Math.min(...M),N=Math.max(...M),L=N-R,B=L>0?L*.2:1,U=R-B,q=N+B,ee=T.map(se=>se.lapNumber),ue=Math.max(...ee),ce=1,de=ue,Me={},be={type:"line",data:{datasets:T.filter(se=>u.includes(se.driver)).reduce((se,te)=>{const H=te.driver,K=d[H]||EP();Me[K]=(Me[K]||0)+1;const Q=Me[K]>1?[5,5]:[];let I=se.find($=>$.label===H);return I||(I={label:H,data:[],borderColor:K,borderDash:Q,pointBackgroundColor:K,pointRadius:4,pointHoverRadius:8,pointHoverBorderWidth:2,pointHoverBackgroundColor:"#fff",tension:.2,fill:!1,borderWidth:1},se.push(I)),I.data.push({x:te.lapNumber,y:ly(te.lapTime)}),se},[])},options:{maintainAspectRatio:!1,scales:{x:{type:"linear",title:{display:!0,text:"Lap Number"},min:ce,max:de,grid:{display:!0,color:"#333"}},y:{title:{display:!1},min:U,max:q,grid:{display:!0,color:"#333"},ticks:{callback:se=>{const te=Math.floor(se/60),H=Math.round(se%60).toString().padStart(2,"0");return`${te}:${H}`}}}},plugins:{datalabels:!1,legend:{display:!1},tooltip:{enabled:!0,padding:10,titleFont:{size:14},bodyFont:{size:14},boxWidth:10,boxHeight:10,callbacks:{label:se=>{const te=se.parsed.y,H=Math.floor(te/60),K=Math.floor(te%60).toString().padStart(2,"0"),Q=Math.round((te-Math.floor(te))*1e3).toString().padStart(3,"0");return`${se.dataset.label}: ${H}:${K}.${Q}`}}},zoom:{zoom:{wheel:{enabled:!1},pinch:{enabled:!1},drag:{enabled:!0,borderColor:"#888",backgroundColor:"rgba(136,136,136,0.3)"},mode:"x",onZoomComplete({chart:se}){const te=se.scales.x,H=se.scales.y,K=te.min,Q=te.max,I=[];if(se.data.datasets.forEach(($,fe)=>{se.isDatasetVisible(fe)&&$.data.forEach(he=>{he.x>=K&&he.x<=Q&&I.push(he.y)})}),I.length){const $=Math.min(...I),fe=Math.max(...I),he=fe-$,ke=he>0?he*.2:1,xe=$-ke,we=fe+ke;H.options.min=xe,H.options.max=we,H.options.ticks.callback=Se=>{const ye=Math.floor(Se/60),je=Math.floor(Se%60).toString().padStart(2,"0"),cn=Math.round((Se-Math.floor(Se))*1e3).toString().padStart(3,"0");return`${ye}:${je}.${cn}`},se.update()}}},pan:{enabled:!1,mode:"x"}}},interaction:{mode:"index",intersect:!1}},plugins:[E]};s.current&&s.current.destroy(),s.current=new en(i.current,be)},[o,u,d]);const _=E=>{h(T=>T.includes(E)?T.filter(M=>M!==E):[...T,E])},b=()=>{!m||m.length===0||h(m.slice(0,3))},k=o&&Array.isArray(o.laps)?o.laps:[];return J.jsxs("div",{style:{position:"relative",padding:20,background:"#111",color:"#fff",borderRadius:8},children:[J.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[J.jsx("h3",{style:{margin:0},children:"Lap Times Chart"}),J.jsx("button",{onMouseDown:E=>E.preventDefault(),onClick:b,style:{padding:"4px 8px",background:"#444",color:"#fff",border:"none",borderRadius:4,cursor:"pointer"},children:"Reset"})]}),J.jsx("div",{style:{position:"relative",height:400},children:J.jsx("canvas",{ref:i})}),J.jsx("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",marginTop:12},children:o&&Object.values(m).filter(E=>k.some(T=>T.driver===E)).map(E=>{const T=u.includes(E);return J.jsx("button",{onMouseDown:M=>M.preventDefault(),onClick:()=>_(E),style:{padding:"4px 8px",background:T?d[E]:"#444",color:T?"#fff":d[E]||"#fff",border:T?`2px solid ${d[E]}`:"none",borderRadius:4,cursor:"pointer"},children:E},E)})})]})};function EP(){return"#"+Math.floor(Math.random()*16777215).toString(16).padStart(6,"0")}Fn("https://hffsxjhlpyhklmdekkgp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmZnN4amhscHloa2xtZGVra2dwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMjI5NzYsImV4cCI6MjA2MjU5ODk3Nn0.CZ_1YjI1sWLzEFGlrYALocpFLL1s6-zAF_TrfwlZJow");const TP=()=>{const[n,e]=Pe.useState(null),[t,i]=Pe.useState(null),[s,o]=Pe.useState(null);return J.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 pt-8",children:[J.jsxs("div",{className:"flex flex-wrap justify-center gap-4 w-full",children:[J.jsx($w,{onSelect:l=>e(l)}),n&&J.jsx(Uw,{year:n,onSelect:l=>i(l)}),n&&t&&J.jsx(Hw,{year:n,grandPrix:t,onSelect:l=>o(l)})]}),J.jsxs("div",{className:"mt-8 space-y-8 w-full",children:[J.jsx(Kw,{year:n,grandPrix:t,session:s}),n&&t&&s&&J.jsxs(J.Fragment,{children:[J.jsxs("div",{className:"grid items-start grid-cols-1 lg:grid-cols-[1fr_auto] gap-8",children:[J.jsxs("div",{className:"flex flex-col space-y-8",children:[J.jsx(cT,{year:n,grandPrix:t,session:s}),J.jsx(Jw,{year:n,grandPrix:t,session:s}),J.jsx(oT,{year:n,grandPrix:t,session:s})]}),J.jsx("div",{className:"space-y-8",children:J.jsx(Yw,{year:n,grandPrix:t,session:s,className:"text-left"})})]}),J.jsx("div",{className:"w-full",children:J.jsx(IT,{year:n,grandPrix:t,session:s})}),J.jsx(SP,{year:n,grandPrix:t,session:s})]})]})]})};j_.createRoot(document.getElementById("root")).render(J.jsx(Pe.StrictMode,{children:J.jsx(TP,{})}));export{uy as g};
