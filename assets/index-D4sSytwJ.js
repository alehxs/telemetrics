var $_=Object.defineProperty;var U_=(n,e,t)=>e in n?$_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ee=(n,e,t)=>U_(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function B_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sh={exports:{}},Co={},oh={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag;function W_(){if(ag)return Oe;ag=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(D){return D===null||typeof D!="object"?null:(D=m&&D[m]||D["@@iterator"],typeof D=="function"?D:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function E(D,B,ue){this.props=D,this.context=B,this.refs=b,this.updater=ue||_}E.prototype.isReactComponent={},E.prototype.setState=function(D,B){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,B,"setState")},E.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function C(){}C.prototype=E.prototype;function T(D,B,ue){this.props=D,this.context=B,this.refs=b,this.updater=ue||_}var O=T.prototype=new C;O.constructor=T,S(O,E.prototype),O.isPureReactComponent=!0;var M=Array.isArray,N=Object.prototype.hasOwnProperty,$={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function H(D,B,ue){var he,ke={},_e=null,Ee=null;if(B!=null)for(he in B.ref!==void 0&&(Ee=B.ref),B.key!==void 0&&(_e=""+B.key),B)N.call(B,he)&&!U.hasOwnProperty(he)&&(ke[he]=B[he]);var Ce=arguments.length-2;if(Ce===1)ke.children=ue;else if(1<Ce){for(var we=Array(Ce),ze=0;ze<Ce;ze++)we[ze]=arguments[ze+2];ke.children=we}if(D&&D.defaultProps)for(he in Ce=D.defaultProps,Ce)ke[he]===void 0&&(ke[he]=Ce[he]);return{$$typeof:n,type:D,key:_e,ref:Ee,props:ke,_owner:$.current}}function Z(D,B){return{$$typeof:n,type:D.type,key:B,ref:D.ref,props:D.props,_owner:D._owner}}function oe(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function ce(D){var B={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ue){return B[ue]})}var de=/\/+/g;function Ie(D,B){return typeof D=="object"&&D!==null&&D.key!=null?ce(""+D.key):B.toString(36)}function Ne(D,B,ue,he,ke){var _e=typeof D;(_e==="undefined"||_e==="boolean")&&(D=null);var Ee=!1;if(D===null)Ee=!0;else switch(_e){case"string":case"number":Ee=!0;break;case"object":switch(D.$$typeof){case n:case e:Ee=!0}}if(Ee)return Ee=D,ke=ke(Ee),D=he===""?"."+Ie(Ee,0):he,M(ke)?(ue="",D!=null&&(ue=D.replace(de,"$&/")+"/"),Ne(ke,B,ue,"",function(ze){return ze})):ke!=null&&(oe(ke)&&(ke=Z(ke,ue+(!ke.key||Ee&&Ee.key===ke.key?"":(""+ke.key).replace(de,"$&/")+"/")+D)),B.push(ke)),1;if(Ee=0,he=he===""?".":he+":",M(D))for(var Ce=0;Ce<D.length;Ce++){_e=D[Ce];var we=he+Ie(_e,Ce);Ee+=Ne(_e,B,ue,we,ke)}else if(we=v(D),typeof we=="function")for(D=we.call(D),Ce=0;!(_e=D.next()).done;)_e=_e.value,we=he+Ie(_e,Ce++),Ee+=Ne(_e,B,ue,we,ke);else if(_e==="object")throw B=String(D),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Ee}function Se(D,B,ue){if(D==null)return D;var he=[],ke=0;return Ne(D,he,"","",function(_e){return B.call(ue,_e,ke++)}),he}function Te(D){if(D._status===-1){var B=D._result;B=B(),B.then(function(ue){(D._status===0||D._status===-1)&&(D._status=1,D._result=ue)},function(ue){(D._status===0||D._status===-1)&&(D._status=2,D._result=ue)}),D._status===-1&&(D._status=0,D._result=B)}if(D._status===1)return D._result.default;throw D._result}var ve={current:null},V={transition:null},X={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:V,ReactCurrentOwner:$};function J(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:Se,forEach:function(D,B,ue){Se(D,function(){B.apply(this,arguments)},ue)},count:function(D){var B=0;return Se(D,function(){B++}),B},toArray:function(D){return Se(D,function(B){return B})||[]},only:function(D){if(!oe(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Oe.Component=E,Oe.Fragment=t,Oe.Profiler=r,Oe.PureComponent=T,Oe.StrictMode=i,Oe.Suspense=h,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Oe.act=J,Oe.cloneElement=function(D,B,ue){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var he=S({},D.props),ke=D.key,_e=D.ref,Ee=D._owner;if(B!=null){if(B.ref!==void 0&&(_e=B.ref,Ee=$.current),B.key!==void 0&&(ke=""+B.key),D.type&&D.type.defaultProps)var Ce=D.type.defaultProps;for(we in B)N.call(B,we)&&!U.hasOwnProperty(we)&&(he[we]=B[we]===void 0&&Ce!==void 0?Ce[we]:B[we])}var we=arguments.length-2;if(we===1)he.children=ue;else if(1<we){Ce=Array(we);for(var ze=0;ze<we;ze++)Ce[ze]=arguments[ze+2];he.children=Ce}return{$$typeof:n,type:D.type,key:ke,ref:_e,props:he,_owner:Ee}},Oe.createContext=function(D){return D={$$typeof:l,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:o,_context:D},D.Consumer=D},Oe.createElement=H,Oe.createFactory=function(D){var B=H.bind(null,D);return B.type=D,B},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(D){return{$$typeof:u,render:D}},Oe.isValidElement=oe,Oe.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:Te}},Oe.memo=function(D,B){return{$$typeof:d,type:D,compare:B===void 0?null:B}},Oe.startTransition=function(D){var B=V.transition;V.transition={};try{D()}finally{V.transition=B}},Oe.unstable_act=J,Oe.useCallback=function(D,B){return ve.current.useCallback(D,B)},Oe.useContext=function(D){return ve.current.useContext(D)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(D){return ve.current.useDeferredValue(D)},Oe.useEffect=function(D,B){return ve.current.useEffect(D,B)},Oe.useId=function(){return ve.current.useId()},Oe.useImperativeHandle=function(D,B,ue){return ve.current.useImperativeHandle(D,B,ue)},Oe.useInsertionEffect=function(D,B){return ve.current.useInsertionEffect(D,B)},Oe.useLayoutEffect=function(D,B){return ve.current.useLayoutEffect(D,B)},Oe.useMemo=function(D,B){return ve.current.useMemo(D,B)},Oe.useReducer=function(D,B,ue){return ve.current.useReducer(D,B,ue)},Oe.useRef=function(D){return ve.current.useRef(D)},Oe.useState=function(D){return ve.current.useState(D)},Oe.useSyncExternalStore=function(D,B,ue){return ve.current.useSyncExternalStore(D,B,ue)},Oe.useTransition=function(){return ve.current.useTransition()},Oe.version="18.3.1",Oe}var lg;function gd(){return lg||(lg=1,oh.exports=W_()),oh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function V_(){if(ug)return Co;ug=1;var n=gd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,d){var p,m={},v=null,_=null;d!==void 0&&(v=""+d),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(_=h.ref);for(p in h)i.call(h,p)&&!o.hasOwnProperty(p)&&(m[p]=h[p]);if(u&&u.defaultProps)for(p in h=u.defaultProps,h)m[p]===void 0&&(m[p]=h[p]);return{$$typeof:e,type:u,key:v,ref:_,props:m,_owner:r.current}}return Co.Fragment=t,Co.jsx=l,Co.jsxs=l,Co}var cg;function H_(){return cg||(cg=1,sh.exports=V_()),sh.exports}var W=H_(),je=gd(),Cl={},ah={exports:{}},Wt={},lh={exports:{}},uh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function q_(){return hg||(hg=1,function(n){function e(V,X){var J=V.length;V.push(X);e:for(;0<J;){var D=J-1>>>1,B=V[D];if(0<r(B,X))V[D]=X,V[J]=B,J=D;else break e}}function t(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var X=V[0],J=V.pop();if(J!==X){V[0]=J;e:for(var D=0,B=V.length,ue=B>>>1;D<ue;){var he=2*(D+1)-1,ke=V[he],_e=he+1,Ee=V[_e];if(0>r(ke,J))_e<B&&0>r(Ee,ke)?(V[D]=Ee,V[_e]=J,D=_e):(V[D]=ke,V[he]=J,D=he);else if(_e<B&&0>r(Ee,J))V[D]=Ee,V[_e]=J,D=_e;else break e}}return X}function r(V,X){var J=V.sortIndex-X.sortIndex;return J!==0?J:V.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],d=[],p=1,m=null,v=3,_=!1,S=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(V){for(var X=t(d);X!==null;){if(X.callback===null)i(d);else if(X.startTime<=V)i(d),X.sortIndex=X.expirationTime,e(h,X);else break;X=t(d)}}function M(V){if(b=!1,O(V),!S)if(t(h)!==null)S=!0,Te(N);else{var X=t(d);X!==null&&ve(M,X.startTime-V)}}function N(V,X){S=!1,b&&(b=!1,C(H),H=-1),_=!0;var J=v;try{for(O(X),m=t(h);m!==null&&(!(m.expirationTime>X)||V&&!ce());){var D=m.callback;if(typeof D=="function"){m.callback=null,v=m.priorityLevel;var B=D(m.expirationTime<=X);X=n.unstable_now(),typeof B=="function"?m.callback=B:m===t(h)&&i(h),O(X)}else i(h);m=t(h)}if(m!==null)var ue=!0;else{var he=t(d);he!==null&&ve(M,he.startTime-X),ue=!1}return ue}finally{m=null,v=J,_=!1}}var $=!1,U=null,H=-1,Z=5,oe=-1;function ce(){return!(n.unstable_now()-oe<Z)}function de(){if(U!==null){var V=n.unstable_now();oe=V;var X=!0;try{X=U(!0,V)}finally{X?Ie():($=!1,U=null)}}else $=!1}var Ie;if(typeof T=="function")Ie=function(){T(de)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,Se=Ne.port2;Ne.port1.onmessage=de,Ie=function(){Se.postMessage(null)}}else Ie=function(){E(de,0)};function Te(V){U=V,$||($=!0,Ie())}function ve(V,X){H=E(function(){V(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){S||_||(S=!0,Te(N))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(V){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var J=v;v=X;try{return V()}finally{v=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var J=v;v=V;try{return X()}finally{v=J}},n.unstable_scheduleCallback=function(V,X,J){var D=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?D+J:D):J=D,V){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=J+B,V={id:p++,callback:X,priorityLevel:V,startTime:J,expirationTime:B,sortIndex:-1},J>D?(V.sortIndex=J,e(d,V),t(h)===null&&V===t(d)&&(b?(C(H),H=-1):b=!0,ve(M,J-D))):(V.sortIndex=B,e(h,V),S||_||(S=!0,Te(N))),V},n.unstable_shouldYield=ce,n.unstable_wrapCallback=function(V){var X=v;return function(){var J=v;v=X;try{return V.apply(this,arguments)}finally{v=J}}}}(uh)),uh}var dg;function K_(){return dg||(dg=1,lh.exports=q_()),lh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function Y_(){if(fg)return Wt;fg=1;var n=gd(),e=K_();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(r[s]=a,s=0;s<a.length;s++)i.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(s){return h.call(m,s)?!0:h.call(p,s)?!1:d.test(s)?m[s]=!0:(p[s]=!0,!1)}function _(s,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,a,c,f){if(a===null||typeof a>"u"||_(s,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(s,a,c,f,g,y,w){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=y,this.removeEmptyString=w}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){E[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];E[a]=new b(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){E[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){E[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){E[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){E[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){E[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){E[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){E[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function T(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(C,T);E[a]=new b(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(C,T);E[a]=new b(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(C,T);E[a]=new b(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){E[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),E.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){E[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function O(s,a,c,f){var g=E.hasOwnProperty(a)?E[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,c,g,f)&&(c=null),f||g===null?v(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,f=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?s.setAttributeNS(f,a,c):s.setAttribute(a,c))))}var M=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),$=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),oe=Symbol.for("react.provider"),ce=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),V=Symbol.iterator;function X(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var J=Object.assign,D;function B(s){if(D===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);D=a&&a[1]||""}return`
`+D+s}var ue=!1;function he(s,a){if(!s||ue)return"";ue=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(F){var f=F}Reflect.construct(s,[],a)}else{try{a.call()}catch(F){f=F}s.call(a.prototype)}else{try{throw Error()}catch(F){f=F}s()}}catch(F){if(F&&f&&typeof F.stack=="string"){for(var g=F.stack.split(`
`),y=f.stack.split(`
`),w=g.length-1,P=y.length-1;1<=w&&0<=P&&g[w]!==y[P];)P--;for(;1<=w&&0<=P;w--,P--)if(g[w]!==y[P]){if(w!==1||P!==1)do if(w--,P--,0>P||g[w]!==y[P]){var A=`
`+g[w].replace(" at new "," at ");return s.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",s.displayName)),A}while(1<=w&&0<=P);break}}}finally{ue=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?B(s):""}function ke(s){switch(s.tag){case 5:return B(s.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return s=he(s.type,!1),s;case 11:return s=he(s.type.render,!1),s;case 1:return s=he(s.type,!0),s;default:return""}}function _e(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case U:return"Fragment";case $:return"Portal";case Z:return"Profiler";case H:return"StrictMode";case Ie:return"Suspense";case Ne:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case ce:return(s.displayName||"Context")+".Consumer";case oe:return(s._context.displayName||"Context")+".Provider";case de:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Se:return a=s.displayName||null,a!==null?a:_e(s.type)||"Memo";case Te:a=s._payload,s=s._init;try{return _e(s(a))}catch{}}return null}function Ee(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(a);case 8:return a===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ce(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function we(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ze(s){var a=we(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,y=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(w){f=""+w,y.call(this,w)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(w){f=""+w},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Dt(s){s._valueTracker||(s._valueTracker=ze(s))}function In(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return s&&(f=we(s)?s.checked?"true":"false":s.value),s=f,s!==c?(a.setValue(s),!0):!1}function un(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function vn(s,a){var c=a.checked;return J({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function yi(s,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=Ce(a.value!=null?a.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Yt(s,a){a=a.checked,a!=null&&O(s,"checked",a,!1)}function _n(s,a){Yt(s,a);var c=Ce(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?$r(s,a.type,c):a.hasOwnProperty("defaultValue")&&$r(s,a.type,Ce(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function zs(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function $r(s,a,c){(a!=="number"||un(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Dn=Array.isArray;function ht(s,a,c,f){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&f&&(s[c].defaultSelected=!0)}else{for(c=""+Ce(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Fs(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return J({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ma(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Dn(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:Ce(c)}}function ya(s,a){var c=Ce(a.value),f=Ce(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function va(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function _a(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ur(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?_a(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var nr,$s=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,f,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(nr=nr||document.createElement("div"),nr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=nr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function vi(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Us=["Webkit","ms","Moz","O"];Object.keys(Nn).forEach(function(s){Us.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Nn[a]=Nn[s]})});function wa(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Nn.hasOwnProperty(s)&&Nn[s]?(""+a).trim():a+"px"}function ba(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=wa(c,a[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,g):s[c]=g}}var ku=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bs(s,a){if(a){if(ku[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Ws(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _i=null;function Vs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Hs=null,Gn=null,Xn=null;function Br(s){if(s=fo(s)){if(typeof Hs!="function")throw Error(t(280));var a=s.stateNode;a&&(a=Wa(a),Hs(s.stateNode,s.type,a))}}function xa(s){Gn?Xn?Xn.push(s):Xn=[s]:Gn=s}function Sa(){if(Gn){var s=Gn,a=Xn;if(Xn=Gn=null,Br(s),a)for(s=0;s<a.length;s++)Br(a[s])}}function ka(s,a){return s(a)}function qs(){}var Ks=!1;function Ea(s,a,c){if(Ks)return s(a,c);Ks=!0;try{return ka(s,a,c)}finally{Ks=!1,(Gn!==null||Xn!==null)&&(qs(),Sa())}}function ir(s,a){var c=s.stateNode;if(c===null)return null;var f=Wa(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var wi=!1;if(u)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){wi=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{wi=!1}function Eu(s,a,c,f,g,y,w,P,A){var F=Array.prototype.slice.call(arguments,3);try{a.apply(c,F)}catch(Y){this.onError(Y)}}var bi=!1,xi=null,Wr=!1,Vr=null,Tu={onError:function(s){bi=!0,xi=s}};function Ta(s,a,c,f,g,y,w,P,A){bi=!1,xi=null,Eu.apply(Tu,arguments)}function Pa(s,a,c,f,g,y,w,P,A){if(Ta.apply(this,arguments),bi){if(bi){var F=xi;bi=!1,xi=null}else throw Error(t(198));Wr||(Wr=!0,Vr=F)}}function Ln(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Ys(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Hr(s){if(Ln(s)!==s)throw Error(t(188))}function Jn(s){var a=s.alternate;if(!a){if(a=Ln(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,f=a;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===c)return Hr(g),s;if(y===f)return Hr(g),a;y=y.sibling}throw Error(t(188))}if(c.return!==f.return)c=g,f=y;else{for(var w=!1,P=g.child;P;){if(P===c){w=!0,c=g,f=y;break}if(P===f){w=!0,f=g,c=y;break}P=P.sibling}if(!w){for(P=y.child;P;){if(P===c){w=!0,c=y,f=g;break}if(P===f){w=!0,f=y,c=g;break}P=P.sibling}if(!w)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function Si(s){return s=Jn(s),s!==null?ki(s):null}function ki(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=ki(s);if(a!==null)return a;s=s.sibling}return null}var sr=e.unstable_scheduleCallback,qr=e.unstable_cancelCallback,Pu=e.unstable_shouldYield,Cu=e.unstable_requestPaint,Fe=e.unstable_now,Nt=e.unstable_getCurrentPriorityLevel,jn=e.unstable_ImmediatePriority,wn=e.unstable_UserBlockingPriority,Lt=e.unstable_NormalPriority,or=e.unstable_LowPriority,Gt=e.unstable_IdlePriority,jt=null,Xt=null;function Ca(s){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(jt,s,void 0,(s.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:Gs,Jt=Math.log,Kr=Math.LN2;function Gs(s){return s>>>=0,s===0?32:31-(Jt(s)/Kr|0)|0}var Ei=64,Ti=4194304;function Qn(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Zn(s,a){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,y=s.pingedLanes,w=c&268435455;if(w!==0){var P=w&~g;P!==0?f=Qn(P):(y&=w,y!==0&&(f=Qn(y)))}else w=c&~g,w!==0?f=Qn(w):y!==0&&(f=Qn(y));if(f===0)return 0;if(a!==0&&a!==f&&!(a&g)&&(g=f&-f,y=a&-a,g>=y||g===16&&(y&4194240)!==0))return a;if(f&4&&(f|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)c=31-Et(a),g=1<<c,f|=s[c],a&=~g;return f}function zn(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ou(s,a){for(var c=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes;0<y;){var w=31-Et(y),P=1<<w,A=g[w];A===-1?(!(P&c)||P&f)&&(g[w]=zn(P,a)):A<=a&&(s.expiredLanes|=P),y&=~P}}function Yr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Gr(){var s=Ei;return Ei<<=1,!(Ei&4194240)&&(Ei=64),s}function Xr(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function ar(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Et(a),s[a]=c}function Ru(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-Et(c),y=1<<g;a[g]=0,f[g]=-1,s[g]=-1,c&=~y}}function x(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var f=31-Et(c),g=1<<f;g&a|s[f]&a&&(s[f]|=a),c&=~g}}var k=0;function R(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var z,K,te,Pe,it,rt=!1,at=[],dt=null,Pi=null,Ci=null,Xs=new Map,Js=new Map,Oi=[],l0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wd(s,a){switch(s){case"focusin":case"focusout":dt=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":Xs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Js.delete(a.pointerId)}}function Qs(s,a,c,f,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:y,targetContainers:[g]},a!==null&&(a=fo(a),a!==null&&K(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function u0(s,a,c,f,g){switch(a){case"focusin":return dt=Qs(dt,s,a,c,f,g),!0;case"dragenter":return Pi=Qs(Pi,s,a,c,f,g),!0;case"mouseover":return Ci=Qs(Ci,s,a,c,f,g),!0;case"pointerover":var y=g.pointerId;return Xs.set(y,Qs(Xs.get(y)||null,s,a,c,f,g)),!0;case"gotpointercapture":return y=g.pointerId,Js.set(y,Qs(Js.get(y)||null,s,a,c,f,g)),!0}return!1}function Vd(s){var a=lr(s.target);if(a!==null){var c=Ln(a);if(c!==null){if(a=c.tag,a===13){if(a=Ys(c),a!==null){s.blockedOn=a,it(s.priority,function(){te(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Oa(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Mu(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);_i=f,c.target.dispatchEvent(f),_i=null}else return a=fo(c),a!==null&&K(a),s.blockedOn=c,!1;a.shift()}return!0}function Hd(s,a,c){Oa(s)&&c.delete(a)}function c0(){rt=!1,dt!==null&&Oa(dt)&&(dt=null),Pi!==null&&Oa(Pi)&&(Pi=null),Ci!==null&&Oa(Ci)&&(Ci=null),Xs.forEach(Hd),Js.forEach(Hd)}function Zs(s,a){s.blockedOn===a&&(s.blockedOn=null,rt||(rt=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,c0)))}function eo(s){function a(g){return Zs(g,s)}if(0<at.length){Zs(at[0],s);for(var c=1;c<at.length;c++){var f=at[c];f.blockedOn===s&&(f.blockedOn=null)}}for(dt!==null&&Zs(dt,s),Pi!==null&&Zs(Pi,s),Ci!==null&&Zs(Ci,s),Xs.forEach(a),Js.forEach(a),c=0;c<Oi.length;c++)f=Oi[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Oi.length&&(c=Oi[0],c.blockedOn===null);)Vd(c),c.blockedOn===null&&Oi.shift()}var Jr=M.ReactCurrentBatchConfig,Ra=!0;function h0(s,a,c,f){var g=k,y=Jr.transition;Jr.transition=null;try{k=1,Au(s,a,c,f)}finally{k=g,Jr.transition=y}}function d0(s,a,c,f){var g=k,y=Jr.transition;Jr.transition=null;try{k=4,Au(s,a,c,f)}finally{k=g,Jr.transition=y}}function Au(s,a,c,f){if(Ra){var g=Mu(s,a,c,f);if(g===null)Gu(s,a,f,Aa,c),Wd(s,f);else if(u0(g,s,a,c,f))f.stopPropagation();else if(Wd(s,f),a&4&&-1<l0.indexOf(s)){for(;g!==null;){var y=fo(g);if(y!==null&&z(y),y=Mu(s,a,c,f),y===null&&Gu(s,a,f,Aa,c),y===g)break;g=y}g!==null&&f.stopPropagation()}else Gu(s,a,f,null,c)}}var Aa=null;function Mu(s,a,c,f){if(Aa=null,s=Vs(f),s=lr(s),s!==null)if(a=Ln(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Ys(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Aa=s,null}function qd(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nt()){case jn:return 1;case wn:return 4;case Lt:case or:return 16;case Gt:return 536870912;default:return 16}default:return 16}}var Ri=null,Iu=null,Ma=null;function Kd(){if(Ma)return Ma;var s,a=Iu,c=a.length,f,g="value"in Ri?Ri.value:Ri.textContent,y=g.length;for(s=0;s<c&&a[s]===g[s];s++);var w=c-s;for(f=1;f<=w&&a[c-f]===g[y-f];f++);return Ma=g.slice(s,1<f?1-f:void 0)}function Ia(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Da(){return!0}function Yd(){return!1}function Qt(s){function a(c,f,g,y,w){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(c=s[P],this[P]=c?c(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Da:Yd,this.isPropagationStopped=Yd,this}return J(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),a}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Du=Qt(Qr),to=J({},Qr,{view:0,detail:0}),f0=Qt(to),Nu,Lu,no,Na=J({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==no&&(no&&s.type==="mousemove"?(Nu=s.screenX-no.screenX,Lu=s.screenY-no.screenY):Lu=Nu=0,no=s),Nu)},movementY:function(s){return"movementY"in s?s.movementY:Lu}}),Gd=Qt(Na),p0=J({},Na,{dataTransfer:0}),g0=Qt(p0),m0=J({},to,{relatedTarget:0}),ju=Qt(m0),y0=J({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),v0=Qt(y0),_0=J({},Qr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),w0=Qt(_0),b0=J({},Qr,{data:0}),Xd=Qt(b0),x0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E0(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=k0[s])?!!a[s]:!1}function zu(){return E0}var T0=J({},to,{key:function(s){if(s.key){var a=x0[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ia(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?S0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zu,charCode:function(s){return s.type==="keypress"?Ia(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ia(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),P0=Qt(T0),C0=J({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jd=Qt(C0),O0=J({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zu}),R0=Qt(O0),A0=J({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),M0=Qt(A0),I0=J({},Na,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),D0=Qt(I0),N0=[9,13,27,32],Fu=u&&"CompositionEvent"in window,io=null;u&&"documentMode"in document&&(io=document.documentMode);var L0=u&&"TextEvent"in window&&!io,Qd=u&&(!Fu||io&&8<io&&11>=io),Zd=" ",ef=!1;function tf(s,a){switch(s){case"keyup":return N0.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Zr=!1;function j0(s,a){switch(s){case"compositionend":return nf(a);case"keypress":return a.which!==32?null:(ef=!0,Zd);case"textInput":return s=a.data,s===Zd&&ef?null:s;default:return null}}function z0(s,a){if(Zr)return s==="compositionend"||!Fu&&tf(s,a)?(s=Kd(),Ma=Iu=Ri=null,Zr=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Qd&&a.locale!=="ko"?null:a.data;default:return null}}var F0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!F0[s.type]:a==="textarea"}function sf(s,a,c,f){xa(f),a=$a(a,"onChange"),0<a.length&&(c=new Du("onChange","change",null,c,f),s.push({event:c,listeners:a}))}var ro=null,so=null;function $0(s){Sf(s,0)}function La(s){var a=rs(s);if(In(a))return s}function U0(s,a){if(s==="change")return a}var of=!1;if(u){var $u;if(u){var Uu="oninput"in document;if(!Uu){var af=document.createElement("div");af.setAttribute("oninput","return;"),Uu=typeof af.oninput=="function"}$u=Uu}else $u=!1;of=$u&&(!document.documentMode||9<document.documentMode)}function lf(){ro&&(ro.detachEvent("onpropertychange",uf),so=ro=null)}function uf(s){if(s.propertyName==="value"&&La(so)){var a=[];sf(a,so,s,Vs(s)),Ea($0,a)}}function B0(s,a,c){s==="focusin"?(lf(),ro=a,so=c,ro.attachEvent("onpropertychange",uf)):s==="focusout"&&lf()}function W0(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return La(so)}function V0(s,a){if(s==="click")return La(a)}function H0(s,a){if(s==="input"||s==="change")return La(a)}function q0(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var bn=typeof Object.is=="function"?Object.is:q0;function oo(s,a){if(bn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!h.call(a,g)||!bn(s[g],a[g]))return!1}return!0}function cf(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function hf(s,a){var c=cf(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=a&&f>=a)return{node:c,offset:a-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=cf(c)}}function df(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?df(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function ff(){for(var s=window,a=un();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=un(s.document)}return a}function Bu(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function K0(s){var a=ff(),c=s.focusedElem,f=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&df(c.ownerDocument.documentElement,c)){if(f!==null&&Bu(c)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,y=Math.min(f.start,g);f=f.end===void 0?y:Math.min(f.end,g),!s.extend&&y>f&&(g=f,f=y,y=g),g=hf(c,y);var w=hf(c,f);g&&w&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==w.node||s.focusOffset!==w.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),y>f?(s.addRange(a),s.extend(w.node,w.offset)):(a.setEnd(w.node,w.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Y0=u&&"documentMode"in document&&11>=document.documentMode,es=null,Wu=null,ao=null,Vu=!1;function pf(s,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Vu||es==null||es!==un(f)||(f=es,"selectionStart"in f&&Bu(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ao&&oo(ao,f)||(ao=f,f=$a(Wu,"onSelect"),0<f.length&&(a=new Du("onSelect","select",null,a,c),s.push({event:a,listeners:f}),a.target=es)))}function ja(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var ts={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},Hu={},gf={};u&&(gf=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function za(s){if(Hu[s])return Hu[s];if(!ts[s])return s;var a=ts[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in gf)return Hu[s]=a[c];return s}var mf=za("animationend"),yf=za("animationiteration"),vf=za("animationstart"),_f=za("transitionend"),wf=new Map,bf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(s,a){wf.set(s,a),o(a,[s])}for(var qu=0;qu<bf.length;qu++){var Ku=bf[qu],G0=Ku.toLowerCase(),X0=Ku[0].toUpperCase()+Ku.slice(1);Ai(G0,"on"+X0)}Ai(mf,"onAnimationEnd"),Ai(yf,"onAnimationIteration"),Ai(vf,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(_f,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J0=new Set("cancel close invalid load scroll toggle".split(" ").concat(lo));function xf(s,a,c){var f=s.type||"unknown-event";s.currentTarget=c,Pa(f,a,void 0,s),s.currentTarget=null}function Sf(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],g=f.event;f=f.listeners;e:{var y=void 0;if(a)for(var w=f.length-1;0<=w;w--){var P=f[w],A=P.instance,F=P.currentTarget;if(P=P.listener,A!==y&&g.isPropagationStopped())break e;xf(g,P,F),y=A}else for(w=0;w<f.length;w++){if(P=f[w],A=P.instance,F=P.currentTarget,P=P.listener,A!==y&&g.isPropagationStopped())break e;xf(g,P,F),y=A}}}if(Wr)throw s=Vr,Wr=!1,Vr=null,s}function Be(s,a){var c=a[tc];c===void 0&&(c=a[tc]=new Set);var f=s+"__bubble";c.has(f)||(kf(a,s,2,!1),c.add(f))}function Yu(s,a,c){var f=0;a&&(f|=4),kf(c,s,f,a)}var Fa="_reactListening"+Math.random().toString(36).slice(2);function uo(s){if(!s[Fa]){s[Fa]=!0,i.forEach(function(c){c!=="selectionchange"&&(J0.has(c)||Yu(c,!1,s),Yu(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Fa]||(a[Fa]=!0,Yu("selectionchange",!1,a))}}function kf(s,a,c,f){switch(qd(a)){case 1:var g=h0;break;case 4:g=d0;break;default:g=Au}c=g.bind(null,a,c,s),g=void 0,!wi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function Gu(s,a,c,f,g){var y=f;if(!(a&1)&&!(a&2)&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var P=f.stateNode.containerInfo;if(P===g||P.nodeType===8&&P.parentNode===g)break;if(w===4)for(w=f.return;w!==null;){var A=w.tag;if((A===3||A===4)&&(A=w.stateNode.containerInfo,A===g||A.nodeType===8&&A.parentNode===g))return;w=w.return}for(;P!==null;){if(w=lr(P),w===null)return;if(A=w.tag,A===5||A===6){f=y=w;continue e}P=P.parentNode}}f=f.return}Ea(function(){var F=y,Y=Vs(c),G=[];e:{var q=wf.get(s);if(q!==void 0){var ne=Du,re=s;switch(s){case"keypress":if(Ia(c)===0)break e;case"keydown":case"keyup":ne=P0;break;case"focusin":re="focus",ne=ju;break;case"focusout":re="blur",ne=ju;break;case"beforeblur":case"afterblur":ne=ju;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=g0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=R0;break;case mf:case yf:case vf:ne=v0;break;case _f:ne=M0;break;case"scroll":ne=f0;break;case"wheel":ne=D0;break;case"copy":case"cut":case"paste":ne=w0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Jd}var se=(a&4)!==0,st=!se&&s==="scroll",L=se?q!==null?q+"Capture":null:q;se=[];for(var I=F,j;I!==null;){j=I;var Q=j.stateNode;if(j.tag===5&&Q!==null&&(j=Q,L!==null&&(Q=ir(I,L),Q!=null&&se.push(co(I,Q,j)))),st)break;I=I.return}0<se.length&&(q=new ne(q,re,null,c,Y),G.push({event:q,listeners:se}))}}if(!(a&7)){e:{if(q=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",q&&c!==_i&&(re=c.relatedTarget||c.fromElement)&&(lr(re)||re[ei]))break e;if((ne||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,ne?(re=c.relatedTarget||c.toElement,ne=F,re=re?lr(re):null,re!==null&&(st=Ln(re),re!==st||re.tag!==5&&re.tag!==6)&&(re=null)):(ne=null,re=F),ne!==re)){if(se=Gd,Q="onMouseLeave",L="onMouseEnter",I="mouse",(s==="pointerout"||s==="pointerover")&&(se=Jd,Q="onPointerLeave",L="onPointerEnter",I="pointer"),st=ne==null?q:rs(ne),j=re==null?q:rs(re),q=new se(Q,I+"leave",ne,c,Y),q.target=st,q.relatedTarget=j,Q=null,lr(Y)===F&&(se=new se(L,I+"enter",re,c,Y),se.target=j,se.relatedTarget=st,Q=se),st=Q,ne&&re)t:{for(se=ne,L=re,I=0,j=se;j;j=ns(j))I++;for(j=0,Q=L;Q;Q=ns(Q))j++;for(;0<I-j;)se=ns(se),I--;for(;0<j-I;)L=ns(L),j--;for(;I--;){if(se===L||L!==null&&se===L.alternate)break t;se=ns(se),L=ns(L)}se=null}else se=null;ne!==null&&Ef(G,q,ne,se,!1),re!==null&&st!==null&&Ef(G,st,re,se,!0)}}e:{if(q=F?rs(F):window,ne=q.nodeName&&q.nodeName.toLowerCase(),ne==="select"||ne==="input"&&q.type==="file")var ae=U0;else if(rf(q))if(of)ae=H0;else{ae=W0;var fe=B0}else(ne=q.nodeName)&&ne.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(ae=V0);if(ae&&(ae=ae(s,F))){sf(G,ae,c,Y);break e}fe&&fe(s,q,F),s==="focusout"&&(fe=q._wrapperState)&&fe.controlled&&q.type==="number"&&$r(q,"number",q.value)}switch(fe=F?rs(F):window,s){case"focusin":(rf(fe)||fe.contentEditable==="true")&&(es=fe,Wu=F,ao=null);break;case"focusout":ao=Wu=es=null;break;case"mousedown":Vu=!0;break;case"contextmenu":case"mouseup":case"dragend":Vu=!1,pf(G,c,Y);break;case"selectionchange":if(Y0)break;case"keydown":case"keyup":pf(G,c,Y)}var pe;if(Fu)e:{switch(s){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Zr?tf(s,c)&&(be="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(be="onCompositionStart");be&&(Qd&&c.locale!=="ko"&&(Zr||be!=="onCompositionStart"?be==="onCompositionEnd"&&Zr&&(pe=Kd()):(Ri=Y,Iu="value"in Ri?Ri.value:Ri.textContent,Zr=!0)),fe=$a(F,be),0<fe.length&&(be=new Xd(be,s,null,c,Y),G.push({event:be,listeners:fe}),pe?be.data=pe:(pe=nf(c),pe!==null&&(be.data=pe)))),(pe=L0?j0(s,c):z0(s,c))&&(F=$a(F,"onBeforeInput"),0<F.length&&(Y=new Xd("onBeforeInput","beforeinput",null,c,Y),G.push({event:Y,listeners:F}),Y.data=pe))}Sf(G,a)})}function co(s,a,c){return{instance:s,listener:a,currentTarget:c}}function $a(s,a){for(var c=a+"Capture",f=[];s!==null;){var g=s,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=ir(s,c),y!=null&&f.unshift(co(s,y,g)),y=ir(s,a),y!=null&&f.push(co(s,y,g))),s=s.return}return f}function ns(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ef(s,a,c,f,g){for(var y=a._reactName,w=[];c!==null&&c!==f;){var P=c,A=P.alternate,F=P.stateNode;if(A!==null&&A===f)break;P.tag===5&&F!==null&&(P=F,g?(A=ir(c,y),A!=null&&w.unshift(co(c,A,P))):g||(A=ir(c,y),A!=null&&w.push(co(c,A,P)))),c=c.return}w.length!==0&&s.push({event:a,listeners:w})}var Q0=/\r\n?/g,Z0=/\u0000|\uFFFD/g;function Tf(s){return(typeof s=="string"?s:""+s).replace(Q0,`
`).replace(Z0,"")}function Ua(s,a,c){if(a=Tf(a),Tf(s)!==a&&c)throw Error(t(425))}function Ba(){}var Xu=null,Ju=null;function Qu(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Zu=typeof setTimeout=="function"?setTimeout:void 0,e_=typeof clearTimeout=="function"?clearTimeout:void 0,Pf=typeof Promise=="function"?Promise:void 0,t_=typeof queueMicrotask=="function"?queueMicrotask:typeof Pf<"u"?function(s){return Pf.resolve(null).then(s).catch(n_)}:Zu;function n_(s){setTimeout(function(){throw s})}function ec(s,a){var c=a,f=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){s.removeChild(g),eo(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);eo(a)}function Mi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Cf(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var is=Math.random().toString(36).slice(2),Fn="__reactFiber$"+is,ho="__reactProps$"+is,ei="__reactContainer$"+is,tc="__reactEvents$"+is,i_="__reactListeners$"+is,r_="__reactHandles$"+is;function lr(s){var a=s[Fn];if(a)return a;for(var c=s.parentNode;c;){if(a=c[ei]||c[Fn]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=Cf(s);s!==null;){if(c=s[Fn])return c;s=Cf(s)}return a}s=c,c=s.parentNode}return null}function fo(s){return s=s[Fn]||s[ei],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function rs(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Wa(s){return s[ho]||null}var nc=[],ss=-1;function Ii(s){return{current:s}}function We(s){0>ss||(s.current=nc[ss],nc[ss]=null,ss--)}function $e(s,a){ss++,nc[ss]=s.current,s.current=a}var Di={},Tt=Ii(Di),zt=Ii(!1),ur=Di;function os(s,a){var c=s.type.contextTypes;if(!c)return Di;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in c)g[y]=a[y];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function Ft(s){return s=s.childContextTypes,s!=null}function Va(){We(zt),We(Tt)}function Of(s,a,c){if(Tt.current!==Di)throw Error(t(168));$e(Tt,a),$e(zt,c)}function Rf(s,a,c){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(t(108,Ee(s)||"Unknown",g));return J({},c,f)}function Ha(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Di,ur=Tt.current,$e(Tt,s),$e(zt,zt.current),!0}function Af(s,a,c){var f=s.stateNode;if(!f)throw Error(t(169));c?(s=Rf(s,a,ur),f.__reactInternalMemoizedMergedChildContext=s,We(zt),We(Tt),$e(Tt,s)):We(zt),$e(zt,c)}var ti=null,qa=!1,ic=!1;function Mf(s){ti===null?ti=[s]:ti.push(s)}function s_(s){qa=!0,Mf(s)}function Ni(){if(!ic&&ti!==null){ic=!0;var s=0,a=k;try{var c=ti;for(k=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}ti=null,qa=!1}catch(g){throw ti!==null&&(ti=ti.slice(s+1)),sr(jn,Ni),g}finally{k=a,ic=!1}}return null}var as=[],ls=0,Ka=null,Ya=0,cn=[],hn=0,cr=null,ni=1,ii="";function hr(s,a){as[ls++]=Ya,as[ls++]=Ka,Ka=s,Ya=a}function If(s,a,c){cn[hn++]=ni,cn[hn++]=ii,cn[hn++]=cr,cr=s;var f=ni;s=ii;var g=32-Et(f)-1;f&=~(1<<g),c+=1;var y=32-Et(a)+g;if(30<y){var w=g-g%5;y=(f&(1<<w)-1).toString(32),f>>=w,g-=w,ni=1<<32-Et(a)+g|c<<g|f,ii=y+s}else ni=1<<y|c<<g|f,ii=s}function rc(s){s.return!==null&&(hr(s,1),If(s,1,0))}function sc(s){for(;s===Ka;)Ka=as[--ls],as[ls]=null,Ya=as[--ls],as[ls]=null;for(;s===cr;)cr=cn[--hn],cn[hn]=null,ii=cn[--hn],cn[hn]=null,ni=cn[--hn],cn[hn]=null}var Zt=null,en=null,Ge=!1,xn=null;function Df(s,a){var c=gn(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function Nf(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Zt=s,en=Mi(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Zt=s,en=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=cr!==null?{id:ni,overflow:ii}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=gn(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Zt=s,en=null,!0):!1;default:return!1}}function oc(s){return(s.mode&1)!==0&&(s.flags&128)===0}function ac(s){if(Ge){var a=en;if(a){var c=a;if(!Nf(s,a)){if(oc(s))throw Error(t(418));a=Mi(c.nextSibling);var f=Zt;a&&Nf(s,a)?Df(f,c):(s.flags=s.flags&-4097|2,Ge=!1,Zt=s)}}else{if(oc(s))throw Error(t(418));s.flags=s.flags&-4097|2,Ge=!1,Zt=s}}}function Lf(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Zt=s}function Ga(s){if(s!==Zt)return!1;if(!Ge)return Lf(s),Ge=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Qu(s.type,s.memoizedProps)),a&&(a=en)){if(oc(s))throw jf(),Error(t(418));for(;a;)Df(s,a),a=Mi(a.nextSibling)}if(Lf(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){en=Mi(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}en=null}}else en=Zt?Mi(s.stateNode.nextSibling):null;return!0}function jf(){for(var s=en;s;)s=Mi(s.nextSibling)}function us(){en=Zt=null,Ge=!1}function lc(s){xn===null?xn=[s]:xn.push(s)}var o_=M.ReactCurrentBatchConfig;function po(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,s));var g=f,y=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===y?a.ref:(a=function(w){var P=g.refs;w===null?delete P[y]:P[y]=w},a._stringRef=y,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Xa(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function zf(s){var a=s._init;return a(s._payload)}function Ff(s){function a(L,I){if(s){var j=L.deletions;j===null?(L.deletions=[I],L.flags|=16):j.push(I)}}function c(L,I){if(!s)return null;for(;I!==null;)a(L,I),I=I.sibling;return null}function f(L,I){for(L=new Map;I!==null;)I.key!==null?L.set(I.key,I):L.set(I.index,I),I=I.sibling;return L}function g(L,I){return L=Wi(L,I),L.index=0,L.sibling=null,L}function y(L,I,j){return L.index=j,s?(j=L.alternate,j!==null?(j=j.index,j<I?(L.flags|=2,I):j):(L.flags|=2,I)):(L.flags|=1048576,I)}function w(L){return s&&L.alternate===null&&(L.flags|=2),L}function P(L,I,j,Q){return I===null||I.tag!==6?(I=Zc(j,L.mode,Q),I.return=L,I):(I=g(I,j),I.return=L,I)}function A(L,I,j,Q){var ae=j.type;return ae===U?Y(L,I,j.props.children,Q,j.key):I!==null&&(I.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Te&&zf(ae)===I.type)?(Q=g(I,j.props),Q.ref=po(L,I,j),Q.return=L,Q):(Q=wl(j.type,j.key,j.props,null,L.mode,Q),Q.ref=po(L,I,j),Q.return=L,Q)}function F(L,I,j,Q){return I===null||I.tag!==4||I.stateNode.containerInfo!==j.containerInfo||I.stateNode.implementation!==j.implementation?(I=eh(j,L.mode,Q),I.return=L,I):(I=g(I,j.children||[]),I.return=L,I)}function Y(L,I,j,Q,ae){return I===null||I.tag!==7?(I=_r(j,L.mode,Q,ae),I.return=L,I):(I=g(I,j),I.return=L,I)}function G(L,I,j){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Zc(""+I,L.mode,j),I.return=L,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case N:return j=wl(I.type,I.key,I.props,null,L.mode,j),j.ref=po(L,null,I),j.return=L,j;case $:return I=eh(I,L.mode,j),I.return=L,I;case Te:var Q=I._init;return G(L,Q(I._payload),j)}if(Dn(I)||X(I))return I=_r(I,L.mode,j,null),I.return=L,I;Xa(L,I)}return null}function q(L,I,j,Q){var ae=I!==null?I.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return ae!==null?null:P(L,I,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case N:return j.key===ae?A(L,I,j,Q):null;case $:return j.key===ae?F(L,I,j,Q):null;case Te:return ae=j._init,q(L,I,ae(j._payload),Q)}if(Dn(j)||X(j))return ae!==null?null:Y(L,I,j,Q,null);Xa(L,j)}return null}function ne(L,I,j,Q,ae){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return L=L.get(j)||null,P(I,L,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case N:return L=L.get(Q.key===null?j:Q.key)||null,A(I,L,Q,ae);case $:return L=L.get(Q.key===null?j:Q.key)||null,F(I,L,Q,ae);case Te:var fe=Q._init;return ne(L,I,j,fe(Q._payload),ae)}if(Dn(Q)||X(Q))return L=L.get(j)||null,Y(I,L,Q,ae,null);Xa(I,Q)}return null}function re(L,I,j,Q){for(var ae=null,fe=null,pe=I,be=I=0,vt=null;pe!==null&&be<j.length;be++){pe.index>be?(vt=pe,pe=null):vt=pe.sibling;var Le=q(L,pe,j[be],Q);if(Le===null){pe===null&&(pe=vt);break}s&&pe&&Le.alternate===null&&a(L,pe),I=y(Le,I,be),fe===null?ae=Le:fe.sibling=Le,fe=Le,pe=vt}if(be===j.length)return c(L,pe),Ge&&hr(L,be),ae;if(pe===null){for(;be<j.length;be++)pe=G(L,j[be],Q),pe!==null&&(I=y(pe,I,be),fe===null?ae=pe:fe.sibling=pe,fe=pe);return Ge&&hr(L,be),ae}for(pe=f(L,pe);be<j.length;be++)vt=ne(pe,L,be,j[be],Q),vt!==null&&(s&&vt.alternate!==null&&pe.delete(vt.key===null?be:vt.key),I=y(vt,I,be),fe===null?ae=vt:fe.sibling=vt,fe=vt);return s&&pe.forEach(function(Vi){return a(L,Vi)}),Ge&&hr(L,be),ae}function se(L,I,j,Q){var ae=X(j);if(typeof ae!="function")throw Error(t(150));if(j=ae.call(j),j==null)throw Error(t(151));for(var fe=ae=null,pe=I,be=I=0,vt=null,Le=j.next();pe!==null&&!Le.done;be++,Le=j.next()){pe.index>be?(vt=pe,pe=null):vt=pe.sibling;var Vi=q(L,pe,Le.value,Q);if(Vi===null){pe===null&&(pe=vt);break}s&&pe&&Vi.alternate===null&&a(L,pe),I=y(Vi,I,be),fe===null?ae=Vi:fe.sibling=Vi,fe=Vi,pe=vt}if(Le.done)return c(L,pe),Ge&&hr(L,be),ae;if(pe===null){for(;!Le.done;be++,Le=j.next())Le=G(L,Le.value,Q),Le!==null&&(I=y(Le,I,be),fe===null?ae=Le:fe.sibling=Le,fe=Le);return Ge&&hr(L,be),ae}for(pe=f(L,pe);!Le.done;be++,Le=j.next())Le=ne(pe,L,be,Le.value,Q),Le!==null&&(s&&Le.alternate!==null&&pe.delete(Le.key===null?be:Le.key),I=y(Le,I,be),fe===null?ae=Le:fe.sibling=Le,fe=Le);return s&&pe.forEach(function(F_){return a(L,F_)}),Ge&&hr(L,be),ae}function st(L,I,j,Q){if(typeof j=="object"&&j!==null&&j.type===U&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case N:e:{for(var ae=j.key,fe=I;fe!==null;){if(fe.key===ae){if(ae=j.type,ae===U){if(fe.tag===7){c(L,fe.sibling),I=g(fe,j.props.children),I.return=L,L=I;break e}}else if(fe.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Te&&zf(ae)===fe.type){c(L,fe.sibling),I=g(fe,j.props),I.ref=po(L,fe,j),I.return=L,L=I;break e}c(L,fe);break}else a(L,fe);fe=fe.sibling}j.type===U?(I=_r(j.props.children,L.mode,Q,j.key),I.return=L,L=I):(Q=wl(j.type,j.key,j.props,null,L.mode,Q),Q.ref=po(L,I,j),Q.return=L,L=Q)}return w(L);case $:e:{for(fe=j.key;I!==null;){if(I.key===fe)if(I.tag===4&&I.stateNode.containerInfo===j.containerInfo&&I.stateNode.implementation===j.implementation){c(L,I.sibling),I=g(I,j.children||[]),I.return=L,L=I;break e}else{c(L,I);break}else a(L,I);I=I.sibling}I=eh(j,L.mode,Q),I.return=L,L=I}return w(L);case Te:return fe=j._init,st(L,I,fe(j._payload),Q)}if(Dn(j))return re(L,I,j,Q);if(X(j))return se(L,I,j,Q);Xa(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,I!==null&&I.tag===6?(c(L,I.sibling),I=g(I,j),I.return=L,L=I):(c(L,I),I=Zc(j,L.mode,Q),I.return=L,L=I),w(L)):c(L,I)}return st}var cs=Ff(!0),$f=Ff(!1),Ja=Ii(null),Qa=null,hs=null,uc=null;function cc(){uc=hs=Qa=null}function hc(s){var a=Ja.current;We(Ja),s._currentValue=a}function dc(s,a,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===c)break;s=s.return}}function ds(s,a){Qa=s,uc=hs=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&($t=!0),s.firstContext=null)}function dn(s){var a=s._currentValue;if(uc!==s)if(s={context:s,memoizedValue:a,next:null},hs===null){if(Qa===null)throw Error(t(308));hs=s,Qa.dependencies={lanes:0,firstContext:s}}else hs=hs.next=s;return a}var dr=null;function fc(s){dr===null?dr=[s]:dr.push(s)}function Uf(s,a,c,f){var g=a.interleaved;return g===null?(c.next=c,fc(a)):(c.next=g.next,g.next=c),a.interleaved=c,ri(s,f)}function ri(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Li=!1;function pc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bf(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function si(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function ji(s,a,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,De&2){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,ri(s,c)}return g=f.interleaved,g===null?(a.next=a,fc(f)):(a.next=g.next,g.next=a),f.interleaved=a,ri(s,c)}function Za(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,x(s,c)}}function Wf(s,a){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var w={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?g=y=w:y=y.next=w,c=c.next}while(c!==null);y===null?g=y=a:y=y.next=a}else g=y=a;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function el(s,a,c,f){var g=s.updateQueue;Li=!1;var y=g.firstBaseUpdate,w=g.lastBaseUpdate,P=g.shared.pending;if(P!==null){g.shared.pending=null;var A=P,F=A.next;A.next=null,w===null?y=F:w.next=F,w=A;var Y=s.alternate;Y!==null&&(Y=Y.updateQueue,P=Y.lastBaseUpdate,P!==w&&(P===null?Y.firstBaseUpdate=F:P.next=F,Y.lastBaseUpdate=A))}if(y!==null){var G=g.baseState;w=0,Y=F=A=null,P=y;do{var q=P.lane,ne=P.eventTime;if((f&q)===q){Y!==null&&(Y=Y.next={eventTime:ne,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var re=s,se=P;switch(q=a,ne=c,se.tag){case 1:if(re=se.payload,typeof re=="function"){G=re.call(ne,G,q);break e}G=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=se.payload,q=typeof re=="function"?re.call(ne,G,q):re,q==null)break e;G=J({},G,q);break e;case 2:Li=!0}}P.callback!==null&&P.lane!==0&&(s.flags|=64,q=g.effects,q===null?g.effects=[P]:q.push(P))}else ne={eventTime:ne,lane:q,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Y===null?(F=Y=ne,A=G):Y=Y.next=ne,w|=q;if(P=P.next,P===null){if(P=g.shared.pending,P===null)break;q=P,P=q.next,q.next=null,g.lastBaseUpdate=q,g.shared.pending=null}}while(!0);if(Y===null&&(A=G),g.baseState=A,g.firstBaseUpdate=F,g.lastBaseUpdate=Y,a=g.shared.interleaved,a!==null){g=a;do w|=g.lane,g=g.next;while(g!==a)}else y===null&&(g.shared.lanes=0);gr|=w,s.lanes=w,s.memoizedState=G}}function Vf(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var go={},$n=Ii(go),mo=Ii(go),yo=Ii(go);function fr(s){if(s===go)throw Error(t(174));return s}function gc(s,a){switch($e(yo,a),$e(mo,s),$e($n,go),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ur(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Ur(a,s)}We($n),$e($n,a)}function fs(){We($n),We(mo),We(yo)}function Hf(s){fr(yo.current);var a=fr($n.current),c=Ur(a,s.type);a!==c&&($e(mo,s),$e($n,c))}function mc(s){mo.current===s&&(We($n),We(mo))}var Xe=Ii(0);function tl(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var yc=[];function vc(){for(var s=0;s<yc.length;s++)yc[s]._workInProgressVersionPrimary=null;yc.length=0}var nl=M.ReactCurrentDispatcher,_c=M.ReactCurrentBatchConfig,pr=0,Je=null,ft=null,mt=null,il=!1,vo=!1,_o=0,a_=0;function Pt(){throw Error(t(321))}function wc(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!bn(s[c],a[c]))return!1;return!0}function bc(s,a,c,f,g,y){if(pr=y,Je=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,nl.current=s===null||s.memoizedState===null?h_:d_,s=c(f,g),vo){y=0;do{if(vo=!1,_o=0,25<=y)throw Error(t(301));y+=1,mt=ft=null,a.updateQueue=null,nl.current=f_,s=c(f,g)}while(vo)}if(nl.current=ol,a=ft!==null&&ft.next!==null,pr=0,mt=ft=Je=null,il=!1,a)throw Error(t(300));return s}function xc(){var s=_o!==0;return _o=0,s}function Un(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Je.memoizedState=mt=s:mt=mt.next=s,mt}function fn(){if(ft===null){var s=Je.alternate;s=s!==null?s.memoizedState:null}else s=ft.next;var a=mt===null?Je.memoizedState:mt.next;if(a!==null)mt=a,ft=s;else{if(s===null)throw Error(t(310));ft=s,s={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},mt===null?Je.memoizedState=mt=s:mt=mt.next=s}return mt}function wo(s,a){return typeof a=="function"?a(s):a}function Sc(s){var a=fn(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=ft,g=f.baseQueue,y=c.pending;if(y!==null){if(g!==null){var w=g.next;g.next=y.next,y.next=w}f.baseQueue=g=y,c.pending=null}if(g!==null){y=g.next,f=f.baseState;var P=w=null,A=null,F=y;do{var Y=F.lane;if((pr&Y)===Y)A!==null&&(A=A.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),f=F.hasEagerState?F.eagerState:s(f,F.action);else{var G={lane:Y,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};A===null?(P=A=G,w=f):A=A.next=G,Je.lanes|=Y,gr|=Y}F=F.next}while(F!==null&&F!==y);A===null?w=f:A.next=P,bn(f,a.memoizedState)||($t=!0),a.memoizedState=f,a.baseState=w,a.baseQueue=A,c.lastRenderedState=f}if(s=c.interleaved,s!==null){g=s;do y=g.lane,Je.lanes|=y,gr|=y,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function kc(s){var a=fn(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=c.dispatch,g=c.pending,y=a.memoizedState;if(g!==null){c.pending=null;var w=g=g.next;do y=s(y,w.action),w=w.next;while(w!==g);bn(y,a.memoizedState)||($t=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,f]}function qf(){}function Kf(s,a){var c=Je,f=fn(),g=a(),y=!bn(f.memoizedState,g);if(y&&(f.memoizedState=g,$t=!0),f=f.queue,Ec(Xf.bind(null,c,f,s),[s]),f.getSnapshot!==a||y||mt!==null&&mt.memoizedState.tag&1){if(c.flags|=2048,bo(9,Gf.bind(null,c,f,g,a),void 0,null),yt===null)throw Error(t(349));pr&30||Yf(c,a,g)}return g}function Yf(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Je.updateQueue,a===null?(a={lastEffect:null,stores:null},Je.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function Gf(s,a,c,f){a.value=c,a.getSnapshot=f,Jf(a)&&Qf(s)}function Xf(s,a,c){return c(function(){Jf(a)&&Qf(s)})}function Jf(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!bn(s,c)}catch{return!0}}function Qf(s){var a=ri(s,1);a!==null&&Tn(a,s,1,-1)}function Zf(s){var a=Un();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:s},a.queue=s,s=s.dispatch=c_.bind(null,Je,s),[a.memoizedState,s]}function bo(s,a,c,f){return s={tag:s,create:a,destroy:c,deps:f,next:null},a=Je.updateQueue,a===null?(a={lastEffect:null,stores:null},Je.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,a.lastEffect=s)),s}function ep(){return fn().memoizedState}function rl(s,a,c,f){var g=Un();Je.flags|=s,g.memoizedState=bo(1|a,c,void 0,f===void 0?null:f)}function sl(s,a,c,f){var g=fn();f=f===void 0?null:f;var y=void 0;if(ft!==null){var w=ft.memoizedState;if(y=w.destroy,f!==null&&wc(f,w.deps)){g.memoizedState=bo(a,c,y,f);return}}Je.flags|=s,g.memoizedState=bo(1|a,c,y,f)}function tp(s,a){return rl(8390656,8,s,a)}function Ec(s,a){return sl(2048,8,s,a)}function np(s,a){return sl(4,2,s,a)}function ip(s,a){return sl(4,4,s,a)}function rp(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function sp(s,a,c){return c=c!=null?c.concat([s]):null,sl(4,4,rp.bind(null,a,s),c)}function Tc(){}function op(s,a){var c=fn();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&wc(a,f[1])?f[0]:(c.memoizedState=[s,a],s)}function ap(s,a){var c=fn();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&wc(a,f[1])?f[0]:(s=s(),c.memoizedState=[s,a],s)}function lp(s,a,c){return pr&21?(bn(c,a)||(c=Gr(),Je.lanes|=c,gr|=c,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,$t=!0),s.memoizedState=c)}function l_(s,a){var c=k;k=c!==0&&4>c?c:4,s(!0);var f=_c.transition;_c.transition={};try{s(!1),a()}finally{k=c,_c.transition=f}}function up(){return fn().memoizedState}function u_(s,a,c){var f=Ui(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},cp(s))hp(a,c);else if(c=Uf(s,a,c,f),c!==null){var g=It();Tn(c,s,f,g),dp(c,a,f)}}function c_(s,a,c){var f=Ui(s),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(cp(s))hp(a,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var w=a.lastRenderedState,P=y(w,c);if(g.hasEagerState=!0,g.eagerState=P,bn(P,w)){var A=a.interleaved;A===null?(g.next=g,fc(a)):(g.next=A.next,A.next=g),a.interleaved=g;return}}catch{}finally{}c=Uf(s,a,g,f),c!==null&&(g=It(),Tn(c,s,f,g),dp(c,a,f))}}function cp(s){var a=s.alternate;return s===Je||a!==null&&a===Je}function hp(s,a){vo=il=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function dp(s,a,c){if(c&4194240){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,x(s,c)}}var ol={readContext:dn,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},h_={readContext:dn,useCallback:function(s,a){return Un().memoizedState=[s,a===void 0?null:a],s},useContext:dn,useEffect:tp,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,rl(4194308,4,rp.bind(null,a,s),c)},useLayoutEffect:function(s,a){return rl(4194308,4,s,a)},useInsertionEffect:function(s,a){return rl(4,2,s,a)},useMemo:function(s,a){var c=Un();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var f=Un();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=u_.bind(null,Je,s),[f.memoizedState,s]},useRef:function(s){var a=Un();return s={current:s},a.memoizedState=s},useState:Zf,useDebugValue:Tc,useDeferredValue:function(s){return Un().memoizedState=s},useTransition:function(){var s=Zf(!1),a=s[0];return s=l_.bind(null,s[1]),Un().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var f=Je,g=Un();if(Ge){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),yt===null)throw Error(t(349));pr&30||Yf(f,a,c)}g.memoizedState=c;var y={value:c,getSnapshot:a};return g.queue=y,tp(Xf.bind(null,f,y,s),[s]),f.flags|=2048,bo(9,Gf.bind(null,f,y,c,a),void 0,null),c},useId:function(){var s=Un(),a=yt.identifierPrefix;if(Ge){var c=ii,f=ni;c=(f&~(1<<32-Et(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=_o++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=a_++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},d_={readContext:dn,useCallback:op,useContext:dn,useEffect:Ec,useImperativeHandle:sp,useInsertionEffect:np,useLayoutEffect:ip,useMemo:ap,useReducer:Sc,useRef:ep,useState:function(){return Sc(wo)},useDebugValue:Tc,useDeferredValue:function(s){var a=fn();return lp(a,ft.memoizedState,s)},useTransition:function(){var s=Sc(wo)[0],a=fn().memoizedState;return[s,a]},useMutableSource:qf,useSyncExternalStore:Kf,useId:up,unstable_isNewReconciler:!1},f_={readContext:dn,useCallback:op,useContext:dn,useEffect:Ec,useImperativeHandle:sp,useInsertionEffect:np,useLayoutEffect:ip,useMemo:ap,useReducer:kc,useRef:ep,useState:function(){return kc(wo)},useDebugValue:Tc,useDeferredValue:function(s){var a=fn();return ft===null?a.memoizedState=s:lp(a,ft.memoizedState,s)},useTransition:function(){var s=kc(wo)[0],a=fn().memoizedState;return[s,a]},useMutableSource:qf,useSyncExternalStore:Kf,useId:up,unstable_isNewReconciler:!1};function Sn(s,a){if(s&&s.defaultProps){a=J({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function Pc(s,a,c,f){a=s.memoizedState,c=c(f,a),c=c==null?a:J({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var al={isMounted:function(s){return(s=s._reactInternals)?Ln(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var f=It(),g=Ui(s),y=si(f,g);y.payload=a,c!=null&&(y.callback=c),a=ji(s,y,g),a!==null&&(Tn(a,s,g,f),Za(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var f=It(),g=Ui(s),y=si(f,g);y.tag=1,y.payload=a,c!=null&&(y.callback=c),a=ji(s,y,g),a!==null&&(Tn(a,s,g,f),Za(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=It(),f=Ui(s),g=si(c,f);g.tag=2,a!=null&&(g.callback=a),a=ji(s,g,f),a!==null&&(Tn(a,s,f,c),Za(a,s,f))}};function fp(s,a,c,f,g,y,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,y,w):a.prototype&&a.prototype.isPureReactComponent?!oo(c,f)||!oo(g,y):!0}function pp(s,a,c){var f=!1,g=Di,y=a.contextType;return typeof y=="object"&&y!==null?y=dn(y):(g=Ft(a)?ur:Tt.current,f=a.contextTypes,y=(f=f!=null)?os(s,g):Di),a=new a(c,y),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=al,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=y),a}function gp(s,a,c,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==s&&al.enqueueReplaceState(a,a.state,null)}function Cc(s,a,c,f){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},pc(s);var y=a.contextType;typeof y=="object"&&y!==null?g.context=dn(y):(y=Ft(a)?ur:Tt.current,g.context=os(s,y)),g.state=s.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Pc(s,a,y,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&al.enqueueReplaceState(g,g.state,null),el(s,c,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function ps(s,a){try{var c="",f=a;do c+=ke(f),f=f.return;while(f);var g=c}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:a,stack:g,digest:null}}function Oc(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Rc(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var p_=typeof WeakMap=="function"?WeakMap:Map;function mp(s,a,c){c=si(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){pl||(pl=!0,Hc=f),Rc(s,a)},c}function yp(s,a,c){c=si(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;c.payload=function(){return f(g)},c.callback=function(){Rc(s,a)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){Rc(s,a),typeof f!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var w=a.stack;this.componentDidCatch(a.value,{componentStack:w!==null?w:""})}),c}function vp(s,a,c){var f=s.pingCache;if(f===null){f=s.pingCache=new p_;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(c)||(g.add(c),s=C_.bind(null,s,a,c),a.then(s,s))}function _p(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function wp(s,a,c,f,g){return s.mode&1?(s.flags|=65536,s.lanes=g,s):(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=si(-1,1),a.tag=2,ji(c,a,1))),c.lanes|=1),s)}var g_=M.ReactCurrentOwner,$t=!1;function Mt(s,a,c,f){a.child=s===null?$f(a,null,c,f):cs(a,s.child,c,f)}function bp(s,a,c,f,g){c=c.render;var y=a.ref;return ds(a,g),f=bc(s,a,c,f,y,g),c=xc(),s!==null&&!$t?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,oi(s,a,g)):(Ge&&c&&rc(a),a.flags|=1,Mt(s,a,f,g),a.child)}function xp(s,a,c,f,g){if(s===null){var y=c.type;return typeof y=="function"&&!Qc(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=y,Sp(s,a,y,f,g)):(s=wl(c.type,null,f,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!(s.lanes&g)){var w=y.memoizedProps;if(c=c.compare,c=c!==null?c:oo,c(w,f)&&s.ref===a.ref)return oi(s,a,g)}return a.flags|=1,s=Wi(y,f),s.ref=a.ref,s.return=a,a.child=s}function Sp(s,a,c,f,g){if(s!==null){var y=s.memoizedProps;if(oo(y,f)&&s.ref===a.ref)if($t=!1,a.pendingProps=f=y,(s.lanes&g)!==0)s.flags&131072&&($t=!0);else return a.lanes=s.lanes,oi(s,a,g)}return Ac(s,a,c,f,g)}function kp(s,a,c){var f=a.pendingProps,g=f.children,y=s!==null?s.memoizedState:null;if(f.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(ms,tn),tn|=c;else{if(!(c&1073741824))return s=y!==null?y.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,$e(ms,tn),tn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:c,$e(ms,tn),tn|=f}else y!==null?(f=y.baseLanes|c,a.memoizedState=null):f=c,$e(ms,tn),tn|=f;return Mt(s,a,g,c),a.child}function Ep(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Ac(s,a,c,f,g){var y=Ft(c)?ur:Tt.current;return y=os(a,y),ds(a,g),c=bc(s,a,c,f,y,g),f=xc(),s!==null&&!$t?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,oi(s,a,g)):(Ge&&f&&rc(a),a.flags|=1,Mt(s,a,c,g),a.child)}function Tp(s,a,c,f,g){if(Ft(c)){var y=!0;Ha(a)}else y=!1;if(ds(a,g),a.stateNode===null)ul(s,a),pp(a,c,f),Cc(a,c,f,g),f=!0;else if(s===null){var w=a.stateNode,P=a.memoizedProps;w.props=P;var A=w.context,F=c.contextType;typeof F=="object"&&F!==null?F=dn(F):(F=Ft(c)?ur:Tt.current,F=os(a,F));var Y=c.getDerivedStateFromProps,G=typeof Y=="function"||typeof w.getSnapshotBeforeUpdate=="function";G||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==f||A!==F)&&gp(a,w,f,F),Li=!1;var q=a.memoizedState;w.state=q,el(a,f,w,g),A=a.memoizedState,P!==f||q!==A||zt.current||Li?(typeof Y=="function"&&(Pc(a,c,Y,f),A=a.memoizedState),(P=Li||fp(a,c,P,f,q,A,F))?(G||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=A),w.props=f,w.state=A,w.context=F,f=P):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{w=a.stateNode,Bf(s,a),P=a.memoizedProps,F=a.type===a.elementType?P:Sn(a.type,P),w.props=F,G=a.pendingProps,q=w.context,A=c.contextType,typeof A=="object"&&A!==null?A=dn(A):(A=Ft(c)?ur:Tt.current,A=os(a,A));var ne=c.getDerivedStateFromProps;(Y=typeof ne=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==G||q!==A)&&gp(a,w,f,A),Li=!1,q=a.memoizedState,w.state=q,el(a,f,w,g);var re=a.memoizedState;P!==G||q!==re||zt.current||Li?(typeof ne=="function"&&(Pc(a,c,ne,f),re=a.memoizedState),(F=Li||fp(a,c,F,f,q,re,A)||!1)?(Y||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,re,A),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,re,A)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||P===s.memoizedProps&&q===s.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&q===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=re),w.props=f,w.state=re,w.context=A,f=F):(typeof w.componentDidUpdate!="function"||P===s.memoizedProps&&q===s.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&q===s.memoizedState||(a.flags|=1024),f=!1)}return Mc(s,a,c,f,y,g)}function Mc(s,a,c,f,g,y){Ep(s,a);var w=(a.flags&128)!==0;if(!f&&!w)return g&&Af(a,c,!1),oi(s,a,y);f=a.stateNode,g_.current=a;var P=w&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&w?(a.child=cs(a,s.child,null,y),a.child=cs(a,null,P,y)):Mt(s,a,P,y),a.memoizedState=f.state,g&&Af(a,c,!0),a.child}function Pp(s){var a=s.stateNode;a.pendingContext?Of(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Of(s,a.context,!1),gc(s,a.containerInfo)}function Cp(s,a,c,f,g){return us(),lc(g),a.flags|=256,Mt(s,a,c,f),a.child}var Ic={dehydrated:null,treeContext:null,retryLane:0};function Dc(s){return{baseLanes:s,cachePool:null,transitions:null}}function Op(s,a,c){var f=a.pendingProps,g=Xe.current,y=!1,w=(a.flags&128)!==0,P;if((P=w)||(P=s!==null&&s.memoizedState===null?!1:(g&2)!==0),P?(y=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),$e(Xe,g&1),s===null)return ac(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(w=f.children,s=f.fallback,y?(f=a.mode,y=a.child,w={mode:"hidden",children:w},!(f&1)&&y!==null?(y.childLanes=0,y.pendingProps=w):y=bl(w,f,0,null),s=_r(s,f,c,null),y.return=a,s.return=a,y.sibling=s,a.child=y,a.child.memoizedState=Dc(c),a.memoizedState=Ic,s):Nc(a,w));if(g=s.memoizedState,g!==null&&(P=g.dehydrated,P!==null))return m_(s,a,w,f,P,g,c);if(y){y=f.fallback,w=a.mode,g=s.child,P=g.sibling;var A={mode:"hidden",children:f.children};return!(w&1)&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=A,a.deletions=null):(f=Wi(g,A),f.subtreeFlags=g.subtreeFlags&14680064),P!==null?y=Wi(P,y):(y=_r(y,w,c,null),y.flags|=2),y.return=a,f.return=a,f.sibling=y,a.child=f,f=y,y=a.child,w=s.child.memoizedState,w=w===null?Dc(c):{baseLanes:w.baseLanes|c,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=s.childLanes&~c,a.memoizedState=Ic,f}return y=s.child,s=y.sibling,f=Wi(y,{mode:"visible",children:f.children}),!(a.mode&1)&&(f.lanes=c),f.return=a,f.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=f,a.memoizedState=null,f}function Nc(s,a){return a=bl({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function ll(s,a,c,f){return f!==null&&lc(f),cs(a,s.child,null,c),s=Nc(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function m_(s,a,c,f,g,y,w){if(c)return a.flags&256?(a.flags&=-257,f=Oc(Error(t(422))),ll(s,a,w,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(y=f.fallback,g=a.mode,f=bl({mode:"visible",children:f.children},g,0,null),y=_r(y,g,w,null),y.flags|=2,f.return=a,y.return=a,f.sibling=y,a.child=f,a.mode&1&&cs(a,s.child,null,w),a.child.memoizedState=Dc(w),a.memoizedState=Ic,y);if(!(a.mode&1))return ll(s,a,w,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var P=f.dgst;return f=P,y=Error(t(419)),f=Oc(y,f,void 0),ll(s,a,w,f)}if(P=(w&s.childLanes)!==0,$t||P){if(f=yt,f!==null){switch(w&-w){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(f.suspendedLanes|w)?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,ri(s,g),Tn(f,s,g,-1))}return Jc(),f=Oc(Error(t(421))),ll(s,a,w,f)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=O_.bind(null,s),g._reactRetry=a,null):(s=y.treeContext,en=Mi(g.nextSibling),Zt=a,Ge=!0,xn=null,s!==null&&(cn[hn++]=ni,cn[hn++]=ii,cn[hn++]=cr,ni=s.id,ii=s.overflow,cr=a),a=Nc(a,f.children),a.flags|=4096,a)}function Rp(s,a,c){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),dc(s.return,a,c)}function Lc(s,a,c,f,g){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=c,y.tailMode=g)}function Ap(s,a,c){var f=a.pendingProps,g=f.revealOrder,y=f.tail;if(Mt(s,a,f.children,c),f=Xe.current,f&2)f=f&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Rp(s,c,a);else if(s.tag===19)Rp(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if($e(Xe,f),!(a.mode&1))a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&tl(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Lc(a,!1,g,c,y);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&tl(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Lc(a,!0,c,null,y);break;case"together":Lc(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ul(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function oi(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),gr|=a.lanes,!(c&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=Wi(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Wi(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function y_(s,a,c){switch(a.tag){case 3:Pp(a),us();break;case 5:Hf(a);break;case 1:Ft(a.type)&&Ha(a);break;case 4:gc(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;$e(Ja,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?($e(Xe,Xe.current&1),a.flags|=128,null):c&a.child.childLanes?Op(s,a,c):($e(Xe,Xe.current&1),s=oi(s,a,c),s!==null?s.sibling:null);$e(Xe,Xe.current&1);break;case 19:if(f=(c&a.childLanes)!==0,s.flags&128){if(f)return Ap(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),$e(Xe,Xe.current),f)break;return null;case 22:case 23:return a.lanes=0,kp(s,a,c)}return oi(s,a,c)}var Mp,jc,Ip,Dp;Mp=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},jc=function(){},Ip=function(s,a,c,f){var g=s.memoizedProps;if(g!==f){s=a.stateNode,fr($n.current);var y=null;switch(c){case"input":g=vn(s,g),f=vn(s,f),y=[];break;case"select":g=J({},g,{value:void 0}),f=J({},f,{value:void 0}),y=[];break;case"textarea":g=Fs(s,g),f=Fs(s,f),y=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Ba)}Bs(c,f);var w;c=null;for(F in g)if(!f.hasOwnProperty(F)&&g.hasOwnProperty(F)&&g[F]!=null)if(F==="style"){var P=g[F];for(w in P)P.hasOwnProperty(w)&&(c||(c={}),c[w]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(r.hasOwnProperty(F)?y||(y=[]):(y=y||[]).push(F,null));for(F in f){var A=f[F];if(P=g!=null?g[F]:void 0,f.hasOwnProperty(F)&&A!==P&&(A!=null||P!=null))if(F==="style")if(P){for(w in P)!P.hasOwnProperty(w)||A&&A.hasOwnProperty(w)||(c||(c={}),c[w]="");for(w in A)A.hasOwnProperty(w)&&P[w]!==A[w]&&(c||(c={}),c[w]=A[w])}else c||(y||(y=[]),y.push(F,c)),c=A;else F==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,P=P?P.__html:void 0,A!=null&&P!==A&&(y=y||[]).push(F,A)):F==="children"?typeof A!="string"&&typeof A!="number"||(y=y||[]).push(F,""+A):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(r.hasOwnProperty(F)?(A!=null&&F==="onScroll"&&Be("scroll",s),y||P===A||(y=[])):(y=y||[]).push(F,A))}c&&(y=y||[]).push("style",c);var F=y;(a.updateQueue=F)&&(a.flags|=4)}},Dp=function(s,a,c,f){c!==f&&(a.flags|=4)};function xo(s,a){if(!Ge)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Ct(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=c,a}function v_(s,a,c){var f=a.pendingProps;switch(sc(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(a),null;case 1:return Ft(a.type)&&Va(),Ct(a),null;case 3:return f=a.stateNode,fs(),We(zt),We(Tt),vc(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Ga(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,xn!==null&&(Yc(xn),xn=null))),jc(s,a),Ct(a),null;case 5:mc(a);var g=fr(yo.current);if(c=a.type,s!==null&&a.stateNode!=null)Ip(s,a,c,f,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return Ct(a),null}if(s=fr($n.current),Ga(a)){f=a.stateNode,c=a.type;var y=a.memoizedProps;switch(f[Fn]=a,f[ho]=y,s=(a.mode&1)!==0,c){case"dialog":Be("cancel",f),Be("close",f);break;case"iframe":case"object":case"embed":Be("load",f);break;case"video":case"audio":for(g=0;g<lo.length;g++)Be(lo[g],f);break;case"source":Be("error",f);break;case"img":case"image":case"link":Be("error",f),Be("load",f);break;case"details":Be("toggle",f);break;case"input":yi(f,y),Be("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},Be("invalid",f);break;case"textarea":ma(f,y),Be("invalid",f)}Bs(c,y),g=null;for(var w in y)if(y.hasOwnProperty(w)){var P=y[w];w==="children"?typeof P=="string"?f.textContent!==P&&(y.suppressHydrationWarning!==!0&&Ua(f.textContent,P,s),g=["children",P]):typeof P=="number"&&f.textContent!==""+P&&(y.suppressHydrationWarning!==!0&&Ua(f.textContent,P,s),g=["children",""+P]):r.hasOwnProperty(w)&&P!=null&&w==="onScroll"&&Be("scroll",f)}switch(c){case"input":Dt(f),zs(f,y,!0);break;case"textarea":Dt(f),va(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=Ba)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{w=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=_a(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=w.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=w.createElement(c,{is:f.is}):(s=w.createElement(c),c==="select"&&(w=s,f.multiple?w.multiple=!0:f.size&&(w.size=f.size))):s=w.createElementNS(s,c),s[Fn]=a,s[ho]=f,Mp(s,a,!1,!1),a.stateNode=s;e:{switch(w=Ws(c,f),c){case"dialog":Be("cancel",s),Be("close",s),g=f;break;case"iframe":case"object":case"embed":Be("load",s),g=f;break;case"video":case"audio":for(g=0;g<lo.length;g++)Be(lo[g],s);g=f;break;case"source":Be("error",s),g=f;break;case"img":case"image":case"link":Be("error",s),Be("load",s),g=f;break;case"details":Be("toggle",s),g=f;break;case"input":yi(s,f),g=vn(s,f),Be("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=J({},f,{value:void 0}),Be("invalid",s);break;case"textarea":ma(s,f),g=Fs(s,f),Be("invalid",s);break;default:g=f}Bs(c,g),P=g;for(y in P)if(P.hasOwnProperty(y)){var A=P[y];y==="style"?ba(s,A):y==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&$s(s,A)):y==="children"?typeof A=="string"?(c!=="textarea"||A!=="")&&vi(s,A):typeof A=="number"&&vi(s,""+A):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(r.hasOwnProperty(y)?A!=null&&y==="onScroll"&&Be("scroll",s):A!=null&&O(s,y,A,w))}switch(c){case"input":Dt(s),zs(s,f,!1);break;case"textarea":Dt(s),va(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Ce(f.value));break;case"select":s.multiple=!!f.multiple,y=f.value,y!=null?ht(s,!!f.multiple,y,!1):f.defaultValue!=null&&ht(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Ba)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Ct(a),null;case 6:if(s&&a.stateNode!=null)Dp(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(c=fr(yo.current),fr($n.current),Ga(a)){if(f=a.stateNode,c=a.memoizedProps,f[Fn]=a,(y=f.nodeValue!==c)&&(s=Zt,s!==null))switch(s.tag){case 3:Ua(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ua(f.nodeValue,c,(s.mode&1)!==0)}y&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Fn]=a,a.stateNode=f}return Ct(a),null;case 13:if(We(Xe),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ge&&en!==null&&a.mode&1&&!(a.flags&128))jf(),us(),a.flags|=98560,y=!1;else if(y=Ga(a),f!==null&&f.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Fn]=a}else us(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Ct(a),y=!1}else xn!==null&&(Yc(xn),xn=null),y=!0;if(!y)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,a.mode&1&&(s===null||Xe.current&1?pt===0&&(pt=3):Jc())),a.updateQueue!==null&&(a.flags|=4),Ct(a),null);case 4:return fs(),jc(s,a),s===null&&uo(a.stateNode.containerInfo),Ct(a),null;case 10:return hc(a.type._context),Ct(a),null;case 17:return Ft(a.type)&&Va(),Ct(a),null;case 19:if(We(Xe),y=a.memoizedState,y===null)return Ct(a),null;if(f=(a.flags&128)!==0,w=y.rendering,w===null)if(f)xo(y,!1);else{if(pt!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(w=tl(s),w!==null){for(a.flags|=128,xo(y,!1),f=w.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)y=c,s=f,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,s=w.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return $e(Xe,Xe.current&1|2),a.child}s=s.sibling}y.tail!==null&&Fe()>ys&&(a.flags|=128,f=!0,xo(y,!1),a.lanes=4194304)}else{if(!f)if(s=tl(w),s!==null){if(a.flags|=128,f=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),xo(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Ge)return Ct(a),null}else 2*Fe()-y.renderingStartTime>ys&&c!==1073741824&&(a.flags|=128,f=!0,xo(y,!1),a.lanes=4194304);y.isBackwards?(w.sibling=a.child,a.child=w):(c=y.last,c!==null?c.sibling=w:a.child=w,y.last=w)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=Fe(),a.sibling=null,c=Xe.current,$e(Xe,f?c&1|2:c&1),a):(Ct(a),null);case 22:case 23:return Xc(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&a.mode&1?tn&1073741824&&(Ct(a),a.subtreeFlags&6&&(a.flags|=8192)):Ct(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function __(s,a){switch(sc(a),a.tag){case 1:return Ft(a.type)&&Va(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return fs(),We(zt),We(Tt),vc(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return mc(a),null;case 13:if(We(Xe),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));us()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return We(Xe),null;case 4:return fs(),null;case 10:return hc(a.type._context),null;case 22:case 23:return Xc(),null;case 24:return null;default:return null}}var cl=!1,Ot=!1,w_=typeof WeakSet=="function"?WeakSet:Set,ie=null;function gs(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){et(s,a,f)}else c.current=null}function zc(s,a,c){try{c()}catch(f){et(s,a,f)}}var Np=!1;function b_(s,a){if(Xu=Ra,s=ff(),Bu(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var w=0,P=-1,A=-1,F=0,Y=0,G=s,q=null;t:for(;;){for(var ne;G!==c||g!==0&&G.nodeType!==3||(P=w+g),G!==y||f!==0&&G.nodeType!==3||(A=w+f),G.nodeType===3&&(w+=G.nodeValue.length),(ne=G.firstChild)!==null;)q=G,G=ne;for(;;){if(G===s)break t;if(q===c&&++F===g&&(P=w),q===y&&++Y===f&&(A=w),(ne=G.nextSibling)!==null)break;G=q,q=G.parentNode}G=ne}c=P===-1||A===-1?null:{start:P,end:A}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ju={focusedElem:s,selectionRange:c},Ra=!1,ie=a;ie!==null;)if(a=ie,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ie=s;else for(;ie!==null;){a=ie;try{var re=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var se=re.memoizedProps,st=re.memoizedState,L=a.stateNode,I=L.getSnapshotBeforeUpdate(a.elementType===a.type?se:Sn(a.type,se),st);L.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var j=a.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Q){et(a,a.return,Q)}if(s=a.sibling,s!==null){s.return=a.return,ie=s;break}ie=a.return}return re=Np,Np=!1,re}function So(s,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var y=g.destroy;g.destroy=void 0,y!==void 0&&zc(a,c,y)}g=g.next}while(g!==f)}}function hl(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function Fc(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function Lp(s){var a=s.alternate;a!==null&&(s.alternate=null,Lp(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Fn],delete a[ho],delete a[tc],delete a[i_],delete a[r_])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function jp(s){return s.tag===5||s.tag===3||s.tag===4}function zp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||jp(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function $c(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Ba));else if(f!==4&&(s=s.child,s!==null))for($c(s,a,c),s=s.sibling;s!==null;)$c(s,a,c),s=s.sibling}function Uc(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Uc(s,a,c),s=s.sibling;s!==null;)Uc(s,a,c),s=s.sibling}var wt=null,kn=!1;function zi(s,a,c){for(c=c.child;c!==null;)Fp(s,a,c),c=c.sibling}function Fp(s,a,c){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(jt,c)}catch{}switch(c.tag){case 5:Ot||gs(c,a);case 6:var f=wt,g=kn;wt=null,zi(s,a,c),wt=f,kn=g,wt!==null&&(kn?(s=wt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):wt.removeChild(c.stateNode));break;case 18:wt!==null&&(kn?(s=wt,c=c.stateNode,s.nodeType===8?ec(s.parentNode,c):s.nodeType===1&&ec(s,c),eo(s)):ec(wt,c.stateNode));break;case 4:f=wt,g=kn,wt=c.stateNode.containerInfo,kn=!0,zi(s,a,c),wt=f,kn=g;break;case 0:case 11:case 14:case 15:if(!Ot&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var y=g,w=y.destroy;y=y.tag,w!==void 0&&(y&2||y&4)&&zc(c,a,w),g=g.next}while(g!==f)}zi(s,a,c);break;case 1:if(!Ot&&(gs(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(P){et(c,a,P)}zi(s,a,c);break;case 21:zi(s,a,c);break;case 22:c.mode&1?(Ot=(f=Ot)||c.memoizedState!==null,zi(s,a,c),Ot=f):zi(s,a,c);break;default:zi(s,a,c)}}function $p(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new w_),a.forEach(function(f){var g=R_.bind(null,s,f);c.has(f)||(c.add(f),f.then(g,g))})}}function En(s,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var y=s,w=a,P=w;e:for(;P!==null;){switch(P.tag){case 5:wt=P.stateNode,kn=!1;break e;case 3:wt=P.stateNode.containerInfo,kn=!0;break e;case 4:wt=P.stateNode.containerInfo,kn=!0;break e}P=P.return}if(wt===null)throw Error(t(160));Fp(y,w,g),wt=null,kn=!1;var A=g.alternate;A!==null&&(A.return=null),g.return=null}catch(F){et(g,a,F)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Up(a,s),a=a.sibling}function Up(s,a){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(En(a,s),Bn(s),f&4){try{So(3,s,s.return),hl(3,s)}catch(se){et(s,s.return,se)}try{So(5,s,s.return)}catch(se){et(s,s.return,se)}}break;case 1:En(a,s),Bn(s),f&512&&c!==null&&gs(c,c.return);break;case 5:if(En(a,s),Bn(s),f&512&&c!==null&&gs(c,c.return),s.flags&32){var g=s.stateNode;try{vi(g,"")}catch(se){et(s,s.return,se)}}if(f&4&&(g=s.stateNode,g!=null)){var y=s.memoizedProps,w=c!==null?c.memoizedProps:y,P=s.type,A=s.updateQueue;if(s.updateQueue=null,A!==null)try{P==="input"&&y.type==="radio"&&y.name!=null&&Yt(g,y),Ws(P,w);var F=Ws(P,y);for(w=0;w<A.length;w+=2){var Y=A[w],G=A[w+1];Y==="style"?ba(g,G):Y==="dangerouslySetInnerHTML"?$s(g,G):Y==="children"?vi(g,G):O(g,Y,G,F)}switch(P){case"input":_n(g,y);break;case"textarea":ya(g,y);break;case"select":var q=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var ne=y.value;ne!=null?ht(g,!!y.multiple,ne,!1):q!==!!y.multiple&&(y.defaultValue!=null?ht(g,!!y.multiple,y.defaultValue,!0):ht(g,!!y.multiple,y.multiple?[]:"",!1))}g[ho]=y}catch(se){et(s,s.return,se)}}break;case 6:if(En(a,s),Bn(s),f&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,y=s.memoizedProps;try{g.nodeValue=y}catch(se){et(s,s.return,se)}}break;case 3:if(En(a,s),Bn(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{eo(a.containerInfo)}catch(se){et(s,s.return,se)}break;case 4:En(a,s),Bn(s);break;case 13:En(a,s),Bn(s),g=s.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||(Vc=Fe())),f&4&&$p(s);break;case 22:if(Y=c!==null&&c.memoizedState!==null,s.mode&1?(Ot=(F=Ot)||Y,En(a,s),Ot=F):En(a,s),Bn(s),f&8192){if(F=s.memoizedState!==null,(s.stateNode.isHidden=F)&&!Y&&s.mode&1)for(ie=s,Y=s.child;Y!==null;){for(G=ie=Y;ie!==null;){switch(q=ie,ne=q.child,q.tag){case 0:case 11:case 14:case 15:So(4,q,q.return);break;case 1:gs(q,q.return);var re=q.stateNode;if(typeof re.componentWillUnmount=="function"){f=q,c=q.return;try{a=f,re.props=a.memoizedProps,re.state=a.memoizedState,re.componentWillUnmount()}catch(se){et(f,c,se)}}break;case 5:gs(q,q.return);break;case 22:if(q.memoizedState!==null){Vp(G);continue}}ne!==null?(ne.return=q,ie=ne):Vp(G)}Y=Y.sibling}e:for(Y=null,G=s;;){if(G.tag===5){if(Y===null){Y=G;try{g=G.stateNode,F?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(P=G.stateNode,A=G.memoizedProps.style,w=A!=null&&A.hasOwnProperty("display")?A.display:null,P.style.display=wa("display",w))}catch(se){et(s,s.return,se)}}}else if(G.tag===6){if(Y===null)try{G.stateNode.nodeValue=F?"":G.memoizedProps}catch(se){et(s,s.return,se)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===s)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===s)break e;for(;G.sibling===null;){if(G.return===null||G.return===s)break e;Y===G&&(Y=null),G=G.return}Y===G&&(Y=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:En(a,s),Bn(s),f&4&&$p(s);break;case 21:break;default:En(a,s),Bn(s)}}function Bn(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(jp(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(vi(g,""),f.flags&=-33);var y=zp(s);Uc(s,y,g);break;case 3:case 4:var w=f.stateNode.containerInfo,P=zp(s);$c(s,P,w);break;default:throw Error(t(161))}}catch(A){et(s,s.return,A)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function x_(s,a,c){ie=s,Bp(s)}function Bp(s,a,c){for(var f=(s.mode&1)!==0;ie!==null;){var g=ie,y=g.child;if(g.tag===22&&f){var w=g.memoizedState!==null||cl;if(!w){var P=g.alternate,A=P!==null&&P.memoizedState!==null||Ot;P=cl;var F=Ot;if(cl=w,(Ot=A)&&!F)for(ie=g;ie!==null;)w=ie,A=w.child,w.tag===22&&w.memoizedState!==null?Hp(g):A!==null?(A.return=w,ie=A):Hp(g);for(;y!==null;)ie=y,Bp(y),y=y.sibling;ie=g,cl=P,Ot=F}Wp(s)}else g.subtreeFlags&8772&&y!==null?(y.return=g,ie=y):Wp(s)}}function Wp(s){for(;ie!==null;){var a=ie;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Ot||hl(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!Ot)if(c===null)f.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:Sn(a.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=a.updateQueue;y!==null&&Vf(a,y,f);break;case 3:var w=a.updateQueue;if(w!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}Vf(a,w,c)}break;case 5:var P=a.stateNode;if(c===null&&a.flags&4){c=P;var A=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&c.focus();break;case"img":A.src&&(c.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var F=a.alternate;if(F!==null){var Y=F.memoizedState;if(Y!==null){var G=Y.dehydrated;G!==null&&eo(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ot||a.flags&512&&Fc(a)}catch(q){et(a,a.return,q)}}if(a===s){ie=null;break}if(c=a.sibling,c!==null){c.return=a.return,ie=c;break}ie=a.return}}function Vp(s){for(;ie!==null;){var a=ie;if(a===s){ie=null;break}var c=a.sibling;if(c!==null){c.return=a.return,ie=c;break}ie=a.return}}function Hp(s){for(;ie!==null;){var a=ie;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{hl(4,a)}catch(A){et(a,c,A)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch(A){et(a,g,A)}}var y=a.return;try{Fc(a)}catch(A){et(a,y,A)}break;case 5:var w=a.return;try{Fc(a)}catch(A){et(a,w,A)}}}catch(A){et(a,a.return,A)}if(a===s){ie=null;break}var P=a.sibling;if(P!==null){P.return=a.return,ie=P;break}ie=a.return}}var S_=Math.ceil,dl=M.ReactCurrentDispatcher,Bc=M.ReactCurrentOwner,pn=M.ReactCurrentBatchConfig,De=0,yt=null,lt=null,bt=0,tn=0,ms=Ii(0),pt=0,ko=null,gr=0,fl=0,Wc=0,Eo=null,Ut=null,Vc=0,ys=1/0,ai=null,pl=!1,Hc=null,Fi=null,gl=!1,$i=null,ml=0,To=0,qc=null,yl=-1,vl=0;function It(){return De&6?Fe():yl!==-1?yl:yl=Fe()}function Ui(s){return s.mode&1?De&2&&bt!==0?bt&-bt:o_.transition!==null?(vl===0&&(vl=Gr()),vl):(s=k,s!==0||(s=window.event,s=s===void 0?16:qd(s.type)),s):1}function Tn(s,a,c,f){if(50<To)throw To=0,qc=null,Error(t(185));ar(s,c,f),(!(De&2)||s!==yt)&&(s===yt&&(!(De&2)&&(fl|=c),pt===4&&Bi(s,bt)),Bt(s,f),c===1&&De===0&&!(a.mode&1)&&(ys=Fe()+500,qa&&Ni()))}function Bt(s,a){var c=s.callbackNode;Ou(s,a);var f=Zn(s,s===yt?bt:0);if(f===0)c!==null&&qr(c),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(c!=null&&qr(c),a===1)s.tag===0?s_(Kp.bind(null,s)):Mf(Kp.bind(null,s)),t_(function(){!(De&6)&&Ni()}),c=null;else{switch(R(f)){case 1:c=jn;break;case 4:c=wn;break;case 16:c=Lt;break;case 536870912:c=Gt;break;default:c=Lt}c=tg(c,qp.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function qp(s,a){if(yl=-1,vl=0,De&6)throw Error(t(327));var c=s.callbackNode;if(vs()&&s.callbackNode!==c)return null;var f=Zn(s,s===yt?bt:0);if(f===0)return null;if(f&30||f&s.expiredLanes||a)a=_l(s,f);else{a=f;var g=De;De|=2;var y=Gp();(yt!==s||bt!==a)&&(ai=null,ys=Fe()+500,yr(s,a));do try{T_();break}catch(P){Yp(s,P)}while(!0);cc(),dl.current=y,De=g,lt!==null?a=0:(yt=null,bt=0,a=pt)}if(a!==0){if(a===2&&(g=Yr(s),g!==0&&(f=g,a=Kc(s,g))),a===1)throw c=ko,yr(s,0),Bi(s,f),Bt(s,Fe()),c;if(a===6)Bi(s,f);else{if(g=s.current.alternate,!(f&30)&&!k_(g)&&(a=_l(s,f),a===2&&(y=Yr(s),y!==0&&(f=y,a=Kc(s,y))),a===1))throw c=ko,yr(s,0),Bi(s,f),Bt(s,Fe()),c;switch(s.finishedWork=g,s.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:vr(s,Ut,ai);break;case 3:if(Bi(s,f),(f&130023424)===f&&(a=Vc+500-Fe(),10<a)){if(Zn(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){It(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Zu(vr.bind(null,s,Ut,ai),a);break}vr(s,Ut,ai);break;case 4:if(Bi(s,f),(f&4194240)===f)break;for(a=s.eventTimes,g=-1;0<f;){var w=31-Et(f);y=1<<w,w=a[w],w>g&&(g=w),f&=~y}if(f=g,f=Fe()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*S_(f/1960))-f,10<f){s.timeoutHandle=Zu(vr.bind(null,s,Ut,ai),f);break}vr(s,Ut,ai);break;case 5:vr(s,Ut,ai);break;default:throw Error(t(329))}}}return Bt(s,Fe()),s.callbackNode===c?qp.bind(null,s):null}function Kc(s,a){var c=Eo;return s.current.memoizedState.isDehydrated&&(yr(s,a).flags|=256),s=_l(s,a),s!==2&&(a=Ut,Ut=c,a!==null&&Yc(a)),s}function Yc(s){Ut===null?Ut=s:Ut.push.apply(Ut,s)}function k_(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],y=g.getSnapshot;g=g.value;try{if(!bn(y(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Bi(s,a){for(a&=~Wc,a&=~fl,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-Et(a),f=1<<c;s[c]=-1,a&=~f}}function Kp(s){if(De&6)throw Error(t(327));vs();var a=Zn(s,0);if(!(a&1))return Bt(s,Fe()),null;var c=_l(s,a);if(s.tag!==0&&c===2){var f=Yr(s);f!==0&&(a=f,c=Kc(s,f))}if(c===1)throw c=ko,yr(s,0),Bi(s,a),Bt(s,Fe()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,vr(s,Ut,ai),Bt(s,Fe()),null}function Gc(s,a){var c=De;De|=1;try{return s(a)}finally{De=c,De===0&&(ys=Fe()+500,qa&&Ni())}}function mr(s){$i!==null&&$i.tag===0&&!(De&6)&&vs();var a=De;De|=1;var c=pn.transition,f=k;try{if(pn.transition=null,k=1,s)return s()}finally{k=f,pn.transition=c,De=a,!(De&6)&&Ni()}}function Xc(){tn=ms.current,We(ms)}function yr(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,e_(c)),lt!==null)for(c=lt.return;c!==null;){var f=c;switch(sc(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Va();break;case 3:fs(),We(zt),We(Tt),vc();break;case 5:mc(f);break;case 4:fs();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:hc(f.type._context);break;case 22:case 23:Xc()}c=c.return}if(yt=s,lt=s=Wi(s.current,null),bt=tn=a,pt=0,ko=null,Wc=fl=gr=0,Ut=Eo=null,dr!==null){for(a=0;a<dr.length;a++)if(c=dr[a],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,y=c.pending;if(y!==null){var w=y.next;y.next=g,f.next=w}c.pending=f}dr=null}return s}function Yp(s,a){do{var c=lt;try{if(cc(),nl.current=ol,il){for(var f=Je.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}il=!1}if(pr=0,mt=ft=Je=null,vo=!1,_o=0,Bc.current=null,c===null||c.return===null){pt=1,ko=a,lt=null;break}e:{var y=s,w=c.return,P=c,A=a;if(a=bt,P.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var F=A,Y=P,G=Y.tag;if(!(Y.mode&1)&&(G===0||G===11||G===15)){var q=Y.alternate;q?(Y.updateQueue=q.updateQueue,Y.memoizedState=q.memoizedState,Y.lanes=q.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ne=_p(w);if(ne!==null){ne.flags&=-257,wp(ne,w,P,y,a),ne.mode&1&&vp(y,F,a),a=ne,A=F;var re=a.updateQueue;if(re===null){var se=new Set;se.add(A),a.updateQueue=se}else re.add(A);break e}else{if(!(a&1)){vp(y,F,a),Jc();break e}A=Error(t(426))}}else if(Ge&&P.mode&1){var st=_p(w);if(st!==null){!(st.flags&65536)&&(st.flags|=256),wp(st,w,P,y,a),lc(ps(A,P));break e}}y=A=ps(A,P),pt!==4&&(pt=2),Eo===null?Eo=[y]:Eo.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,a&=-a,y.lanes|=a;var L=mp(y,A,a);Wf(y,L);break e;case 1:P=A;var I=y.type,j=y.stateNode;if(!(y.flags&128)&&(typeof I.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Fi===null||!Fi.has(j)))){y.flags|=65536,a&=-a,y.lanes|=a;var Q=yp(y,P,a);Wf(y,Q);break e}}y=y.return}while(y!==null)}Jp(c)}catch(ae){a=ae,lt===c&&c!==null&&(lt=c=c.return);continue}break}while(!0)}function Gp(){var s=dl.current;return dl.current=ol,s===null?ol:s}function Jc(){(pt===0||pt===3||pt===2)&&(pt=4),yt===null||!(gr&268435455)&&!(fl&268435455)||Bi(yt,bt)}function _l(s,a){var c=De;De|=2;var f=Gp();(yt!==s||bt!==a)&&(ai=null,yr(s,a));do try{E_();break}catch(g){Yp(s,g)}while(!0);if(cc(),De=c,dl.current=f,lt!==null)throw Error(t(261));return yt=null,bt=0,pt}function E_(){for(;lt!==null;)Xp(lt)}function T_(){for(;lt!==null&&!Pu();)Xp(lt)}function Xp(s){var a=eg(s.alternate,s,tn);s.memoizedProps=s.pendingProps,a===null?Jp(s):lt=a,Bc.current=null}function Jp(s){var a=s;do{var c=a.alternate;if(s=a.return,a.flags&32768){if(c=__(c,a),c!==null){c.flags&=32767,lt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{pt=6,lt=null;return}}else if(c=v_(c,a,tn),c!==null){lt=c;return}if(a=a.sibling,a!==null){lt=a;return}lt=a=s}while(a!==null);pt===0&&(pt=5)}function vr(s,a,c){var f=k,g=pn.transition;try{pn.transition=null,k=1,P_(s,a,c,f)}finally{pn.transition=g,k=f}return null}function P_(s,a,c,f){do vs();while($i!==null);if(De&6)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=c.lanes|c.childLanes;if(Ru(s,y),s===yt&&(lt=yt=null,bt=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||gl||(gl=!0,tg(Lt,function(){return vs(),null})),y=(c.flags&15990)!==0,c.subtreeFlags&15990||y){y=pn.transition,pn.transition=null;var w=k;k=1;var P=De;De|=4,Bc.current=null,b_(s,c),Up(c,s),K0(Ju),Ra=!!Xu,Ju=Xu=null,s.current=c,x_(c),Cu(),De=P,k=w,pn.transition=y}else s.current=c;if(gl&&(gl=!1,$i=s,ml=g),y=s.pendingLanes,y===0&&(Fi=null),Ca(c.stateNode),Bt(s,Fe()),a!==null)for(f=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(pl)throw pl=!1,s=Hc,Hc=null,s;return ml&1&&s.tag!==0&&vs(),y=s.pendingLanes,y&1?s===qc?To++:(To=0,qc=s):To=0,Ni(),null}function vs(){if($i!==null){var s=R(ml),a=pn.transition,c=k;try{if(pn.transition=null,k=16>s?16:s,$i===null)var f=!1;else{if(s=$i,$i=null,ml=0,De&6)throw Error(t(331));var g=De;for(De|=4,ie=s.current;ie!==null;){var y=ie,w=y.child;if(ie.flags&16){var P=y.deletions;if(P!==null){for(var A=0;A<P.length;A++){var F=P[A];for(ie=F;ie!==null;){var Y=ie;switch(Y.tag){case 0:case 11:case 15:So(8,Y,y)}var G=Y.child;if(G!==null)G.return=Y,ie=G;else for(;ie!==null;){Y=ie;var q=Y.sibling,ne=Y.return;if(Lp(Y),Y===F){ie=null;break}if(q!==null){q.return=ne,ie=q;break}ie=ne}}}var re=y.alternate;if(re!==null){var se=re.child;if(se!==null){re.child=null;do{var st=se.sibling;se.sibling=null,se=st}while(se!==null)}}ie=y}}if(y.subtreeFlags&2064&&w!==null)w.return=y,ie=w;else e:for(;ie!==null;){if(y=ie,y.flags&2048)switch(y.tag){case 0:case 11:case 15:So(9,y,y.return)}var L=y.sibling;if(L!==null){L.return=y.return,ie=L;break e}ie=y.return}}var I=s.current;for(ie=I;ie!==null;){w=ie;var j=w.child;if(w.subtreeFlags&2064&&j!==null)j.return=w,ie=j;else e:for(w=I;ie!==null;){if(P=ie,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:hl(9,P)}}catch(ae){et(P,P.return,ae)}if(P===w){ie=null;break e}var Q=P.sibling;if(Q!==null){Q.return=P.return,ie=Q;break e}ie=P.return}}if(De=g,Ni(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(jt,s)}catch{}f=!0}return f}finally{k=c,pn.transition=a}}return!1}function Qp(s,a,c){a=ps(c,a),a=mp(s,a,1),s=ji(s,a,1),a=It(),s!==null&&(ar(s,1,a),Bt(s,a))}function et(s,a,c){if(s.tag===3)Qp(s,s,c);else for(;a!==null;){if(a.tag===3){Qp(a,s,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Fi===null||!Fi.has(f))){s=ps(c,s),s=yp(a,s,1),a=ji(a,s,1),s=It(),a!==null&&(ar(a,1,s),Bt(a,s));break}}a=a.return}}function C_(s,a,c){var f=s.pingCache;f!==null&&f.delete(a),a=It(),s.pingedLanes|=s.suspendedLanes&c,yt===s&&(bt&c)===c&&(pt===4||pt===3&&(bt&130023424)===bt&&500>Fe()-Vc?yr(s,0):Wc|=c),Bt(s,a)}function Zp(s,a){a===0&&(s.mode&1?(a=Ti,Ti<<=1,!(Ti&130023424)&&(Ti=4194304)):a=1);var c=It();s=ri(s,a),s!==null&&(ar(s,a,c),Bt(s,c))}function O_(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),Zp(s,c)}function R_(s,a){var c=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),Zp(s,c)}var eg;eg=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||zt.current)$t=!0;else{if(!(s.lanes&c)&&!(a.flags&128))return $t=!1,y_(s,a,c);$t=!!(s.flags&131072)}else $t=!1,Ge&&a.flags&1048576&&If(a,Ya,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;ul(s,a),s=a.pendingProps;var g=os(a,Tt.current);ds(a,c),g=bc(null,a,f,s,g,c);var y=xc();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Ft(f)?(y=!0,Ha(a)):y=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,pc(a),g.updater=al,a.stateNode=g,g._reactInternals=a,Cc(a,f,s,c),a=Mc(null,a,f,!0,y,c)):(a.tag=0,Ge&&y&&rc(a),Mt(null,a,g,c),a=a.child),a;case 16:f=a.elementType;e:{switch(ul(s,a),s=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=M_(f),s=Sn(f,s),g){case 0:a=Ac(null,a,f,s,c);break e;case 1:a=Tp(null,a,f,s,c);break e;case 11:a=bp(null,a,f,s,c);break e;case 14:a=xp(null,a,f,Sn(f.type,s),c);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Sn(f,g),Ac(s,a,f,g,c);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Sn(f,g),Tp(s,a,f,g,c);case 3:e:{if(Pp(a),s===null)throw Error(t(387));f=a.pendingProps,y=a.memoizedState,g=y.element,Bf(s,a),el(a,f,null,c);var w=a.memoizedState;if(f=w.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){g=ps(Error(t(423)),a),a=Cp(s,a,f,c,g);break e}else if(f!==g){g=ps(Error(t(424)),a),a=Cp(s,a,f,c,g);break e}else for(en=Mi(a.stateNode.containerInfo.firstChild),Zt=a,Ge=!0,xn=null,c=$f(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(us(),f===g){a=oi(s,a,c);break e}Mt(s,a,f,c)}a=a.child}return a;case 5:return Hf(a),s===null&&ac(a),f=a.type,g=a.pendingProps,y=s!==null?s.memoizedProps:null,w=g.children,Qu(f,g)?w=null:y!==null&&Qu(f,y)&&(a.flags|=32),Ep(s,a),Mt(s,a,w,c),a.child;case 6:return s===null&&ac(a),null;case 13:return Op(s,a,c);case 4:return gc(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=cs(a,null,f,c):Mt(s,a,f,c),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Sn(f,g),bp(s,a,f,g,c);case 7:return Mt(s,a,a.pendingProps,c),a.child;case 8:return Mt(s,a,a.pendingProps.children,c),a.child;case 12:return Mt(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,y=a.memoizedProps,w=g.value,$e(Ja,f._currentValue),f._currentValue=w,y!==null)if(bn(y.value,w)){if(y.children===g.children&&!zt.current){a=oi(s,a,c);break e}}else for(y=a.child,y!==null&&(y.return=a);y!==null;){var P=y.dependencies;if(P!==null){w=y.child;for(var A=P.firstContext;A!==null;){if(A.context===f){if(y.tag===1){A=si(-1,c&-c),A.tag=2;var F=y.updateQueue;if(F!==null){F=F.shared;var Y=F.pending;Y===null?A.next=A:(A.next=Y.next,Y.next=A),F.pending=A}}y.lanes|=c,A=y.alternate,A!==null&&(A.lanes|=c),dc(y.return,c,a),P.lanes|=c;break}A=A.next}}else if(y.tag===10)w=y.type===a.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(t(341));w.lanes|=c,P=w.alternate,P!==null&&(P.lanes|=c),dc(w,c,a),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===a){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}Mt(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,ds(a,c),g=dn(g),f=f(g),a.flags|=1,Mt(s,a,f,c),a.child;case 14:return f=a.type,g=Sn(f,a.pendingProps),g=Sn(f.type,g),xp(s,a,f,g,c);case 15:return Sp(s,a,a.type,a.pendingProps,c);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Sn(f,g),ul(s,a),a.tag=1,Ft(f)?(s=!0,Ha(a)):s=!1,ds(a,c),pp(a,f,g),Cc(a,f,g,c),Mc(null,a,f,!0,s,c);case 19:return Ap(s,a,c);case 22:return kp(s,a,c)}throw Error(t(156,a.tag))};function tg(s,a){return sr(s,a)}function A_(s,a,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(s,a,c,f){return new A_(s,a,c,f)}function Qc(s){return s=s.prototype,!(!s||!s.isReactComponent)}function M_(s){if(typeof s=="function")return Qc(s)?1:0;if(s!=null){if(s=s.$$typeof,s===de)return 11;if(s===Se)return 14}return 2}function Wi(s,a){var c=s.alternate;return c===null?(c=gn(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function wl(s,a,c,f,g,y){var w=2;if(f=s,typeof s=="function")Qc(s)&&(w=1);else if(typeof s=="string")w=5;else e:switch(s){case U:return _r(c.children,g,y,a);case H:w=8,g|=8;break;case Z:return s=gn(12,c,a,g|2),s.elementType=Z,s.lanes=y,s;case Ie:return s=gn(13,c,a,g),s.elementType=Ie,s.lanes=y,s;case Ne:return s=gn(19,c,a,g),s.elementType=Ne,s.lanes=y,s;case ve:return bl(c,g,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case oe:w=10;break e;case ce:w=9;break e;case de:w=11;break e;case Se:w=14;break e;case Te:w=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=gn(w,c,a,g),a.elementType=s,a.type=f,a.lanes=y,a}function _r(s,a,c,f){return s=gn(7,s,f,a),s.lanes=c,s}function bl(s,a,c,f){return s=gn(22,s,f,a),s.elementType=ve,s.lanes=c,s.stateNode={isHidden:!1},s}function Zc(s,a,c){return s=gn(6,s,null,a),s.lanes=c,s}function eh(s,a,c){return a=gn(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function I_(s,a,c,f,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xr(0),this.expirationTimes=Xr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xr(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function th(s,a,c,f,g,y,w,P,A){return s=new I_(s,a,c,P,A),a===1?(a=1,y===!0&&(a|=8)):a=0,y=gn(3,null,null,a),s.current=y,y.stateNode=s,y.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},pc(y),s}function D_(s,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:f==null?null:""+f,children:s,containerInfo:a,implementation:c}}function ng(s){if(!s)return Di;s=s._reactInternals;e:{if(Ln(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Ft(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(Ft(c))return Rf(s,c,a)}return a}function ig(s,a,c,f,g,y,w,P,A){return s=th(c,f,!0,s,g,y,w,P,A),s.context=ng(null),c=s.current,f=It(),g=Ui(c),y=si(f,g),y.callback=a??null,ji(c,y,g),s.current.lanes=g,ar(s,g,f),Bt(s,f),s}function xl(s,a,c,f){var g=a.current,y=It(),w=Ui(g);return c=ng(c),a.context===null?a.context=c:a.pendingContext=c,a=si(y,w),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=ji(g,a,w),s!==null&&(Tn(s,g,w,y),Za(s,g,w)),w}function Sl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function rg(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function nh(s,a){rg(s,a),(s=s.alternate)&&rg(s,a)}function N_(){return null}var sg=typeof reportError=="function"?reportError:function(s){console.error(s)};function ih(s){this._internalRoot=s}kl.prototype.render=ih.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));xl(s,a,null,null)},kl.prototype.unmount=ih.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;mr(function(){xl(null,s,null,null)}),a[ei]=null}};function kl(s){this._internalRoot=s}kl.prototype.unstable_scheduleHydration=function(s){if(s){var a=Pe();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Oi.length&&a!==0&&a<Oi[c].priority;c++);Oi.splice(c,0,s),c===0&&Vd(s)}};function rh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function El(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function og(){}function L_(s,a,c,f,g){if(g){if(typeof f=="function"){var y=f;f=function(){var F=Sl(w);y.call(F)}}var w=ig(a,f,s,0,null,!1,!1,"",og);return s._reactRootContainer=w,s[ei]=w.current,uo(s.nodeType===8?s.parentNode:s),mr(),w}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var P=f;f=function(){var F=Sl(A);P.call(F)}}var A=th(s,0,!1,null,null,!1,!1,"",og);return s._reactRootContainer=A,s[ei]=A.current,uo(s.nodeType===8?s.parentNode:s),mr(function(){xl(a,A,c,f)}),A}function Tl(s,a,c,f,g){var y=c._reactRootContainer;if(y){var w=y;if(typeof g=="function"){var P=g;g=function(){var A=Sl(w);P.call(A)}}xl(a,w,s,g)}else w=L_(c,a,s,g,f);return Sl(w)}z=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=Qn(a.pendingLanes);c!==0&&(x(a,c|1),Bt(a,Fe()),!(De&6)&&(ys=Fe()+500,Ni()))}break;case 13:mr(function(){var f=ri(s,1);if(f!==null){var g=It();Tn(f,s,1,g)}}),nh(s,1)}},K=function(s){if(s.tag===13){var a=ri(s,134217728);if(a!==null){var c=It();Tn(a,s,134217728,c)}nh(s,134217728)}},te=function(s){if(s.tag===13){var a=Ui(s),c=ri(s,a);if(c!==null){var f=It();Tn(c,s,a,f)}nh(s,a)}},Pe=function(){return k},it=function(s,a){var c=k;try{return k=s,a()}finally{k=c}},Hs=function(s,a,c){switch(a){case"input":if(_n(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==s&&f.form===s.form){var g=Wa(f);if(!g)throw Error(t(90));In(f),_n(f,g)}}}break;case"textarea":ya(s,c);break;case"select":a=c.value,a!=null&&ht(s,!!c.multiple,a,!1)}},ka=Gc,qs=mr;var j_={usingClientEntryPoint:!1,Events:[fo,rs,Wa,xa,Sa,Gc]},Po={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z_={bundleType:Po.bundleType,version:Po.version,rendererPackageName:Po.rendererPackageName,rendererConfig:Po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Si(s),s===null?null:s.stateNode},findFiberByHostInstance:Po.findFiberByHostInstance||N_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pl.isDisabled&&Pl.supportsFiber)try{jt=Pl.inject(z_),Xt=Pl}catch{}}return Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j_,Wt.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rh(a))throw Error(t(200));return D_(s,a,null,c)},Wt.createRoot=function(s,a){if(!rh(s))throw Error(t(299));var c=!1,f="",g=sg;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=th(s,1,!1,null,null,c,!1,f,g),s[ei]=a.current,uo(s.nodeType===8?s.parentNode:s),new ih(a)},Wt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Si(a),s=s===null?null:s.stateNode,s},Wt.flushSync=function(s){return mr(s)},Wt.hydrate=function(s,a,c){if(!El(a))throw Error(t(200));return Tl(null,s,a,!0,c)},Wt.hydrateRoot=function(s,a,c){if(!rh(s))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,g=!1,y="",w=sg;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(w=c.onRecoverableError)),a=ig(a,null,s,1,c??null,g,!1,y,w),s[ei]=a.current,uo(s),f)for(s=0;s<f.length;s++)c=f[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new kl(a)},Wt.render=function(s,a,c){if(!El(a))throw Error(t(200));return Tl(null,s,a,!1,c)},Wt.unmountComponentAtNode=function(s){if(!El(s))throw Error(t(40));return s._reactRootContainer?(mr(function(){Tl(null,null,s,!1,function(){s._reactRootContainer=null,s[ei]=null})}),!0):!1},Wt.unstable_batchedUpdates=Gc,Wt.unstable_renderSubtreeIntoContainer=function(s,a,c,f){if(!El(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Tl(s,a,c,!1,f)},Wt.version="18.3.1-next-f1338f8080-20240426",Wt}var pg;function G_(){if(pg)return ah.exports;pg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ah.exports=Y_(),ah.exports}var gg;function X_(){if(gg)return Cl;gg=1;var n=G_();return Cl.createRoot=n.createRoot,Cl.hydrateRoot=n.hydrateRoot,Cl}var J_=X_();const md=({options:n,placeholder:e,onSelect:t})=>{const[i,r]=je.useState(""),[o,l]=je.useState(!1),[u,h]=je.useState(n),[d,p]=je.useState(0);je.useEffect(()=>{h(n)},[n]);const m=b=>{const E=b.target.value.trim();r(E);const C=n.filter(T=>typeof T=="string"?T.toLowerCase().includes(E.toLowerCase()):typeof T=="number"?T.toString().includes(E):!1);h(C),p(0)},v=b=>{r(String(b)),l(!1),t(b)},_=b=>{if(o)switch(b.key){case"ArrowDown":b.preventDefault(),p(E=>Math.min(E+1,u.length-1));break;case"ArrowUp":b.preventDefault(),p(E=>Math.max(E-1,0));break;case"Enter":b.preventDefault(),u[d]!==void 0&&v(u[d]);break;case"Escape":b.preventDefault(),l(!1);break}},S=()=>{l(!0),r(""),h(n),p(0)};return W.jsxs("div",{className:"relative w-64",children:[W.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:e,value:i,onChange:m,onFocus:S,onClick:S,onKeyDown:_}),o&&u.length>0&&W.jsx("div",{className:"absolute mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-60 overflow-y-auto",children:u.map((b,E)=>W.jsx("button",{className:`w-full px-4 py-2 text-left text-gray-900 ${E===d?"bg-blue-100":"bg-white"} hover:bg-blue-50`,onMouseEnter:()=>p(E),onClick:()=>v(b),children:b},E))}),o&&u.length===0&&W.jsx("div",{className:"absolute mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg z-50",children:W.jsx("div",{className:"px-4 py-2 text-gray-500",children:"No results found"})})]})};function mu(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function Q_(n,e,t,i){function r(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(p){try{d(i.next(p))}catch(m){l(m)}}function h(p){try{d(i.throw(p))}catch(m){l(m)}}function d(p){p.done?o(p.value):r(p.value).then(u,h)}d((i=i.apply(n,e||[])).next())})}const Z_=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class yd extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class ew extends yd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mg extends yd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class yg extends yd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Nh;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Nh||(Nh={}));class tw{constructor(e,{headers:t={},customFetch:i,region:r=Nh.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=Z_(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Q_(this,arguments,void 0,function*(t,i={}){var r;let o,l;try{const{headers:u,method:h,body:d,signal:p,timeout:m}=i;let v={},{region:_}=i;_||(_=this.region);const S=new URL(`${this.url}/${t}`);_&&_!=="any"&&(v["x-region"]=_,S.searchParams.set("forceFunctionRegion",_));let b;d&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",b=d):typeof d=="string"?(v["Content-Type"]="text/plain",b=d):typeof FormData<"u"&&d instanceof FormData?b=d:(v["Content-Type"]="application/json",b=JSON.stringify(d)):b=d;let E=p;m&&(l=new AbortController,o=setTimeout(()=>l.abort(),m),p?(E=l.signal,p.addEventListener("abort",()=>l.abort())):E=l.signal);const C=yield this.fetch(S.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:b,signal:E}).catch(N=>{throw new ew(N)}),T=C.headers.get("x-relay-error");if(T&&T==="true")throw new mg(C);if(!C.ok)throw new yg(C);let O=((r=C.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),M;return O==="application/json"?M=yield C.json():O==="application/octet-stream"||O==="application/pdf"?M=yield C.blob():O==="text/event-stream"?M=C:O==="multipart/form-data"?M=yield C.formData():M=yield C.text(),{data:M,error:null,response:C}}catch(u){return{data:null,error:u,response:u instanceof yg||u instanceof mg?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var nw=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},iw=class{constructor(n){var e,t;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(t=n.isMaybeSingle)!==null&&t!==void 0?t:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let r=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let l=null,u=null,h=null,d=o.status,p=o.statusText;if(o.ok){var m,v;if(t.method!=="HEAD"){var _;const C=await o.text();C===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((_=t.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?u=C:u=JSON.parse(C))}const b=(m=t.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),E=(v=o.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");b&&E&&E.length>1&&(h=parseInt(E[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,d=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var S;const b=await o.text();try{l=JSON.parse(b),Array.isArray(l)&&o.status===404&&(u=[],l=null,d=200,p="OK")}catch{o.status===404&&b===""?(d=204,p="No Content"):l={message:b}}if(l&&t.isMaybeSingle&&(!(l==null||(S=l.details)===null||S===void 0)&&S.includes("0 rows"))&&(l=null,d=200,p="OK"),l&&t.shouldThrowOnError)throw new nw(l)}return{error:l,data:u,count:h,status:d,statusText:p}});return this.shouldThrowOnError||(r=r.catch(o=>{var l;let u="";const h=o==null?void 0:o.cause;if(h){var d,p,m,v;const S=(d=h==null?void 0:h.message)!==null&&d!==void 0?d:"",b=(p=h==null?void 0:h.code)!==null&&p!==void 0?p:"";u=`${(m=o==null?void 0:o.name)!==null&&m!==void 0?m:"FetchError"}: ${o==null?void 0:o.message}`,u+=`

Caused by: ${(v=h==null?void 0:h.name)!==null&&v!==void 0?v:"Error"}: ${S}`,b&&(u+=` (${b})`),h!=null&&h.stack&&(u+=`
${h.stack}`)}else{var _;u=(_=o==null?void 0:o.stack)!==null&&_!==void 0?_:""}return{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),r.then(n,e)}returns(){return this}overrideTypes(){return this}},rw=class extends iw{select(n){let e=!1;const t=(n??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:t,foreignTable:i,referencedTable:r=i}={}){const o=r?`${r}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${n}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:t=e}={}){const i=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,e,{foreignTable:t,referencedTable:i=t}={}){const r=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${n}`),this.url.searchParams.set(o,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:t=!1,buffers:i=!1,wal:r=!1,format:o="text"}={}){var l;const u=[n?"analyze":null,e?"verbose":null,t?"settings":null,i?"buffers":null,r?"wal":null].filter(Boolean).join("|"),h=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${h}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const vg=new RegExp("[,()]");var Ps=class extends rw{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const t=Array.from(new Set(e)).map(i=>typeof i=="string"&&vg.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${t})`),this}notIn(n,e){const t=Array.from(new Set(e)).map(i=>typeof i=="string"&&vg.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`not.in.(${t})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:t,type:i}={}){let r="";i==="plain"?r="pl":i==="phrase"?r="ph":i==="websearch"&&(r="w");const o=t===void 0?"":`(${t})`;return this.url.searchParams.append(n,`${r}fts${o}.${e}`),this}match(n){return Object.entries(n).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(n,e,t){return this.url.searchParams.append(n,`not.${e}.${t}`),this}or(n,{foreignTable:e,referencedTable:t=e}={}){const i=t?`${t}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,e,t){return this.url.searchParams.append(n,`${e}.${t}`),this}},sw=class{constructor(n,{headers:e={},schema:t,fetch:i}){this.url=n,this.headers=new Headers(e),this.schema=t,this.fetch=i}select(n,e){const{head:t=!1,count:i}=e??{},r=t?"HEAD":"GET";let o=!1;const l=(n??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),i&&this.headers.append("Prefer",`count=${i}`),new Ps({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:e,defaultToNull:t=!0}={}){var i;const r="POST";if(e&&this.headers.append("Prefer",`count=${e}`),t||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const o=n.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ps({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(n,{onConflict:e,ignoreDuplicates:t=!1,count:i,defaultToNull:r=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const u=n.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(u.length>0){const h=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",h.join(","))}}return new Ps({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(n,{count:e}={}){var t;const i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Ps({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:n}={}){var e;const t="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new Ps({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},ow=class Ey{constructor(e,{headers:t={},schema:i,fetch:r}={}){this.url=e,this.headers=new Headers(t),this.schemaName=i,this.fetch=r}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new sw(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ey(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:i=!1,get:r=!1,count:o}={}){var l;let u;const h=new URL(`${this.url}/rpc/${e}`);let d;i||r?(u=i?"HEAD":"GET",Object.entries(t).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{h.searchParams.append(m,v)})):(u="POST",d=t);const p=new Headers(this.headers);return o&&p.set("Prefer",`count=${o}`),new Ps({method:u,url:h,headers:p,schema:this.schemaName,body:d,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class aw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=t.node,r=parseInt(i.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const lw="2.89.0",uw=`realtime-js/${lw}`,Ty="1.0.0",cw="2.0.0",_g=Ty,Lh=1e4,hw=1e3,dw=100;var Hi;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Hi||(Hi={}));var gt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(gt||(gt={}));var On;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(On||(On={}));var jh;(function(n){n.websocket="websocket"})(jh||(jh={}));var Cr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Cr||(Cr={}));class fw{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,i;const r=(i=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(e){var t,i;const r=(i=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&i!==void 0?i:{},l=new TextEncoder().encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,t,i){var r,o;const l=e.topic,u=(r=e.ref)!==null&&r!==void 0?r:"",h=(o=e.join_ref)!==null&&o!==void 0?o:"",d=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(p).length===0?"":JSON.stringify(p);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+u.length+l.length+d.length+m.length,_=new ArrayBuffer(this.HEADER_LENGTH+v);let S=new DataView(_),b=0;S.setUint8(b++,this.KINDS.userBroadcastPush),S.setUint8(b++,h.length),S.setUint8(b++,u.length),S.setUint8(b++,l.length),S.setUint8(b++,d.length),S.setUint8(b++,m.length),S.setUint8(b++,t),Array.from(h,C=>S.setUint8(b++,C.charCodeAt(0))),Array.from(u,C=>S.setUint8(b++,C.charCodeAt(0))),Array.from(l,C=>S.setUint8(b++,C.charCodeAt(0))),Array.from(d,C=>S.setUint8(b++,C.charCodeAt(0))),Array.from(m,C=>S.setUint8(b++,C.charCodeAt(0)));var E=new Uint8Array(_.byteLength+i.byteLength);return E.set(new Uint8Array(_),0),E.set(new Uint8Array(i),_.byteLength),E.buffer}decode(e,t){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return t(i)}if(typeof e=="string"){const i=JSON.parse(e),[r,o,l,u,h]=i;return t({join_ref:r,ref:o,topic:l,event:u,payload:h})}return t({})}_binaryDecode(e){const t=new DataView(e),i=t.getUint8(0),r=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,r)}}_decodeUserBroadcast(e,t,i){const r=t.getUint8(1),o=t.getUint8(2),l=t.getUint8(3),u=t.getUint8(4);let h=this.HEADER_LENGTH+4;const d=i.decode(e.slice(h,h+r));h=h+r;const p=i.decode(e.slice(h,h+o));h=h+o;const m=i.decode(e.slice(h,h+l));h=h+l;const v=e.slice(h,e.byteLength),_=u===this.JSON_ENCODING?JSON.parse(i.decode(v)):v,S={type:this.BROADCAST_EVENT,event:p,payload:_};return l>0&&(S.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>t.includes(i)))}}class Py{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ue||(Ue={}));const wg=(n,e,t={})=>{var i;const r=(i=t.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((o,l)=>(o[l]=pw(l,n,e,r),o),{}):{}},pw=(n,e,t,i)=>{const r=e.find(u=>u.name===n),o=r==null?void 0:r.type,l=t[n];return o&&!i.includes(o)?Cy(o,l):zh(l)},Cy=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return vw(e,t)}switch(n){case Ue.bool:return gw(e);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return mw(e);case Ue.json:case Ue.jsonb:return yw(e);case Ue.timestamp:return _w(e);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return zh(e);default:return zh(e)}},zh=n=>n,gw=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},mw=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},yw=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},vw=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,i=n[t];if(n[0]==="{"&&i==="}"){let o;const l=n.slice(1,t);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>Cy(e,u))}return n},_w=n=>typeof n=="string"?n.replace(" ","T"):n,Oy=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ch{constructor(e,t,i={},r=Lh){this.channel=e,this.event=t,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var bg;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(bg||(bg={}));class $o{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$o.syncState(this.state,r,o,l),this.pendingDiffs.forEach(h=>{this.state=$o.syncDiff(this.state,h,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(i.diff,{},r=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=$o.syncDiff(this.state,r,o,l),u())}),this.onJoin((r,o,l)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:o,newPresences:l})}),this.onLeave((r,o,l)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,r){const o=this.cloneDeep(e),l=this.transformState(t),u={},h={};return this.map(o,(d,p)=>{l[d]||(h[d]=p)}),this.map(l,(d,p)=>{const m=o[d];if(m){const v=p.map(E=>E.presence_ref),_=m.map(E=>E.presence_ref),S=p.filter(E=>_.indexOf(E.presence_ref)<0),b=m.filter(E=>v.indexOf(E.presence_ref)<0);S.length>0&&(u[d]=S),b.length>0&&(h[d]=b)}else u[d]=p}),this.syncDiff(o,{joins:u,leaves:h},i,r)}static syncDiff(e,t,i,r){const{joins:o,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(o,(u,h)=>{var d;const p=(d=e[u])!==null&&d!==void 0?d:[];if(e[u]=this.cloneDeep(h),p.length>0){const m=e[u].map(_=>_.presence_ref),v=p.filter(_=>m.indexOf(_.presence_ref)<0);e[u].unshift(...v)}i(u,p,h)}),this.map(l,(u,h)=>{let d=e[u];if(!d)return;const p=h.map(m=>m.presence_ref);d=d.filter(m=>p.indexOf(m.presence_ref)<0),e[u]=d,r(u,d,h),d.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const r=e[i];return"metas"in r?t[i]=r.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[i]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xg;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(xg||(xg={}));var Uo;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Uo||(Uo={}));var hi;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(hi||(hi={}));class Rs{constructor(e,t={config:{}},i){var r,o;if(this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ch(this,On.join,this.params,this.timeout),this.rejoinTimer=new Py(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(On.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new $o(this),this.broadcastEndpointURL=Oy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var i,r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==gt.closed){const{config:{broadcast:l,presence:u,private:h}}=this.params,d=(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&r!==void 0?r:[],p=!!this.bindings[Uo.PRESENCE]&&this.bindings[Uo.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,m={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:d,private:h};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(_=>e==null?void 0:e(hi.CHANNEL_ERROR,_)),this._onClose(()=>e==null?void 0:e(hi.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:_})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){e==null||e(hi.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,E=(S=b==null?void 0:b.length)!==null&&S!==void 0?S:0,C=[];for(let T=0;T<E;T++){const O=b[T],{filter:{event:M,schema:N,table:$,filter:U}}=O,H=_&&_[T];if(H&&H.event===M&&Rs.isFilterValueEqual(H.schema,N)&&Rs.isFilterValueEqual(H.table,$)&&Rs.isFilterValueEqual(H.filter,U))C.push(Object.assign(Object.assign({},O),{id:H.id}));else{this.unsubscribe(),this.state=gt.errored,e==null||e(hi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(hi.SUBSCRIBED);return}}).receive("error",_=>{this.state=gt.errored,e==null||e(hi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(hi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===gt.joined&&e===Uo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,i)}async httpSend(e,t,i={}){var r;if(t==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);if(u.status===202)return{success:!0};let h=u.statusText;try{const d=await u.json();h=d.error||d.message||h}catch{}return Promise.reject(new Error(h))}async send(e,t={}){var i,r;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((r=d.body)===null||r===void 0?void 0:r.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,h;const d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(On.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(r=>{i=new ch(this,On.leave,{},e),i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gt.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const r=new AbortController,o=setTimeout(()=>r.abort(),i),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(o),l}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new ch(this,e,t,i);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>dw){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var r,o;const l=e.toLocaleLowerCase(),{close:u,error:h,leave:d,join:p}=On;if(i&&[u,h,d,p].indexOf(l)>=0&&i!==this._joinRef())return;let v=this._onMessage(l,t,i);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(_=>{var S,b,E;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((E=(b=_.filter)===null||b===void 0?void 0:b.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===l}).map(_=>_.callback(v,i)):(o=this.bindings[l])===null||o===void 0||o.filter(_=>{var S,b,E,C,T,O;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const M=_.id,N=(S=_.filter)===null||S===void 0?void 0:S.event;return M&&((b=t.ids)===null||b===void 0?void 0:b.includes(M))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((E=t.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const M=(T=(C=_==null?void 0:_.filter)===null||C===void 0?void 0:C.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return M==="*"||M===((O=t==null?void 0:t.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:b,table:E,commit_timestamp:C,type:T,errors:O}=S;v=Object.assign(Object.assign({},{schema:b,table:E,commit_timestamp:C,eventType:T,new:{},old:{},errors:O}),this._getPayloadRecords(S))}_.callback(v,i)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const r=e.toLocaleLowerCase(),o={type:r,filter:t,callback:i};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(r=>{var o;return!(((o=r.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&Rs.isEqual(r.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(On.close,{},e)}_onError(e){this._on(On.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=wg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=wg(e.columns,e.old_record)),t}}const hh=()=>{},Ol={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ww=[1e3,2e3,5e3,1e4],bw=1e4,xw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Sw{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lh,this.transport=null,this.heartbeatIntervalMs=Ol.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hh,this.ref=0,this.reconnectTimer=null,this.vsn=_g,this.logger=hh,this.conn=null,this.sendBuffer=[],this.serializer=new fw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>r?(...o)=>r(...o):(...o)=>fetch(...o),!(!((i=t==null?void 0:t.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${jh.websocket}`,this.httpEndpoint=Oy(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Hi.connecting:return Cr.Connecting;case Hi.open:return Cr.Open;case Hi.closing:return Cr.Closing;default:return Cr.Closed}}isConnected(){return this.connectionState()===Cr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,r=this.getChannels().find(o=>o.topic===i);if(r)return r;{const o=new Rs(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:i,payload:r,ref:o}=e,l=()=>{this.encode(e,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${t} ${i} (${o})`,r),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(hw,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Ol.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:r,payload:o,ref:l}=t,u=l?`(${l})`:"",h=o.status||"";this.log("receive",`${h} ${i} ${r} ${u}`.trim(),o),this.channels.filter(d=>d._isMember(i)).forEach(d=>d._trigger(r,o,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Hi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Hi.open||this.conn.readyState===Hi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(On.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${i}${r}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([xw],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,i=!1;if(e)t=e,i=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),t=this.accessTokenValue}else t=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const o={access_token:t,version:uw};t&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(On.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Py(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ol.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,r,o,l,u,h,d,p,m,v,_;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Lh,this.heartbeatIntervalMs=(r=e==null?void 0:e.heartbeatIntervalMs)!==null&&r!==void 0?r:Ol.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:hh,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:_g,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:S=>ww[S-1]||bw,this.vsn){case Ty:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:(S,b)=>b(JSON.stringify(S)),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:(S,b)=>b(JSON.parse(S));break;case cw:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Qo=class extends Error{constructor(n,e){var t;super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((t=e.icebergType)==null?void 0:t.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function kw(n,e,t){const i=new URL(e,n);if(t)for(const[r,o]of Object.entries(t))o!==void 0&&i.searchParams.set(r,o);return i.toString()}async function Ew(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function Tw(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:t,path:i,query:r,body:o,headers:l}){const u=kw(n.baseUrl,i,r),h=await Ew(n.auth),d=await e(u,{method:t,headers:{...o?{"Content-Type":"application/json"}:{},...h,...l},body:o?JSON.stringify(o):void 0}),p=await d.text(),m=(d.headers.get("content-type")||"").includes("application/json"),v=m&&p?JSON.parse(p):p;if(!d.ok){const _=m?v:void 0,S=_==null?void 0:_.error;throw new Qo((S==null?void 0:S.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:_})}return{status:d.status,headers:d.headers,data:v}}}}function Rl(n){return n.join("")}var Pw=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:Rl(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(n,e){const t={namespace:n.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Rl(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rl(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Rl(n.namespace)}`}),!0}catch(e){if(e instanceof Qo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(t){if(t instanceof Qo&&t.status===409)return;throw t}}};function _s(n){return n.join("")}var Cw=class{constructor(n,e="",t){this.client=n,this.prefix=e,this.accessDelegation=t}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_s(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_s(n.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(n,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_s(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_s(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_s(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_s(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(t){if(t instanceof Qo&&t.status===404)return!1;throw t}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(t){if(t instanceof Qo&&t.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw t}}},Ow=class{constructor(n){var i;let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const t=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=Tw({baseUrl:t,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(i=n.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new Pw(this.client,e),this.tableOps=new Cw(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},yu=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Qe(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Rw=class extends yu{constructor(n,e,t){super(n),this.name="StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Fh=class extends yu{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}};const vd=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Aw=()=>Response,$h=n=>{if(Array.isArray(n))return n.map(t=>$h(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,i])=>{const r=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[r]=$h(i)}),e},Mw=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Iw=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function Zo(n){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zo(n)}function Dw(n,e){if(Zo(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(Zo(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Nw(n){var e=Dw(n,"string");return Zo(e)=="symbol"?e:e+""}function Lw(n,e,t){return(e=Nw(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Sg(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function me(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Sg(Object(t),!0).forEach(function(i){Lw(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Sg(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const dh=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},jw=async(n,e,t)=>{n instanceof await Aw()&&!(t!=null&&t.noResolveJson)?n.json().then(i=>{const r=n.status||500,o=(i==null?void 0:i.statusCode)||r+"";e(new Rw(dh(i),r,o))}).catch(i=>{e(new Fh(dh(i),i))}):e(new Fh(dh(n),n))},zw=(n,e,t,i)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!i?r:(Mw(i)?(r.headers=me({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(i)):r.body=i,e!=null&&e.duplex&&(r.duplex=e.duplex),me(me({},r),t))};async function da(n,e,t,i,r,o){return new Promise((l,u)=>{n(t,zw(e,i,r,o)).then(h=>{if(!h.ok)throw h;return i!=null&&i.noResolveJson?h:h.json()}).then(h=>l(h)).catch(h=>jw(h,u,i))})}async function ea(n,e,t,i){return da(n,"GET",e,t,i)}async function Cn(n,e,t,i,r){return da(n,"POST",e,i,r,t)}async function Uh(n,e,t,i,r){return da(n,"PUT",e,i,r,t)}async function Fw(n,e,t,i){return da(n,"HEAD",e,me(me({},t),{},{noResolveJson:!0}),i)}async function _d(n,e,t,i,r){return da(n,"DELETE",e,i,r,t)}var $w=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}}};let Ry;Ry=Symbol.toStringTag;var Uw=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[Ry]="BlobDownloadBuilder",this.promise=null}asStream(){return new $w(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}}};const Bw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Ww=class{constructor(n,e={},t,i){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.bucketId=t,this.fetch=vd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,e,t,i){var r=this;try{let o;const l=me(me({},kg),i);let u=me(me({},r.headers),n==="POST"&&{"x-upsert":String(l.upsert)});const h=l.metadata;typeof Blob<"u"&&t instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),h&&o.append("metadata",r.encodeMetadata(h)),o.append("",t)):typeof FormData<"u"&&t instanceof FormData?(o=t,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),h&&!o.has("metadata")&&o.append("metadata",r.encodeMetadata(h))):(o=t,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,h&&(u["x-metadata"]=r.toBase64(r.encodeMetadata(h))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),i!=null&&i.headers&&(u=me(me({},u),i.headers));const d=r._removeEmptyFolders(e),p=r._getFinalPath(d),m=await(n=="PUT"?Uh:Cn)(r.fetch,`${r.url}/object/${p}`,o,me({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}}async upload(n,e,t){return this.uploadOrUpdate("POST",n,e,t)}async uploadToSignedUrl(n,e,t,i){var r=this;const o=r._removeEmptyFolders(n),l=r._getFinalPath(o),u=new URL(r.url+`/object/upload/sign/${l}`);u.searchParams.set("token",e);try{let h;const d=me({upsert:kg.upsert},i),p=me(me({},r.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&t instanceof Blob?(h=new FormData,h.append("cacheControl",d.cacheControl),h.append("",t)):typeof FormData<"u"&&t instanceof FormData?(h=t,h.append("cacheControl",d.cacheControl)):(h=t,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType),{data:{path:o,fullPath:(await Uh(r.fetch,u.toString(),h,{headers:p})).Key},error:null}}catch(h){if(r.shouldThrowOnError)throw h;if(Qe(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(n,e){var t=this;try{let i=t._getFinalPath(n);const r=me({},t.headers);e!=null&&e.upsert&&(r["x-upsert"]="true");const o=await Cn(t.fetch,`${t.url}/object/upload/sign/${i}`,{},{headers:r}),l=new URL(t.url+o.url),u=l.searchParams.get("token");if(!u)throw new yu("No token returned by API");return{data:{signedUrl:l.toString(),path:n,token:u},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async update(n,e,t){return this.uploadOrUpdate("PUT",n,e,t)}async move(n,e,t){var i=this;try{return{data:await Cn(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:i.headers}),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async copy(n,e,t){var i=this;try{return{data:{path:(await Cn(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:i.headers})).Key},error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async createSignedUrl(n,e,t){var i=this;try{let r=i._getFinalPath(n),o=await Cn(i.fetch,`${i.url}/object/sign/${r}`,me({expiresIn:e},t!=null&&t.transform?{transform:t.transform}:{}),{headers:i.headers});const l=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return o={signedUrl:encodeURI(`${i.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async createSignedUrls(n,e,t){var i=this;try{const r=await Cn(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:n},{headers:i.headers}),o=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return{data:r.map(l=>me(me({},l),{},{signedUrl:l.signedURL?encodeURI(`${i.url}${l.signedURL}${o}`):null})),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}download(n,e){const t=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),r=i?`?${i}`:"",o=this._getFinalPath(n),l=()=>ea(this.fetch,`${this.url}/${t}/${o}${r}`,{headers:this.headers,noResolveJson:!0});return new Uw(l,this.shouldThrowOnError)}async info(n){var e=this;const t=e._getFinalPath(n);try{return{data:$h(await ea(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async exists(n){var e=this;const t=e._getFinalPath(n);try{return await Fw(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qe(i)&&i instanceof Fh){const r=i.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:i}}throw i}}getPublicUrl(n,e){const t=this._getFinalPath(n),i=[],r=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";r!==""&&i.push(r);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${t}${u}`)}}}async remove(n){var e=this;try{return{data:await _d(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}}async list(n,e,t){var i=this;try{const r=me(me(me({},Bw),e),{},{prefix:n||""});return{data:await Cn(i.fetch,`${i.url}/object/list/${i.bucketId}`,r,{headers:i.headers},t),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async listV2(n,e){var t=this;try{const i=me({},n);return{data:await Cn(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,i,{headers:t.headers},e),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const Ay="2.89.0",My={"X-Client-Info":`storage-js/${Ay}`};var Vw=class{constructor(n,e={},t,i){this.shouldThrowOnError=!1;const r=new URL(n);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href.replace(/\/$/,""),this.headers=me(me({},My),e),this.fetch=vd(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var e=this;try{const t=e.listBucketOptionsToQueryString(n);return{data:await ea(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}}async getBucket(n){var e=this;try{return{data:await ea(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}}async createBucket(n,e={public:!1}){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async updateBucket(n,e){var t=this;try{return{data:await Uh(t.fetch,`${t.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async emptyBucket(n){var e=this;try{return{data:await Cn(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await _d(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Hw=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=me(me({},My),e),this.fetch=vd(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await Cn(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}}async listBuckets(n){var e=this;try{const t=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&t.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&t.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&t.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&t.set("sortOrder",n.sortOrder),n!=null&&n.search&&t.set("search",n.search);const i=t.toString(),r=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return{data:await ea(e.fetch,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await _d(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}}from(n){var e=this;if(!Iw(n))throw new yu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new Ow({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(t,{get(r,o){const l=r[o];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(r,u),error:null}}catch(h){if(i)throw h;return{data:null,error:h}}}}})}};const wd={"X-Client-Info":`storage-js/${Ay}`,"Content-Type":"application/json"};var Iy=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function an(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var fh=class extends Iy{constructor(n,e,t){super(n),this.name="StorageVectorsApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qw=class extends Iy{constructor(n,e){super(n),this.name="StorageVectorsUnknownError",this.originalError=e}};const bd=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Kw=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Eg=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Yw=async(n,e,t)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(t!=null&&t.noResolveJson)){const i=n.status||500,r=n;if(typeof r.json=="function")r.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new fh(Eg(o),i,l))}).catch(()=>{const o=i+"";e(new fh(r.statusText||`HTTP ${i} error`,i,o))});else{const o=i+"";e(new fh(r.statusText||`HTTP ${i} error`,i,o))}}else e(new qw(Eg(n),n))},Gw=(n,e,t,i)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return i?(Kw(i)?(r.headers=me({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(i)):r.body=i,me(me({},r),t)):r};async function Xw(n,e,t,i,r,o){return new Promise((l,u)=>{n(t,Gw(e,i,r,o)).then(h=>{if(!h.ok)throw h;if(i!=null&&i.noResolveJson)return h;const d=h.headers.get("content-type");return!d||!d.includes("application/json")?{}:h.json()}).then(h=>l(h)).catch(h=>Yw(h,u,i))})}async function ln(n,e,t,i,r){return Xw(n,"POST",e,i,r,t)}var Jw=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=me(me({},wd),e),this.fetch=bd(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var e=this;try{return{data:await ln(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(an(t))return{data:null,error:t};throw t}}async getIndex(n,e){var t=this;try{return{data:await ln(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(an(i))return{data:null,error:i};throw i}}async listIndexes(n){var e=this;try{return{data:await ln(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(an(t))return{data:null,error:t};throw t}}async deleteIndex(n,e){var t=this;try{return{data:await ln(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(an(i))return{data:null,error:i};throw i}}},Qw=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=me(me({},wd),e),this.fetch=bd(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var e=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ln(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(an(t))return{data:null,error:t};throw t}}async getVectors(n){var e=this;try{return{data:await ln(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(an(t))return{data:null,error:t};throw t}}async listVectors(n){var e=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await ln(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(an(t))return{data:null,error:t};throw t}}async queryVectors(n){var e=this;try{return{data:await ln(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(an(t))return{data:null,error:t};throw t}}async deleteVectors(n){var e=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ln(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(an(t))return{data:null,error:t};throw t}}},Zw=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=me(me({},wd),e),this.fetch=bd(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await ln(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(an(t))return{data:null,error:t};throw t}}async getBucket(n){var e=this;try{return{data:await ln(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(an(t))return{data:null,error:t};throw t}}async listBuckets(n={}){var e=this;try{return{data:await ln(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(an(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await ln(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(an(t))return{data:null,error:t};throw t}}},eb=class extends Zw{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new tb(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,t=this;return e().call(t,n)}async getBucket(n){var e=()=>super.getBucket,t=this;return e().call(t,n)}async listBuckets(n={}){var e=()=>super.listBuckets,t=this;return e().call(t,n)}async deleteBucket(n){var e=()=>super.deleteBucket,t=this;return e().call(t,n)}},tb=class extends Jw{constructor(n,e,t,i){super(n,e,i),this.vectorBucketName=t}async createIndex(n){var e=()=>super.createIndex,t=this;return e().call(t,me(me({},n),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,t=this;return e().call(t,me(me({},n),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,n)}index(n){return new nb(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},nb=class extends Qw{constructor(n,e,t,i,r){super(n,e,r),this.vectorBucketName=t,this.indexName=i}async putVectors(n){var e=()=>super.putVectors,t=this;return e().call(t,me(me({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(n){var e=()=>super.getVectors,t=this;return e().call(t,me(me({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,t=this;return e().call(t,me(me({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,t=this;return e().call(t,me(me({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,t=this;return e().call(t,me(me({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},ib=class extends Vw{constructor(n,e={},t,i){super(n,e,t,i)}from(n){return new Ww(this.url,this.headers,n,this.fetch)}get vectors(){return new eb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Hw(this.url+"/iceberg",this.headers,this.fetch)}};const Dy="2.89.0",Cs=30*1e3,Bh=3,ph=Bh*Cs,rb="http://localhost:9999",sb="supabase.auth.token",ob={"X-Client-Info":`gotrue-js/${Dy}`},Wh="X-Supabase-Api-Version",Ny={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ab=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lb=10*60*1e3;class ta extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function le(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class ub extends ta{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function cb(n){return le(n)&&n.name==="AuthApiError"}class Or extends ta{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class mi extends ta{constructor(e,t,i,r){super(e,i,r),this.name=t,this.status=i}}class nn extends mi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hb(n){return le(n)&&n.name==="AuthSessionMissingError"}class ws extends mi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Al extends mi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ml extends mi{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function db(n){return le(n)&&n.name==="AuthImplicitGrantRedirectError"}class Tg extends mi{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fb extends mi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Vh extends mi{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function gh(n){return le(n)&&n.name==="AuthRetryableFetchError"}class Pg extends mi{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class Hh extends mi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const su="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cg=` 	
\r=`.split(""),pb=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Cg.length;e+=1)n[Cg[e].charCodeAt(0)]=-2;for(let e=0;e<su.length;e+=1)n[su[e].charCodeAt(0)]=e;return n})();function Og(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(su[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(su[i]),e.queuedBits-=6}}function Ly(n,e,t){const i=pb[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Rg(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},o=l=>{yb(l,i,t)};for(let l=0;l<n.length;l+=1)Ly(n.charCodeAt(l),r,o);return e.join("")}function gb(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function mb(n,e){for(let t=0;t<n.length;t+=1){let i=n.charCodeAt(t);if(i>55295&&i<=56319){const r=(i-55296)*1024&65535;i=(n.charCodeAt(t+1)-56320&65535|r)+65536,t+=1}gb(i,e)}}function yb(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let i=1;i<6;i+=1)if(!(n>>7-i&1)){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Ms(n){const e=[],t={queue:0,queuedBits:0},i=r=>{e.push(r)};for(let r=0;r<n.length;r+=1)Ly(n.charCodeAt(r),t,i);return new Uint8Array(e)}function vb(n){const e=[];return mb(n,t=>e.push(t)),new Uint8Array(e)}function Rr(n){const e=[],t={queue:0,queuedBits:0},i=r=>{e.push(r)};return n.forEach(r=>Og(r,t,i)),Og(null,t,i),e.join("")}function _b(n){return Math.round(Date.now()/1e3)+n}function wb(){return Symbol("auth-callback")}const St=()=>typeof window<"u"&&typeof document<"u",wr={tested:!1,writable:!1},jy=()=>{if(!St())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wr.tested)return wr.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),wr.tested=!0,wr.writable=!0}catch{wr.tested=!0,wr.writable=!1}return wr.writable};function bb(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((r,o)=>{e[o]=r})}catch{}return t.searchParams.forEach((i,r)=>{e[r]=i}),e}const zy=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),xb=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Os=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},br=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},xt=async(n,e)=>{await n.removeItem(e)};class vu{constructor(){this.promise=new vu.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}vu.promiseConstructor=Promise;function mh(n){const e=n.split(".");if(e.length!==3)throw new Hh("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!ab.test(e[i]))throw new Hh("JWT not in base64url format");return{header:JSON.parse(Rg(e[0])),payload:JSON.parse(Rg(e[1])),signature:Ms(e[2]),raw:{header:e[0],payload:e[1]}}}async function Sb(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function kb(n,e){return new Promise((i,r)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await n(o);if(!e(o,null,l)){i(l);return}}catch(l){if(!e(o,l)){r(l);return}}})()})}function Eb(n){return("0"+n.toString(16)).substr(-2)}function Tb(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let r="";for(let o=0;o<56;o++)r+=t.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(e),Array.from(e,Eb).join("")}async function Pb(n){const t=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(i);return Array.from(r).map(o=>String.fromCharCode(o)).join("")}async function Cb(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await Pb(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bs(n,e,t=!1){const i=Tb();let r=i;t&&(r+="/PASSWORD_RECOVERY"),await Os(n,`${e}-code-verifier`,r);const o=await Cb(i);return[o,i===o?"plain":"s256"]}const Ob=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Rb(n){const e=n.headers.get(Wh);if(!e||!e.match(Ob))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Ab(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Mb(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ib=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xs(n){if(!Ib.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yh(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Db(n,e){return new Proxy(n,{get:(t,i,r)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,i,r)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,i,r)}})}function Ag(n){return JSON.parse(JSON.stringify(n))}const Tr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Nb=[502,503,504];async function Mg(n){var e;if(!xb(n))throw new Vh(Tr(n),0);if(Nb.includes(n.status))throw new Vh(Tr(n),n.status);let t;try{t=await n.json()}catch(o){throw new Or(Tr(o),o)}let i;const r=Rb(n);if(r&&r.getTime()>=Ny["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new Pg(Tr(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new nn}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new Pg(Tr(t),n.status,t.weak_password.reasons);throw new ub(Tr(t),n.status||500,i)}const Lb=(n,e,t,i)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),t))};async function ge(n,e,t,i){var r;const o=Object.assign({},i==null?void 0:i.headers);o[Wh]||(o[Wh]=Ny["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const l=(r=i==null?void 0:i.query)!==null&&r!==void 0?r:{};i!=null&&i.redirectTo&&(l.redirect_to=i.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",h=await jb(n,e,t+u,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(h):{data:Object.assign({},h),error:null}}async function jb(n,e,t,i,r,o){const l=Lb(e,i,r,o);let u;try{u=await n(t,Object.assign({},l))}catch(h){throw console.error(h),new Vh(Tr(h),0)}if(u.ok||await Mg(u),i!=null&&i.noResolveJson)return u;try{return await u.json()}catch(h){await Mg(h)}}function Pn(n){var e;let t=null;$b(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=_b(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:i},error:null}}function Ig(n){const e=Pn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function qi(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function zb(n){return{data:n,error:null}}function Fb(n){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:r,verification_type:o}=n,l=mu(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:i,redirect_to:r,verification_type:o},h=Object.assign({},l);return{data:{properties:u,user:h},error:null}}function Dg(n){return n}function $b(n){return n.access_token&&n.refresh_token&&n.expires_in}const vh=["global","local","others"];class Ub{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=zy(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=vh[0]){if(vh.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vh.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:qi})}catch(i){if(le(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=mu(e,["options"]),r=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(r.new_email=i==null?void 0:i.newEmail,delete r.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Fb,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(le(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:qi})}catch(t){if(le(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,r,o,l,u,h;try{const d={nextPage:null,lastPage:0,total:0},p=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(o=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:Dg});if(p.error)throw p.error;const m=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(h=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(S=>{const b=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);d[`${E}Page`]=b}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(le(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){xs(e);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:qi})}catch(t){if(le(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){xs(e);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:qi})}catch(i){if(le(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){xs(e);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:qi})}catch(i){if(le(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){xs(e.userId);try{const{data:t,error:i}=await ge(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:i}}catch(t){if(le(t))return{data:null,error:t};throw t}}async _deleteFactor(e){xs(e.userId),xs(e.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(le(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,i,r,o,l,u,h;try{const d={nextPage:null,lastPage:0,total:0},p=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(o=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:Dg});if(p.error)throw p.error;const m=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(h=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(S=>{const b=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);d[`${E}Page`]=b}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(le(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(le(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(le(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(le(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(le(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(le(t))return{data:null,error:t};throw t}}}function Ng(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const Ss={debug:!!(globalThis&&jy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Bb extends Fy{}async function Wb(n,e,t){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,r.name);try{return await t()}finally{Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,r.name)}}else{if(e===0)throw Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Bb(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Ss.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function Vb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $y(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function Hb(n){return parseInt(n,16)}function qb(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function Kb(n){var e;const{chainId:t,domain:i,expirationTime:r,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:h,resources:d,scheme:p,uri:m,version:v}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const _=$y(n.address),S=p?`${p}://${i}`:i,b=n.statement?`${n.statement}
`:"",E=`${S} wants you to sign in with your Ethereum account:
${_}

${b}`;let C=`URI: ${m}
Version: ${v}
Chain ID: ${t}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(r&&(C+=`
Expiration Time: ${r.toISOString()}`),u&&(C+=`
Not Before: ${u.toISOString()}`),h&&(C+=`
Request ID: ${h}`),d){let T=`
Resources:`;for(const O of d){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);T+=`
- ${O}`}C+=T}return`${E}
${C}`}class ut extends Error{constructor({message:e,code:t,cause:i,name:r}){var o;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=r??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}}class ou extends ut{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Yb({error:n,options:e}){var t,i,r;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new ut({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if(Uy(l)){if(o.rp.id!==l)return new ut({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Gb({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new ut({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(Uy(i)){if(t.rpId!==i)return new ut({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class Xb{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Jb=new Xb;function Qb(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:i}=n,r=mu(n,["challenge","user","excludeCredentials"]),o=Ms(e).buffer,l=Object.assign(Object.assign({},t),{id:Ms(t.id).buffer}),u=Object.assign(Object.assign({},r),{challenge:o,user:l});if(i&&i.length>0){u.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const d=i[h];u.excludeCredentials[h]=Object.assign(Object.assign({},d),{id:Ms(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return u}function Zb(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,i=mu(n,["challenge","allowCredentials"]),r=Ms(e).buffer,o=Object.assign(Object.assign({},i),{challenge:r});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let l=0;l<t.length;l++){const u=t[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Ms(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function ex(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:Rr(new Uint8Array(n.response.attestationObject)),clientDataJSON:Rr(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function tx(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,i=n.getClientExtensionResults(),r=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Rr(new Uint8Array(r.authenticatorData)),clientDataJSON:Rr(new Uint8Array(r.clientDataJSON)),signature:Rr(new Uint8Array(r.signature)),userHandle:r.userHandle?Rr(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Uy(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Lg(){var n,e;return!!(St()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function nx(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ou("Browser returned unexpected credential type",e)}:{data:null,error:new ou("Empty credential response",e)}}catch(e){return{data:null,error:Yb({error:e,options:n})}}}async function ix(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ou("Browser returned unexpected credential type",e)}:{data:null,error:new ou("Empty credential response",e)}}catch(e){return{data:null,error:Gb({error:e,options:n})}}}const rx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},sx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function au(...n){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),t=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),i={};for(const r of n)if(r)for(const o in r){const l=r[o];if(l!==void 0)if(Array.isArray(l))i[o]=l;else if(t(l))i[o]=l;else if(e(l)){const u=i[o];e(u)?i[o]=au(u,l):i[o]=au(l)}else i[o]=l}return i}function ox(n,e){return au(rx,n,e||{})}function ax(n,e){return au(sx,n,e||{})}class lx{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:i,signal:r},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!l)return{data:null,error:u};const h=r??Jb.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${i}`),d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=ox(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:p,error:m}=await nx({publicKey:d,signal:h});return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const d=ax(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:p,error:m}=await ix(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:h}));return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(l){return le(l)?{data:null,error:l}:{data:null,error:new Or("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:t,webauthn:i}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},o){if(!t)return{data:null,error:new ta("rpId is required for WebAuthn authentication")};try{if(!Lg())return{data:null,error:new Or("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:i},signal:r},{request:o});if(!l)return{data:null,error:u};const{webauthn:h}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:h.type,rpId:t,rpOrigins:i,credential_response:h.credential_response}})}catch(l){return le(l)?{data:null,error:l}:{data:null,error:new Or("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},o){if(!t)return{data:null,error:new ta("rpId is required for WebAuthn registration")};try{if(!Lg())return{data:null,error:new Or("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:u};const{data:h,error:d}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:i},signal:r},{create:o});return h?this._verify({factorId:l.id,challengeId:h.challengeId,webauthn:{rpId:t,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:d}}catch(l){return le(l)?{data:null,error:l}:{data:null,error:new Or("Unexpected error in register",l)}}}}Vb();const ux={url:rb,storageKey:sb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ob,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function jg(n,e,t){return await t()}const ks={};class na{get jwks(){var e,t;return(t=(e=ks[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){ks[this.storageKey]=Object.assign(Object.assign({},ks[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=ks[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ks[this.storageKey]=Object.assign(Object.assign({},ks[this.storageKey]),{cachedAt:e})}constructor(e){var t,i,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},ux),e);if(this.storageKey=o.storageKey,this.instanceID=(t=na.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,na.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&St()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Ub({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=zy(o.fetch),this.lock=o.lock||jg,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&St()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=Wb:this.lock=jg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new lx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:jy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ng(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Ng(this.memoryStorage)),St()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Dy}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},i="none";if(St()&&(t=bb(window.location.href),this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce")),St()&&this.detectSessionInUrl&&i!=="none"){const{data:r,error:o}=await this._getSessionFromURL(t,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),db(o)){const h=(e=o.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=r;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return le(t)?this._returnResult({error:t}):this._returnResult({error:new Or("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,r;try{const o=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:Pn}),{data:l,error:u}=o;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const h=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:d,session:h},error:null})}catch(o){if(le(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var t,i,r;try{let o;if("email"in e){const{email:p,password:m,options:v}=e;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await bs(this.storage,this.storageKey)),o=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:p,password:m,data:(t=v==null?void 0:v.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:S},xform:Pn})}else if("phone"in e){const{phone:p,password:m,options:v}=e;o=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(i=v==null?void 0:v.data)!==null&&i!==void 0?i:{},channel:(r=v==null?void 0:v.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Pn})}else throw new Al("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return await xt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const h=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:d,session:h},error:null})}catch(o){if(await xt(this.storage,`${this.storageKey}-code-verifier`),le(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:l,options:u}=e;t=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Ig})}else if("phone"in e){const{phone:o,password:l,options:u}=e;t=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Ig})}else throw new Al("You must provide either an email or phone number and a password");const{data:i,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!i||!i.session||!i.user){const o=new ws;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:r})}catch(t){if(le(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,i,r,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,i,r,o,l,u,h,d,p,m,v;let _,S;if("message"in e)_=e.message,S=e.signature;else{const{chain:b,wallet:E,statement:C,options:T}=e;let O;if(St())if(typeof E=="object")O=E;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")O=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=E}const M=new URL((t=T==null?void 0:T.url)!==null&&t!==void 0?t:window.location.href),N=await O.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=$y(N[0]);let U=(i=T==null?void 0:T.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!U){const Z=await O.request({method:"eth_chainId"});U=Hb(Z)}const H={domain:M.host,address:$,statement:C,uri:M.href,version:"1",chainId:U,nonce:(r=T==null?void 0:T.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(l=(o=T==null?void 0:T.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=T==null?void 0:T.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(h=T==null?void 0:T.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(d=T==null?void 0:T.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(p=T==null?void 0:T.signInWithEthereum)===null||p===void 0?void 0:p.resources};_=Kb(H),S=await O.request({method:"personal_sign",params:[qb(_),$]})}try{const{data:b,error:E}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:S},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Pn});if(E)throw E;if(!b||!b.session||!b.user){const C=new ws;return this._returnResult({data:{user:null,session:null},error:C})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:E})}catch(b){if(le(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var t,i,r,o,l,u,h,d,p,m,v,_;let S,b;if("message"in e)S=e.message,b=e.signature;else{const{chain:E,wallet:C,statement:T,options:O}=e;let M;if(St())if(typeof C=="object")M=C;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))M=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=C}const N=new URL((t=O==null?void 0:O.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in M&&M.signIn){const $=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),T?{statement:T}:null));let U;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")U=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)U=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)S=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),b=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${N.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(r=(i=O==null?void 0:O.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((o=O==null?void 0:O.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((l=O==null?void 0:O.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((u=O==null?void 0:O.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((h=O==null?void 0:O.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((d=O==null?void 0:O.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((m=(p=O==null?void 0:O.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...O.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const $=await M.signMessage(new TextEncoder().encode(S),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=$}}try{const{data:E,error:C}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Rr(b)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Pn});if(C)throw C;if(!E||!E.session||!E.user){const T=new ws;return this._returnResult({data:{user:null,session:null},error:T})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:C})}catch(E){if(le(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const t=await br(this.storage,`${this.storageKey}-code-verifier`),[i,r]=(t??"").split("/");try{if(!i&&this.flowType==="pkce")throw new fb;const{data:o,error:l}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Pn});if(await xt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const u=new ws;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:r??null}),error:l})}catch(o){if(await xt(this.storage,`${this.storageKey}-code-verifier`),le(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:t,provider:i,token:r,access_token:o,nonce:l}=e,u=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Pn}),{data:h,error:d}=u;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!h||!h.session||!h.user){const p=new ws;return this._returnResult({data:{user:null,session:null},error:p})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:d})}catch(t){if(le(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,i,r,o,l;try{if("email"in e){const{email:u,options:h}=e;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await bs(this.storage,this.storageKey));const{error:m}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},create_user:(i=h==null?void 0:h.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:d,code_challenge_method:p},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:u,options:h}=e,{data:d,error:p}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},create_user:(o=h==null?void 0:h.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(l=h==null?void 0:h.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:p})}throw new Al("You must provide either an email or phone number.")}catch(u){if(await xt(this.storage,`${this.storageKey}-code-verifier`),le(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var t,i;try{let r,o;"options"in e&&(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:u}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:r,xform:Pn});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const h=l.session,d=l.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:d,session:h},error:null})}catch(r){if(le(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var t,i,r,o,l;try{let u=null,h=null;this.flowType==="pkce"&&([u,h]=await bs(this.storage,this.storageKey));const d=await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:zb});return!((o=d.data)===null||o===void 0)&&o.url&&St()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(u){if(await xt(this.storage,`${this.storageKey}-code-verifier`),le(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new nn;const{error:r}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(le(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:r,options:o}=e,{error:l}=await ge(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:i,type:r,options:o}=e,{data:l,error:u}=await ge(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new Al("You must provide either an email or phone number and a type")}catch(t){if(le(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await br(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<ph:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const l=await br(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=yh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=Db(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:qi}):await this._useSession(async t=>{var i,r,o;const{data:l,error:u}=t;if(u)throw u;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nn}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0,xform:qi})})}catch(t){if(le(t))return hb(t)&&(await this._removeSession(),await xt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:r,error:o}=i;if(o)throw o;if(!r.session)throw new nn;const l=r.session;let u=null,h=null;this.flowType==="pkce"&&e.email!=null&&([u,h]=await bs(this.storage,this.storageKey));const{data:d,error:p}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:h}),jwt:l.access_token,xform:qi});if(p)throw p;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(i){if(await xt(this.storage,`${this.storageKey}-code-verifier`),le(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new nn;const t=Date.now()/1e3;let i=t,r=!0,o=null;const{payload:l}=mh(e.access_token);if(l.exp&&(i=l.exp,r=i<=t),r){const{data:u,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:h}=await this._getUser(e.access_token);if(h)throw h;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(t){if(le(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:l,error:u}=t;if(u)throw u;e=(i=l.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new nn;const{data:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(le(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!St())throw new Ml("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ml(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Tg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ml("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Tg("No code detected.");const{data:T,error:O}=await this._exchangeCodeForSession(e.code);if(O)throw O;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:r,access_token:o,refresh_token:l,expires_in:u,expires_at:h,token_type:d}=e;if(!o||!u||!l||!d)throw new Ml("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(u);let v=p+m;h&&(v=parseInt(h));const _=v-p;_*1e3<=Cs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${m}s`);const S=v-m;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,p);const{data:b,error:E}=await this._getUser(o);if(E)throw E;const C={provider_token:i,provider_refresh_token:r,access_token:o,expires_in:m,expires_at:v,refresh_token:l,token_type:d,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(i){if(le(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await br(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:r,error:o}=t;if(o)return this._returnResult({error:o});const l=(i=r.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(cb(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await xt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=wb(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,r;try{const{data:{session:o},error:l}=t;if(l)throw l;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let i=null,r=null;this.flowType==="pkce"&&([i,r]=await bs(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(await xt(this.storage,`${this.storageKey}-code-verifier`),le(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(le(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:i,error:r}=await this._useSession(async o=>{var l,u,h,d,p;const{data:m,error:v}=o;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&p!==void 0?p:void 0})});if(r)throw r;return St()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(le(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var i;try{const{error:r,data:{session:o}}=t;if(r)throw r;const{options:l,provider:u,token:h,access_token:d,nonce:p}=e,m=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o==null?void 0:o.access_token)!==null&&i!==void 0?i:void 0,body:{provider:u,id_token:h,access_token:d,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Pn}),{data:v,error:_}=m;return _?this._returnResult({data:{user:null,session:null},error:_}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new ws}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:_}))}catch(r){if(await xt(this.storage,`${this.storageKey}-code-verifier`),le(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,r;const{data:o,error:l}=t;if(l)throw l;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0})})}catch(t){if(le(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await kb(async r=>(r>0&&await Sb(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Pn})),(r,o)=>{const l=200*Math.pow(2,r);return o&&gh(o)&&Date.now()+l-i<Cs})}catch(i){if(this._debug(t,"error",i),le(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),St()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const r=await br(this.storage,this.storageKey);if(r&&this.userStorage){let l=await br(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:r.user},await Os(this.userStorage,this.storageKey+"-user",l)),r.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:yh()}else if(r&&!r.user&&!r.user){const l=await br(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(r.user=l.user,await xt(this.storage,this.storageKey+"-user"),await Os(this.storage,this.storageKey,r)):r.user=yh()}if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}const o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ph;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${ph}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),gh(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(r.access_token);!u&&(l!=null&&l.user)?(r.user=l.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(i,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new vu;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new nn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(r,"error",o),le(o)){const l={data:null,error:o};return gh(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,i=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,t)}catch(h){o.push(h)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await xt(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await Os(this.userStorage,this.storageKey+"-user",{user:t.user});const r=Object.assign({},t);delete r.user;const o=Ag(r);await Os(this.storage,this.storageKey,o)}else{const r=Ag(t);await Os(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await xt(this.storage,this.storageKey),await xt(this.storage,this.storageKey+"-code-verifier"),await xt(this.storage,this.storageKey+"-user"),this.userStorage&&await xt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&St()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Cs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((i.expires_at*1e3-e)/Cs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Cs}ms, refresh threshold is ${Bh} ticks`),r<=Bh&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!St()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const r=[`provider=${encodeURIComponent(t)}`];if(i!=null&&i.redirectTo&&r.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&r.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,l]=await bs(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});r.push(u.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);r.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&r.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:r,error:o}=t;return o?this._returnResult({data:null,error:o}):await ge(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(le(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,r;const{data:o,error:l}=t;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:d}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&h.type==="totp"&&(!((r=h==null?void 0:h.totp)===null||r===void 0)&&r.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(t){if(le(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:r,error:o}=t;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?ex(e.webauthn.credential_response):tx(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:h}=await ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:h}))})}catch(t){if(le(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:r,error:o}=t;if(o)return this._returnResult({data:null,error:o});const l=await ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Qb(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Zb(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(le(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};const r={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])r.all.push(o),o.status==="verified"&&r[o.factor_type].push(o);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:i},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=mh(i.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((t=(e=i.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:i},error:r}=t;return r?this._returnResult({data:null,error:r}):i?await ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new nn})})}catch(t){if(le(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:r},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!r)return this._returnResult({data:null,error:new nn});const l=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&St()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:r},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!r)return this._returnResult({data:null,error:new nn});const l=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&St()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;return i?this._returnResult({data:null,error:i}):t?await ge(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new nn})})}catch(e){if(le(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:i},error:r}=t;return r?this._returnResult({data:null,error:r}):i?(await ge(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new nn})})}catch(t){if(le(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(u=>u.kid===e);if(i)return i;const r=Date.now();if(i=this.jwks.keys.find(u=>u.kid===e),i&&this.jwks_cached_at+lb>r)return i;const{data:o,error:l}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=r,i=o.keys.find(u=>u.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:_,error:S}=await this.getSession();if(S||!_.session)return this._returnResult({data:null,error:S});i=_.session.access_token}const{header:r,payload:o,signature:l,raw:{header:u,payload:h}}=mh(i);t!=null&&t.allowExpired||Ab(o.exp);const d=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!d){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:o,header:r,signature:l},error:null}}const p=Mb(r.alg),m=await crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,l,vb(`${u}.${h}`)))throw new Hh("Invalid JWT signature");return{data:{claims:o,header:r,signature:l},error:null}}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}}}na.nextInstanceID={};const cx=na,hx="2.89.0";let No="";typeof Deno<"u"?No="deno":typeof document<"u"?No="web":typeof navigator<"u"&&navigator.product==="ReactNative"?No="react-native":No="node";const dx={"X-Client-Info":`supabase-js-${No}/${hx}`},fx={headers:dx},px={schema:"public"},gx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mx={};function ia(n){"@babel/helpers - typeof";return ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ia(n)}function yx(n,e){if(ia(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(ia(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function vx(n){var e=yx(n,"string");return ia(e)=="symbol"?e:e+""}function _x(n,e,t){return(e=vx(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zg(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function tt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zg(Object(t),!0).forEach(function(i){_x(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zg(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const wx=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),bx=()=>Headers,xx=(n,e,t)=>{const i=wx(t),r=bx();return async(o,l)=>{var u;const h=(u=await e())!==null&&u!==void 0?u:n;let d=new r(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",n),d.has("Authorization")||d.set("Authorization",`Bearer ${h}`),i(o,tt(tt({},l),{},{headers:d}))}};function Sx(n){return n.endsWith("/")?n:n+"/"}function kx(n,e){var t,i;const{db:r,auth:o,realtime:l,global:u}=n,{db:h,auth:d,realtime:p,global:m}=e,v={db:tt(tt({},h),r),auth:tt(tt({},d),o),realtime:tt(tt({},p),l),storage:{},global:tt(tt(tt({},m),u),{},{headers:tt(tt({},(t=m==null?void 0:m.headers)!==null&&t!==void 0?t:{}),(i=u==null?void 0:u.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}function Ex(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Sx(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Tx=class extends cx{constructor(n){super(n)}},Px=class{constructor(n,e,t){var i,r;this.supabaseUrl=n,this.supabaseKey=e;const o=Ex(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:px,realtime:mx,auth:tt(tt({},gx),{},{storageKey:l}),global:fx},h=kx(t??{},u);if(this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=h.global.headers)!==null&&r!==void 0?r:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=h.auth)!==null&&d!==void 0?d:{},this.headers,h.global.fetch)}this.fetch=xx(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(tt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new ow(new URL("rest/v1",o).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new ib(this.storageUrl.href,this.headers,this.fetch,t==null?void 0:t.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new tw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,t)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,t;if(n.accessToken)return await n.accessToken();const{data:i}=await n.auth.getSession();return(e=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:i,userStorage:r,storageKey:o,flowType:l,lock:u,debug:h,throwOnError:d},p,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Tx({url:this.authUrl.href,headers:tt(tt({},v),p),storageKey:o,autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:i,userStorage:r,flowType:l,lock:u,debug:h,throwOnError:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Sw(this.realtimeUrl.href,tt(tt({},n),{},{params:tt(tt({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(n,e,t){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Cx=(n,e,t)=>new Px(n,e,t);function Ox(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Ox()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Rx="https://wynswmsvjfoyyhyiiibi.supabase.co",Ax="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind5bnN3bXN2amZveXloeWlpaWJpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQwMDEyMzEsImV4cCI6MjA3OTU3NzIzMX0.f6p21hrZBb_a23tr2Aw2F08Ln2Z_RI9FKdABe3JlZkE",xd=Cx(Rx,Ax);async function jr(n,e,t,i){try{const{data:r,error:o}=await xd.from("telemetry_data").select("payload").eq("year",n).eq("grand_prix",e).eq("session",t).eq("data_type",i).single();return o?(console.error(`Error fetching ${i}:`,o),null):r==null?void 0:r.payload}catch(r){return console.error(`Failed to fetch ${i}:`,r),null}}async function Mx(n,e,t){return await jr(n,e,t,"session_results")||[]}async function Ix(n,e,t){return await jr(n,e,t,"podium")||[]}async function Dx(n,e,t){const i=await jr(n,e,t,"fastest_lap");if(!i)return null;const r=JSON.stringify(i).replace(/\bNaN\b/g,"null");return JSON.parse(r)}async function Nx(n,e,t){return await jr(n,e,t,"get_session_data")}async function Lx(n,e,t){return await jr(n,e,t,"track_dominance")||[]}async function jx(n,e,t){return await jr(n,e,t,"tyres")||[]}async function zx(n,e,t){return await jr(n,e,t,"lap_chart_data")||[]}async function Fx(n){try{const{data:e,error:t}=await xd.from("telemetry_data").select("grand_prix, payload").eq("year",n).eq("data_type","get_session_data");if(t)return console.error("Error fetching Grand Prix options:",t),[];const i=new Map;e.forEach(o=>{var l;(l=o.payload)!=null&&l.EventDate&&!i.has(o.grand_prix)&&i.set(o.grand_prix,o.payload.EventDate)});const r=Array.from(i.entries()).map(([o,l])=>({gp:o,date:l}));return r.sort((o,l)=>{const u=new Date(o.date),h=new Date(l.date);return u.getTime()-h.getTime()}),r.map(({gp:o})=>({value:o,label:o}))}catch(e){return console.error("Failed to fetch Grand Prix options:",e),[]}}async function $x(n,e){try{const{data:t,error:i}=await xd.from("telemetry_data").select("session").eq("year",n).eq("grand_prix",e);if(i)return console.error("Error fetching session options:",i),[];const r=[...new Set(t.map(l=>l.session))],o={"Practice 1":1,"Practice 2":2,"Practice 3":3,"Sprint Qualifying":4,Sprint:5,Qualifying:6,Race:7};return r.sort((l,u)=>{const h=o[l]??99,d=o[u]??99;return h-d}),r.map(l=>({value:l,label:l}))}catch(t){return console.error("Failed to fetch session options:",t),[]}}async function Ux(){return[2025,2024,2023,2022,2021,2020,2019,2018]}function Yn(n,e,t){const[i,r]=je.useState(t),[o,l]=je.useState(!0),[u,h]=je.useState(null);return je.useEffect(()=>{if(l(!0),h(null),!e.every(m=>typeof m=="number"?m>0:typeof m=="string"?m.length>0:!!m)){l(!1);return}let p=!0;return n().then(m=>{p&&(r(m),l(!1))}).catch(m=>{p&&(h(m instanceof Error?m:new Error("Unknown error")),l(!1))}),()=>{p=!1}},e),{data:i,loading:o,error:u}}function Sd(n,e,t){return Yn(()=>Mx(n,e,t),[n,e,t],[])}function Bx(n,e,t){return Yn(()=>Ix(n,e,t),[n,e,t],[])}function Wx(n,e,t){return Yn(()=>Dx(n,e,t),[n,e,t],null)}function Vx(n,e,t){return Yn(()=>Nx(n,e,t),[n,e,t],null)}function Hx(n,e,t){return Yn(()=>Lx(n,e,t),[n,e,t],[])}function qx(n,e,t){return Yn(()=>jx(n,e,t),[n,e,t],[])}function Kx(n,e,t){return Yn(()=>zx(n,e,t),[n,e,t],[])}function Yx(n){return Yn(()=>Fx(n),[n],[])}function Gx(n,e){return Yn(()=>$x(n,e),[n,e],[])}function Xx(){return Yn(()=>Ux(),[],[2024])}const Jx=({onSelect:n})=>{const{data:e}=Xx();return W.jsx(md,{options:e,placeholder:"Year",onSelect:t=>n(Number(t))})},Qx=({year:n,onSelect:e})=>{const{data:t}=Yx(n),i=t.map(r=>r.value);return W.jsx(md,{options:i,placeholder:"Grand Prix",onSelect:r=>e(String(r))})},Zx=({year:n,grandPrix:e,onSelect:t})=>{const{data:i}=Gx(n,e),r=i.map(o=>o.value).filter(o=>o&&o!=="None");return W.jsx(md,{options:r,placeholder:"Session",onSelect:o=>t(String(o))})};function By(n){var i;if(!n)return"N/A";const e=n.replace(/0 days\s|^00:/g,"").split(".");return`${e[0].replace(/^0:0/,"").replace(/^0:/,"")}.${((i=e[1])==null?void 0:i.slice(0,3))||"000"}`}function eS(n){if(!n)return"N/A";const e=n.match(/(\d{2}):(\d{2}):(\d{2}\.\d+)/);if(!e)return"N/A";const[,t,i,r]=e;return`+${(parseFloat(t)*3600+parseFloat(i)*60+parseFloat(r)).toFixed(3)}`}function tS(n,e,t){const{Status:i,Time:r}=n;if(i.includes("+")){const o=i.match(/\+(\d+) Lap/);if(o){const l=parseInt(o[1]);return`+${l} Lap${l>1?"s":""}`}}return i!=="Finished"?"DNF":t?By(r):eS(r)}function nS(n){if(!n)return"Unknown Date";try{return new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return"Unknown Date"}}const iS=({year:n,grandPrix:e,session:t})=>{var o;const{data:i}=Sd(n,e,t),r=((o=i[0])==null?void 0:o.Time)||null;return W.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl border border-gray-700 overflow-hidden h-fit",children:[W.jsx("div",{className:"bg-red-600 px-4 py-3",children:W.jsx("h2",{className:"text-lg font-bold text-white",children:"Session Results"})}),W.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:W.jsxs("table",{className:"table-auto w-full border-collapse",children:[W.jsx("thead",{className:"sticky top-0 bg-gray-900",children:W.jsxs("tr",{children:[W.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-300",children:"POS"}),W.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-300",children:"DRIVER"}),W.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold text-gray-300",children:"TIME"})]})}),W.jsx("tbody",{className:"text-white",children:i.map((l,u)=>W.jsxs("tr",{className:u%2===0?"bg-gray-900/60":"bg-gray-800/40",children:[W.jsx("td",{className:"px-3 py-2 text-left font-bold text-sm",children:l.Position||"N/A"}),W.jsx("td",{className:"px-3 py-2",children:W.jsxs("div",{className:"flex items-center gap-2",children:[l.TeamLogo&&W.jsx("img",{src:l.TeamLogo,alt:l.TeamName,className:"w-4 h-4 rounded-full"}),W.jsx("span",{className:"text-sm",children:l.Abbreviation})]})}),W.jsx("td",{className:"px-3 py-2 text-right font-mono text-sm",children:tS(l,r,u===0)})]},u))})]})})]})},Fg={SOFT:"#FF1E1E",MEDIUM:"#FFD700",HARD:"#FFFFFF",INTERMEDIATE:"#00C16E",WET:"#007BFF",UNKNOWN:"#999999"},rS={RED:"#E10600",BLACK:"#15151E",WHITE:"#FFFFFF",FASTEST_LAP:"#AE38E0"};function Wy(n){return`svgs/${n.toLowerCase()}tyre.svg`}const sS="/telemetrics/src/assets/team_logos/";function oS(n){const e=n.toLowerCase().replace(/\s+/g,"-");return`${sS}${e}.png`}function $g(n,e=30){const t=n.replace("#",""),i=parseInt(t.substring(0,2),16),r=parseInt(t.substring(2,4),16),o=parseInt(t.substring(4,6),16),l=Math.min(255,Math.max(0,i+e)),u=Math.min(255,Math.max(0,r+e)),h=Math.min(255,Math.max(0,o+e));return`#${l.toString(16).padStart(2,"0")}${u.toString(16).padStart(2,"0")}${h.toString(16).padStart(2,"0")}`}const aS={Bahrain:"","Saudi Arabia":"",Australia:"",Azerbaijan:"",USA:"",Italy:"",Monaco:"",Spain:"",Canada:"",Austria:"","Great Britain":"",UK:"",Hungary:"",Belgium:"",Netherlands:"",Singapore:"",Japan:"",Qatar:"",Mexico:"",Brazil:"","Las Vegas":"","Abu Dhabi":"",UAE:"",China:"",France:"",Germany:"",Russia:"",Turkey:"",Portugal:"",India:"",Malaysia:"",Korea:"","South Korea":"",Argentina:"","South Africa":"",Morocco:""};function lS(n){return aS[n]||""}const uS=({year:n,grandPrix:e,session:t})=>{const{data:i,loading:r}=Wx(n,e,t);if(r||!i)return W.jsx("div",{className:"text-gray-500",children:"Loading fastest lap..."});const{Driver:o,LapTime:l,LapNumber:u,TyreAge:h,TyreCompound:d}=i,p=By(l),m="svgs/fastestlap.svg",v=Wy(d);return W.jsx("div",{className:"bg-gray-800 rounded-lg shadow-xl border border-gray-700 overflow-hidden",children:W.jsx("div",{className:"px-4 py-3",style:{backgroundColor:rS.FASTEST_LAP},children:W.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx("img",{src:m,alt:"Timer icon",className:"w-5 h-5"}),W.jsx("span",{className:"font-bold text-white text-sm",children:"FASTEST LAP"})]}),W.jsxs("div",{className:"flex items-center gap-4 text-white",children:[W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx("img",{src:v,alt:`${d} Tyre`,className:"w-5 h-5"}),W.jsx("span",{className:"font-mono font-bold text-lg",children:p})]}),W.jsx("span",{className:"text-sm",children:"-"}),W.jsx("strong",{className:"text-lg",children:o}),W.jsxs("span",{className:"text-sm",children:["LAP ",u]}),W.jsxs("span",{className:"text-xs text-purple-200",children:["Age: ",h]})]})]})})})},cS=({year:n,grandPrix:e,session:t})=>{const{data:i}=Vx(n,e,t);if(!i)return null;const{Country:r="Unknown",Location:o="Unknown",EventName:l="Unknown Event",EventDate:u="Unknown Date",OfficialEventName:h="Unknown",TotalLaps:d="Unknown"}=i,p=nS(u),m=lS(r);return W.jsx("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 rounded-lg shadow-xl border border-gray-700 overflow-hidden",children:W.jsx("div",{className:"p-6",children:W.jsx("div",{className:"flex items-center justify-between flex-wrap gap-4",children:W.jsxs("div",{className:"flex-1",children:[W.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:h}),W.jsxs("div",{className:"flex items-center gap-4 text-gray-300 text-sm",children:[W.jsxs("span",{className:"flex items-center gap-2",children:[W.jsx("span",{className:"text-xl",children:m}),W.jsxs("span",{children:[o,", ",r]})]}),W.jsx("span",{className:"text-gray-500",children:"|"}),W.jsx("span",{children:p}),W.jsx("span",{className:"text-gray-500",children:"|"}),W.jsxs("span",{className:"font-semibold text-red-400",children:[d," Laps"]})]})]})})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function fa(n){return n+.5|0}const Ki=(n,e,t)=>Math.max(Math.min(n,t),e);function Lo(n){return Ki(fa(n*2.55),0,255)}function Ji(n){return Ki(fa(n*255),0,255)}function di(n){return Ki(fa(n/2.55)/100,0,1)}function Ug(n){return Ki(fa(n*100),0,100)}const mn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},qh=[..."0123456789ABCDEF"],hS=n=>qh[n&15],dS=n=>qh[(n&240)>>4]+qh[n&15],Il=n=>(n&240)>>4===(n&15),fS=n=>Il(n.r)&&Il(n.g)&&Il(n.b)&&Il(n.a);function pS(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&mn[n[1]]*17,g:255&mn[n[2]]*17,b:255&mn[n[3]]*17,a:e===5?mn[n[4]]*17:255}:(e===7||e===9)&&(t={r:mn[n[1]]<<4|mn[n[2]],g:mn[n[3]]<<4|mn[n[4]],b:mn[n[5]]<<4|mn[n[6]],a:e===9?mn[n[7]]<<4|mn[n[8]]:255})),t}const gS=(n,e)=>n<255?e(n):"";function mS(n){var e=fS(n)?hS:dS;return n?"#"+e(n.r)+e(n.g)+e(n.b)+gS(n.a,e):void 0}const yS=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Vy(n,e,t){const i=e*Math.min(t,1-t),r=(o,l=(o+n/30)%12)=>t-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function vS(n,e,t){const i=(r,o=(r+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function _S(n,e,t){const i=Vy(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function wS(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function kd(n){const t=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(t,i,r),l=Math.min(t,i,r),u=(o+l)/2;let h,d,p;return o!==l&&(p=o-l,d=u>.5?p/(2-o-l):p/(o+l),h=wS(t,i,r,p,o),h=h*60+.5),[h|0,d||0,u]}function Ed(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Ji)}function Td(n,e,t){return Ed(Vy,n,e,t)}function bS(n,e,t){return Ed(_S,n,e,t)}function xS(n,e,t){return Ed(vS,n,e,t)}function Hy(n){return(n%360+360)%360}function SS(n){const e=yS.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Lo(+e[5]):Ji(+e[5]));const r=Hy(+e[2]),o=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=bS(r,o,l):e[1]==="hsv"?i=xS(r,o,l):i=Td(r,o,l),{r:i[0],g:i[1],b:i[2],a:t}}function kS(n,e){var t=kd(n);t[0]=Hy(t[0]+e),t=Td(t),n.r=t[0],n.g=t[1],n.b=t[2]}function ES(n){if(!n)return;const e=kd(n),t=e[0],i=Ug(e[1]),r=Ug(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${di(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const Bg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Wg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function TS(){const n={},e=Object.keys(Wg),t=Object.keys(Bg);let i,r,o,l,u;for(i=0;i<e.length;i++){for(l=u=e[i],r=0;r<t.length;r++)o=t[r],u=u.replace(o,Bg[o]);o=parseInt(Wg[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let Dl;function PS(n){Dl||(Dl=TS(),Dl.transparent=[0,0,0,0]);const e=Dl[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const CS=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function OS(n){const e=CS.exec(n);let t=255,i,r,o;if(e){if(e[7]!==i){const l=+e[7];t=e[8]?Lo(l):Ki(l*255,0,255)}return i=+e[1],r=+e[3],o=+e[5],i=255&(e[2]?Lo(i):Ki(i,0,255)),r=255&(e[4]?Lo(r):Ki(r,0,255)),o=255&(e[6]?Lo(o):Ki(o,0,255)),{r:i,g:r,b:o,a:t}}}function RS(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${di(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const _h=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Es=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function AS(n,e,t){const i=Es(di(n.r)),r=Es(di(n.g)),o=Es(di(n.b));return{r:Ji(_h(i+t*(Es(di(e.r))-i))),g:Ji(_h(r+t*(Es(di(e.g))-r))),b:Ji(_h(o+t*(Es(di(e.b))-o))),a:n.a+t*(e.a-n.a)}}function Nl(n,e,t){if(n){let i=kd(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=Td(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function qy(n,e){return n&&Object.assign(e||{},n)}function Vg(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Ji(n[3]))):(e=qy(n,{r:0,g:0,b:0,a:1}),e.a=Ji(e.a)),e}function MS(n){return n.charAt(0)==="r"?OS(n):SS(n)}class ra{constructor(e){if(e instanceof ra)return e;const t=typeof e;let i;t==="object"?i=Vg(e):t==="string"&&(i=pS(e)||PS(e)||MS(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=qy(this._rgb);return e&&(e.a=di(e.a)),e}set rgb(e){this._rgb=Vg(e)}rgbString(){return this._valid?RS(this._rgb):void 0}hexString(){return this._valid?mS(this._rgb):void 0}hslString(){return this._valid?ES(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let o;const l=t===o?.5:t,u=2*l-1,h=i.a-r.a,d=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;o=1-d,i.r=255&d*i.r+o*r.r+.5,i.g=255&d*i.g+o*r.g+.5,i.b=255&d*i.b+o*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=AS(this._rgb,e._rgb,t)),this}clone(){return new ra(this.rgb)}alpha(e){return this._rgb.a=Ji(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=fa(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Nl(this._rgb,2,e),this}darken(e){return Nl(this._rgb,2,-e),this}saturate(e){return Nl(this._rgb,1,e),this}desaturate(e){return Nl(this._rgb,1,-e),this}rotate(e){return kS(this._rgb,e),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function li(){}const IS=(()=>{let n=0;return()=>n++})();function Ae(n){return n==null}function He(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Me(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function nt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function rn(n,e){return nt(n)?n:e}function xe(n,e){return typeof n>"u"?e:n}const DS=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,Ky=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function ye(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Re(n,e,t,i){let r,o,l;if(He(n))for(o=n.length,r=0;r<o;r++)e.call(t,n[r],r);else if(Me(n))for(l=Object.keys(n),o=l.length,r=0;r<o;r++)e.call(t,n[l[r]],l[r])}function lu(n,e){let t,i,r,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],o=e[t],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function uu(n){if(He(n))return n.map(uu);if(Me(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=uu(n[t[r]]);return e}return n}function Yy(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function NS(n,e,t,i){if(!Yy(n))return;const r=e[n],o=t[n];Me(r)&&Me(o)?Kn(r,o,i):e[n]=uu(o)}function Kn(n,e,t){const i=He(e)?e:[e],r=i.length;if(!Me(n))return n;t=t||{};const o=t.merger||NS;let l;for(let u=0;u<r;++u){if(l=i[u],!Me(l))continue;const h=Object.keys(l);for(let d=0,p=h.length;d<p;++d)o(h[d],n,l,t)}return n}function Bo(n,e){return Kn(n,e,{merger:LS})}function LS(n,e,t){if(!Yy(n))return;const i=e[n],r=t[n];Me(i)&&Me(r)?Bo(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=uu(r))}const Hg={"":n=>n,x:n=>n.x,y:n=>n.y};function jS(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function zS(n){const e=jS(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Qi(n,e){return(Hg[e]||(Hg[e]=zS(e)))(n)}function Pd(n){return n.charAt(0).toUpperCase()+n.slice(1)}const sa=n=>typeof n<"u",Zi=n=>typeof n=="function",qg=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function FS(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ye=Math.PI,qe=2*Ye,$S=qe+Ye,cu=Number.POSITIVE_INFINITY,US=Ye/180,ot=Ye/2,xr=Ye/4,Kg=Ye*2/3,Yi=Math.log10,yn=Math.sign;function Mr(n,e,t){return Math.abs(n-e)<t}function Yg(n){const e=Math.round(n);n=Mr(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Yi(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function BS(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,o)=>r-o).pop(),e}function Ds(n){return!isNaN(parseFloat(n))&&isFinite(n)}function WS(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function Gy(n,e,t){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Rn(n){return n*(Ye/180)}function Cd(n){return n*(180/Ye)}function Gg(n){if(!nt(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Xy(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let o=Math.atan2(i,t);return o<-.5*Ye&&(o+=qe),{angle:o,distance:r}}function Kh(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function VS(n,e){return(n-e+$S)%qe-Ye}function sn(n){return(n%qe+qe)%qe}function oa(n,e,t,i){const r=sn(n),o=sn(e),l=sn(t),u=sn(o-r),h=sn(l-r),d=sn(r-o),p=sn(r-l);return r===o||r===l||i&&o===l||u>h&&d<p}function _t(n,e,t){return Math.max(e,Math.min(t,n))}function HS(n){return _t(n,-32768,32767)}function fi(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function Od(n,e,t){t=t||(l=>n[l]<e);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,t(o)?r=o:i=o;return{lo:r,hi:i}}const pi=(n,e,t,i)=>Od(n,t,i?r=>{const o=n[r][e];return o<t||o===t&&n[r+1][e]===t}:r=>n[r][e]<t),qS=(n,e,t)=>Od(n,t,i=>n[i][e]>=t);function KS(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const Jy=["push","pop","shift","splice","unshift"];function YS(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Jy.forEach(t=>{const i="_onData"+Pd(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const l=r.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function Xg(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(Jy.forEach(o=>{delete n[o]}),delete n._chartjs)}function Qy(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Zy=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function ev(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,Zy.call(window,()=>{i=!1,n.apply(e,t)}))}}function GS(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const Rd=n=>n==="start"?"left":n==="end"?"right":"center",Rt=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,XS=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function tv(n,e,t){const i=e.length;let r=0,o=i;if(n._sorted){const{iScale:l,_parsed:u}=n,h=l.axis,{min:d,max:p,minDefined:m,maxDefined:v}=l.getUserBounds();m&&(r=_t(Math.min(pi(u,h,d).lo,t?i:pi(e,h,l.getPixelForValue(d)).lo),0,i-1)),v?o=_t(Math.max(pi(u,l.axis,p,!0).hi+1,t?0:pi(e,h,l.getPixelForValue(p),!0).hi+1),r,i)-r:o=i-r}return{start:r,count:o}}function nv(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),o}const Ll=n=>n===0||n===1,Jg=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*qe/t)),Qg=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*qe/t)+1,Wo={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ot)+1,easeOutSine:n=>Math.sin(n*ot),easeInOutSine:n=>-.5*(Math.cos(Ye*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Ll(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Ll(n)?n:Jg(n,.075,.3),easeOutElastic:n=>Ll(n)?n:Qg(n,.075,.3),easeInOutElastic(n){return Ll(n)?n:n<.5?.5*Jg(n*2,.1125,.45):.5+.5*Qg(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Wo.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Wo.easeInBounce(n*2)*.5:Wo.easeOutBounce(n*2-1)*.5+.5};function Ad(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Zg(n){return Ad(n)?n:new ra(n)}function wh(n){return Ad(n)?n:new ra(n).saturate(.5).darken(.1).hexString()}const JS=["x","y","borderWidth","radius","tension"],QS=["color","borderColor","backgroundColor"];function ZS(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:QS},numbers:{type:"number",properties:JS}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function ek(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const em=new Map;function tk(n,e){e=e||{};const t=n+JSON.stringify(e);let i=em.get(t);return i||(i=new Intl.NumberFormat(n,e),em.set(t,i)),i}function pa(n,e,t){return tk(e,t).format(n)}const iv={values(n){return He(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),o=nk(n,t)}const l=Yi(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),pa(n,i,h)},logarithmic(n,e,t){if(n===0)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(Yi(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?iv.numeric.call(this,n,e,t):""}};function nk(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var _u={formatters:iv};function ik(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_u.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Nr=Object.create(null),Yh=Object.create(null);function Vo(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const o=t[i];n=n[o]||(n[o]=Object.create(null))}return n}function bh(n,e,t){return typeof e=="string"?Kn(Vo(n,e),t):Kn(Vo(n,""),e)}class rk{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>wh(r.backgroundColor),this.hoverBorderColor=(i,r)=>wh(r.borderColor),this.hoverColor=(i,r)=>wh(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return bh(this,e,t)}get(e){return Vo(this,e)}describe(e,t){return bh(Yh,e,t)}override(e,t){return bh(Nr,e,t)}route(e,t,i,r){const o=Vo(this,e),l=Vo(this,i),u="_"+t;Object.defineProperties(o,{[u]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[u],d=l[r];return Me(h)?Object.assign({},d,h):xe(h,d)},set(h){this[u]=h}}})}apply(e){e.forEach(t=>t(this))}}var Ke=new rk({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ZS,ek,ik]);function sk(n){return!n||Ae(n.size)||Ae(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function hu(n,e,t,i,r){let o=e[r];return o||(o=e[r]=n.measureText(r).width,t.push(r)),o>i&&(i=o),i}function ok(n,e,t,i){i=i||{};let r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},o=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let l=0;const u=t.length;let h,d,p,m,v;for(h=0;h<u;h++)if(m=t[h],m!=null&&!He(m))l=hu(n,r,o,l,m);else if(He(m))for(d=0,p=m.length;d<p;d++)v=m[d],v!=null&&!He(v)&&(l=hu(n,r,o,l,v));n.restore();const _=o.length/2;if(_>t.length){for(h=0;h<_;h++)delete r[o[h]];o.splice(0,_)}return l}function Sr(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function tm(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Gh(n,e,t,i){rv(n,e,t,i,null)}function rv(n,e,t,i,r){let o,l,u,h,d,p,m,v;const _=e.pointStyle,S=e.rotation,b=e.radius;let E=(S||0)*US;if(_&&typeof _=="object"&&(o=_.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(E),n.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),n.restore();return}if(!(isNaN(b)||b<=0)){switch(n.beginPath(),_){default:r?n.ellipse(t,i,r/2,b,0,0,qe):n.arc(t,i,b,0,qe),n.closePath();break;case"triangle":p=r?r/2:b,n.moveTo(t+Math.sin(E)*p,i-Math.cos(E)*b),E+=Kg,n.lineTo(t+Math.sin(E)*p,i-Math.cos(E)*b),E+=Kg,n.lineTo(t+Math.sin(E)*p,i-Math.cos(E)*b),n.closePath();break;case"rectRounded":d=b*.516,h=b-d,l=Math.cos(E+xr)*h,m=Math.cos(E+xr)*(r?r/2-d:h),u=Math.sin(E+xr)*h,v=Math.sin(E+xr)*(r?r/2-d:h),n.arc(t-m,i-u,d,E-Ye,E-ot),n.arc(t+v,i-l,d,E-ot,E),n.arc(t+m,i+u,d,E,E+ot),n.arc(t-v,i+l,d,E+ot,E+Ye),n.closePath();break;case"rect":if(!S){h=Math.SQRT1_2*b,p=r?r/2:h,n.rect(t-p,i-h,2*p,2*h);break}E+=xr;case"rectRot":m=Math.cos(E)*(r?r/2:b),l=Math.cos(E)*b,u=Math.sin(E)*b,v=Math.sin(E)*(r?r/2:b),n.moveTo(t-m,i-u),n.lineTo(t+v,i-l),n.lineTo(t+m,i+u),n.lineTo(t-v,i+l),n.closePath();break;case"crossRot":E+=xr;case"cross":m=Math.cos(E)*(r?r/2:b),l=Math.cos(E)*b,u=Math.sin(E)*b,v=Math.sin(E)*(r?r/2:b),n.moveTo(t-m,i-u),n.lineTo(t+m,i+u),n.moveTo(t+v,i-l),n.lineTo(t-v,i+l);break;case"star":m=Math.cos(E)*(r?r/2:b),l=Math.cos(E)*b,u=Math.sin(E)*b,v=Math.sin(E)*(r?r/2:b),n.moveTo(t-m,i-u),n.lineTo(t+m,i+u),n.moveTo(t+v,i-l),n.lineTo(t-v,i+l),E+=xr,m=Math.cos(E)*(r?r/2:b),l=Math.cos(E)*b,u=Math.sin(E)*b,v=Math.sin(E)*(r?r/2:b),n.moveTo(t-m,i-u),n.lineTo(t+m,i+u),n.moveTo(t+v,i-l),n.lineTo(t-v,i+l);break;case"line":l=r?r/2:Math.cos(E)*b,u=Math.sin(E)*b,n.moveTo(t-l,i-u),n.lineTo(t+l,i+u);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(E)*(r?r/2:b),i+Math.sin(E)*b);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function qn(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function wu(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function bu(n){n.restore()}function ak(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if(r==="middle"){const o=(e.x+t.x)/2;n.lineTo(o,e.y),n.lineTo(o,t.y)}else r==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function lk(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function uk(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Ae(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function ck(n,e,t,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),l=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,h=t-o.actualBoundingBoxAscent,d=t+o.actualBoundingBoxDescent,p=r.strikethrough?(h+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function hk(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Lr(n,e,t,i,r,o={}){const l=He(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let h,d;for(n.save(),n.font=r.string,uk(n,o),h=0;h<l.length;++h)d=l[h],o.backdrop&&hk(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Ae(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,t,i,o.maxWidth)),n.fillText(d,t,i,o.maxWidth),ck(n,t,i,d,o),i+=Number(r.lineHeight);n.restore()}function aa(n,e){const{x:t,y:i,w:r,h:o,radius:l}=e;n.arc(t+l.topLeft,i+l.topLeft,l.topLeft,1.5*Ye,Ye,!0),n.lineTo(t,i+o-l.bottomLeft),n.arc(t+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,Ye,ot,!0),n.lineTo(t+r-l.bottomRight,i+o),n.arc(t+r-l.bottomRight,i+o-l.bottomRight,l.bottomRight,ot,0,!0),n.lineTo(t+r,i+l.topRight),n.arc(t+r-l.topRight,i+l.topRight,l.topRight,0,-ot,!0),n.lineTo(t+l.topLeft,i)}const dk=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fk=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function pk(n,e){const t=(""+n).match(dk);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const gk=n=>+n||0;function Md(n,e){const t={},i=Me(e),r=i?Object.keys(e):e,o=Me(n)?i?l=>xe(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of r)t[l]=gk(o(l));return t}function sv(n){return Md(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ir(n){return Md(n,["topLeft","topRight","bottomLeft","bottomRight"])}function kt(n){const e=sv(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ct(n,e){n=n||{},e=e||Ke.font;let t=xe(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=xe(n.style,e.style);i&&!(""+i).match(fk)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:xe(n.family,e.family),lineHeight:pk(xe(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:xe(n.weight,e.weight),string:""};return r.string=sk(r),r}function Ve(n,e,t,i){let r,o,l;for(r=0,o=n.length;r<o;++r)if(l=n[r],l!==void 0&&(e!==void 0&&typeof l=="function"&&(l=l(e)),t!==void 0&&He(l)&&(l=l[t%l.length]),l!==void 0))return l}function mk(n,e,t){const{min:i,max:r}=n,o=Ky(e,(r-i)/2),l=(u,h)=>t&&u===0?0:u+h;return{min:l(i,-Math.abs(o)),max:l(r,o)}}function tr(n,e){return Object.assign(Object.create(n),e)}function Id(n,e=[""],t,i,r=()=>n[0]){const o=t||n;typeof i>"u"&&(i=uv("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:u=>Id([u,...n],e,o,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return av(u,h,()=>kk(h,e,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return im(u).includes(h)},ownKeys(u){return im(u)},set(u,h,d){const p=u._storage||(u._storage=r());return u[h]=p[h]=d,delete u._keys,!0}})}function Ns(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:ov(n,i),setContext:o=>Ns(n,o,t,i),override:o=>Ns(n.override(o),e,t,i)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return av(o,l,()=>vk(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function ov(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:Zi(t)?t:()=>t,isIndexable:Zi(i)?i:()=>i}}const yk=(n,e)=>n?n+Pd(e):e,Dd=(n,e)=>Me(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function av(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function vk(n,e,t){const{_proxy:i,_context:r,_subProxy:o,_descriptors:l}=n;let u=i[e];return Zi(u)&&l.isScriptable(e)&&(u=_k(e,u,n,t)),He(u)&&u.length&&(u=wk(e,u,n,l.isIndexable)),Dd(e,u)&&(u=Ns(u,r,o&&o[e],l)),u}function _k(n,e,t,i){const{_proxy:r,_context:o,_subProxy:l,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=e(o,l||i);return u.delete(n),Dd(n,h)&&(h=Nd(r._scopes,r,n,h)),h}function wk(n,e,t,i){const{_proxy:r,_context:o,_subProxy:l,_descriptors:u}=t;if(typeof o.index<"u"&&i(n))return e[o.index%e.length];if(Me(e[0])){const h=e,d=r._scopes.filter(p=>p!==h);e=[];for(const p of h){const m=Nd(d,r,n,p);e.push(Ns(m,o,l&&l[n],u))}}return e}function lv(n,e,t){return Zi(n)?n(e,t):n}const bk=(n,e)=>n===!0?e:typeof n=="string"?Qi(e,n):void 0;function xk(n,e,t,i,r){for(const o of e){const l=bk(t,o);if(l){n.add(l);const u=lv(l._fallback,t,r);if(typeof u<"u"&&u!==t&&u!==i)return u}else if(l===!1&&typeof i<"u"&&t!==i)return null}return!1}function Nd(n,e,t,i){const r=e._rootScopes,o=lv(e._fallback,t,i),l=[...n,...r],u=new Set;u.add(i);let h=nm(u,l,t,o||t,i);return h===null||typeof o<"u"&&o!==t&&(h=nm(u,l,o,h,i),h===null)?!1:Id(Array.from(u),[""],r,o,()=>Sk(e,t,i))}function nm(n,e,t,i,r){for(;t;)t=xk(n,e,t,i,r);return t}function Sk(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return He(r)&&Me(t)?t:r||{}}function kk(n,e,t,i){let r;for(const o of e)if(r=uv(yk(o,n),t),typeof r<"u")return Dd(n,r)?Nd(t,i,n,r):r}function uv(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function im(n){let e=n._keys;return e||(e=n._keys=Ek(n._scopes)),e}function Ek(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function cv(n,e,t,i){const{iScale:r}=n,{key:o="r"}=this._parsing,l=new Array(i);let u,h,d,p;for(u=0,h=i;u<h;++u)d=u+t,p=e[d],l[u]={r:r.parse(Qi(p,o),d)};return l}const Tk=Number.EPSILON||1e-14,Ls=(n,e)=>e<n.length&&!n[e].skip&&n[e],hv=n=>n==="x"?"y":"x";function Pk(n,e,t,i){const r=n.skip?e:n,o=e,l=t.skip?e:t,u=Kh(o,r),h=Kh(l,o);let d=u/(u+h),p=h/(u+h);d=isNaN(d)?0:d,p=isNaN(p)?0:p;const m=i*d,v=i*p;return{previous:{x:o.x-m*(l.x-r.x),y:o.y-m*(l.y-r.y)},next:{x:o.x+v*(l.x-r.x),y:o.y+v*(l.y-r.y)}}}function Ck(n,e,t){const i=n.length;let r,o,l,u,h,d=Ls(n,0);for(let p=0;p<i-1;++p)if(h=d,d=Ls(n,p+1),!(!h||!d)){if(Mr(e[p],0,Tk)){t[p]=t[p+1]=0;continue}r=t[p]/e[p],o=t[p+1]/e[p],u=Math.pow(r,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),t[p]=r*l*e[p],t[p+1]=o*l*e[p])}}function Ok(n,e,t="x"){const i=hv(t),r=n.length;let o,l,u,h=Ls(n,0);for(let d=0;d<r;++d){if(l=u,u=h,h=Ls(n,d+1),!u)continue;const p=u[t],m=u[i];l&&(o=(p-l[t])/3,u[`cp1${t}`]=p-o,u[`cp1${i}`]=m-o*e[d]),h&&(o=(h[t]-p)/3,u[`cp2${t}`]=p+o,u[`cp2${i}`]=m+o*e[d])}}function Rk(n,e="x"){const t=hv(e),i=n.length,r=Array(i).fill(0),o=Array(i);let l,u,h,d=Ls(n,0);for(l=0;l<i;++l)if(u=h,h=d,d=Ls(n,l+1),!!h){if(d){const p=d[e]-h[e];r[l]=p!==0?(d[t]-h[t])/p:0}o[l]=u?d?yn(r[l-1])!==yn(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}Ck(n,r,o),Ok(n,o,e)}function jl(n,e,t){return Math.max(Math.min(n,t),e)}function Ak(n,e){let t,i,r,o,l,u=qn(n[0],e);for(t=0,i=n.length;t<i;++t)l=o,o=u,u=t<i-1&&qn(n[t+1],e),o&&(r=n[t],l&&(r.cp1x=jl(r.cp1x,e.left,e.right),r.cp1y=jl(r.cp1y,e.top,e.bottom)),u&&(r.cp2x=jl(r.cp2x,e.left,e.right),r.cp2y=jl(r.cp2y,e.top,e.bottom)))}function Mk(n,e,t,i,r){let o,l,u,h;if(e.spanGaps&&(n=n.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")Rk(n,r);else{let d=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)u=n[o],h=Pk(d,u,n[Math.min(o+1,l-(i?0:1))%l],e.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,d=u}e.capBezierPoints&&Ak(n,t)}function Ld(){return typeof window<"u"&&typeof document<"u"}function jd(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function du(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const xu=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Ik(n,e){return xu(n).getPropertyValue(e)}const Dk=["top","right","bottom","left"];function Dr(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const o=Dk[r];i[o]=parseFloat(n[e+"-"+o+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Nk=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Lk(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:o}=i;let l=!1,u,h;if(Nk(r,o,n.target))u=r,h=o;else{const d=e.getBoundingClientRect();u=i.clientX-d.left,h=i.clientY-d.top,l=!0}return{x:u,y:h,box:l}}function Hn(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=xu(t),o=r.boxSizing==="border-box",l=Dr(r,"padding"),u=Dr(r,"border","width"),{x:h,y:d,box:p}=Lk(n,t),m=l.left+(p&&u.left),v=l.top+(p&&u.top);let{width:_,height:S}=e;return o&&(_-=l.width+u.width,S-=l.height+u.height),{x:Math.round((h-m)/_*t.width/i),y:Math.round((d-v)/S*t.height/i)}}function jk(n,e,t){let i,r;if(e===void 0||t===void 0){const o=n&&jd(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const l=o.getBoundingClientRect(),u=xu(o),h=Dr(u,"border","width"),d=Dr(u,"padding");e=l.width-d.width-h.width,t=l.height-d.height-h.height,i=du(u.maxWidth,o,"clientWidth"),r=du(u.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:i||cu,maxHeight:r||cu}}const zl=n=>Math.round(n*10)/10;function zk(n,e,t,i){const r=xu(n),o=Dr(r,"margin"),l=du(r.maxWidth,n,"clientWidth")||cu,u=du(r.maxHeight,n,"clientHeight")||cu,h=jk(n,e,t);let{width:d,height:p}=h;if(r.boxSizing==="content-box"){const v=Dr(r,"border","width"),_=Dr(r,"padding");d-=_.width+v.width,p-=_.height+v.height}return d=Math.max(0,d-o.width),p=Math.max(0,i?d/i:p-o.height),d=zl(Math.min(d,l,h.maxWidth)),p=zl(Math.min(p,u,h.maxHeight)),d&&!p&&(p=zl(d/2)),(e!==void 0||t!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,d=zl(Math.floor(p*i))),{width:d,height:p}}function rm(n,e,t){const i=e||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==o?(n.currentDevicePixelRatio=i,l.height=r,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Fk=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Ld()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function sm(n,e){const t=Ik(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Pr(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function $k(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function Uk(n,e,t,i){const r={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},l=Pr(n,r,t),u=Pr(r,o,t),h=Pr(o,e,t),d=Pr(l,u,t),p=Pr(u,h,t);return Pr(d,p,t)}const Bk=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},Wk=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Is(n,e,t){return n?Bk(e,t):Wk()}function dv(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function fv(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function pv(n){return n==="angle"?{between:oa,compare:VS,normalize:sn}:{between:fi,compare:(e,t)=>e-t,normalize:e=>e}}function om({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:r}}function Vk(n,e,t){const{property:i,start:r,end:o}=t,{between:l,normalize:u}=pv(i),h=e.length;let{start:d,end:p,loop:m}=n,v,_;if(m){for(d+=h,p+=h,v=0,_=h;v<_&&l(u(e[d%h][i]),r,o);++v)d--,p--;d%=h,p%=h}return p<d&&(p+=h),{start:d,end:p,loop:m,style:n.style}}function gv(n,e,t){if(!t)return[n];const{property:i,start:r,end:o}=t,l=e.length,{compare:u,between:h,normalize:d}=pv(i),{start:p,end:m,loop:v,style:_}=Vk(n,e,t),S=[];let b=!1,E=null,C,T,O;const M=()=>h(r,O,C)&&u(r,O)!==0,N=()=>u(o,C)===0||h(o,O,C),$=()=>b||M(),U=()=>!b||N();for(let H=p,Z=p;H<=m;++H)T=e[H%l],!T.skip&&(C=d(T[i]),C!==O&&(b=h(C,r,o),E===null&&$()&&(E=u(C,r)===0?H:Z),E!==null&&U()&&(S.push(om({start:E,end:H,loop:v,count:l,style:_})),E=null),Z=H,O=C));return E!==null&&S.push(om({start:E,end:m,loop:v,count:l,style:_})),S}function mv(n,e){const t=[],i=n.segments;for(let r=0;r<i.length;r++){const o=gv(i[r],n.points,e);o.length&&t.push(...o)}return t}function Hk(n,e,t,i){let r=0,o=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(o+=r);o>r&&n[o%e].skip;)o--;return o%=e,{start:r,end:o}}function qk(n,e,t,i){const r=n.length,o=[];let l=e,u=n[e],h;for(h=e+1;h<=t;++h){const d=n[h%r];d.skip||d.stop?u.skip||(i=!1,o.push({start:e%r,end:(h-1)%r,loop:i}),e=l=d.stop?h:null):(l=h,u.skip&&(e=h)),u=d}return l!==null&&o.push({start:e%r,end:l%r,loop:i}),o}function Kk(n,e){const t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];const o=!!n._loop,{start:l,end:u}=Hk(t,r,o,i);if(i===!0)return am(n,[{start:l,end:u,loop:o}],t,e);const h=u<l?u+r:u,d=!!n._fullLoop&&l===0&&u===r-1;return am(n,qk(t,l,h,d),t,e)}function am(n,e,t,i){return!i||!i.setContext||!t?e:Yk(n,e,t,i)}function Yk(n,e,t,i){const r=n._chart.getContext(),o=lm(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,h=t.length,d=[];let p=o,m=e[0].start,v=m;function _(S,b,E,C){const T=u?-1:1;if(S!==b){for(S+=h;t[S%h].skip;)S-=T;for(;t[b%h].skip;)b+=T;S%h!==b%h&&(d.push({start:S%h,end:b%h,loop:E,style:C}),p=C,m=b%h)}}for(const S of e){m=u?m:S.start;let b=t[m%h],E;for(v=m+1;v<=S.end;v++){const C=t[v%h];E=lm(i.setContext(tr(r,{type:"segment",p0:b,p1:C,p0DataIndex:(v-1)%h,p1DataIndex:v%h,datasetIndex:l}))),Gk(E,p)&&_(m,v-1,S.loop,p),b=C,p=E}m<v-1&&_(m,v-1,S.loop,p)}return d}function lm(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Gk(n,e){if(!e)return!1;const t=[],i=function(r,o){return Ad(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class Xk{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const o=t.listeners[r],l=t.duration;o.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(i-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Zy.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,h;for(;l>=0;--l)h=o[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),u=!0):(o[l]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,e,"progress")),o.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ui=new Xk;const um="transparent",Jk={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=Zg(n||um),r=i.valid&&Zg(e||um);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class Qk{constructor(e,t,i,r){const o=t[i];r=Ve([e.to,r,o,e.from]);const l=Ve([e.from,o,r]);this._active=!0,this._fn=e.fn||Jk[e.type||typeof l],this._easing=Wo[e.easing]||Wo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Ve([e.to,t,r,e.from]),this._from=Ve([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,o=this._from,l=this._loop,u=this._to;let h;if(this._active=o!==u&&(l||t<i),!this._active){this._target[r]=u,this._notify(!0);return}if(t<0){this._target[r]=o;return}h=t/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(o,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class yv{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Me(e))return;const t=Object.keys(Ke.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const o=e[r];if(!Me(o))return;const l={};for(const u of t)l[u]=o[u];(He(o.properties)&&o.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(e,t){const i=t.options,r=e1(e,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&Zk(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,t){const i=this._properties,r=[],o=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const d=l[h];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(e,t));continue}const p=t[d];let m=o[d];const v=i.get(d);if(m)if(v&&m.active()){m.update(v,p,u);continue}else m.cancel();if(!v||!v.duration){e[d]=p;continue}o[d]=m=new Qk(v,e,d,p),r.push(m)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return ui.add(this._chart,i),!0}}function Zk(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function e1(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function cm(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:i?o:r,end:i?r:o}}function t1(n,e,t){if(t===!1)return!1;const i=cm(n,t),r=cm(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function n1(n){let e,t,i,r;return Me(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function vv(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,o;for(r=0,o=i.length;r<o;++r)t.push(i[r].index);return t}function hm(n,e,t,i={}){const r=n.keys,o=i.mode==="single";let l,u,h,d;if(e===null)return;let p=!1;for(l=0,u=r.length;l<u;++l){if(h=+r[l],h===t){if(p=!0,i.all)continue;break}d=n.values[h],nt(d)&&(o||e===0||yn(e)===yn(d))&&(e+=d)}return!p&&!i.all?0:e}function i1(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,d,p;for(h=0,d=l.length;h<d;++h)p=l[h],u[h]={[r]:p,[o]:n[p]};return u}function xh(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function r1(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function s1(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function o1(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function dm(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(t&&o>0||!t&&o<0)return r.index}return null}function fm(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:o,vScale:l,index:u}=i,h=o.axis,d=l.axis,p=r1(o,l,i),m=e.length;let v;for(let _=0;_<m;++_){const S=e[_],{[h]:b,[d]:E}=S,C=S._stacks||(S._stacks={});v=C[d]=o1(r,p,b),v[u]=E,v._top=dm(v,l,!0,i.type),v._bottom=dm(v,l,!1,i.type);const T=v._visualValues||(v._visualValues={});T[u]=E}}function Sh(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function a1(n,e){return tr(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function l1(n,e,t){return tr(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Oo(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const o=r._stacks;if(!o||o[i]===void 0||o[i][t]===void 0)return;delete o[i][t],o[i]._visualValues!==void 0&&o[i]._visualValues[t]!==void 0&&delete o[i]._visualValues[t]}}}const kh=n=>n==="reset"||n==="none",pm=(n,e)=>e?n:Object.assign({},n),u1=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:vv(t,!0),values:null};class An{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=xh(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Oo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(m,v,_,S)=>m==="x"?v:m==="r"?S:_,o=t.xAxisID=xe(i.xAxisID,Sh(e,"x")),l=t.yAxisID=xe(i.yAxisID,Sh(e,"y")),u=t.rAxisID=xe(i.rAxisID,Sh(e,"r")),h=t.indexAxis,d=t.iAxisID=r(h,o,l,u),p=t.vAxisID=r(h,l,o,u);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Xg(this._data,this),e._stacked&&Oo(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Me(t)){const r=this._cachedMeta;this._data=i1(t,r)}else if(i!==t){if(i){Xg(i,this);const r=this._cachedMeta;Oo(r),r._parsed=[]}t&&Object.isExtensible(t)&&YS(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=t._stacked;t._stacked=xh(t.vScale,t),t.stack!==i.stack&&(r=!0,Oo(t),t.stack=i.stack),this._resyncElements(e),(r||o!==t._stacked)&&(fm(this,t._parsed),t._stacked=xh(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:l}=i,u=o.axis;let h=e===0&&t===r.length?!0:i._sorted,d=e>0&&i._parsed[e-1],p,m,v;if(this._parsing===!1)i._parsed=r,i._sorted=!0,v=r;else{He(r[e])?v=this.parseArrayData(i,r,e,t):Me(r[e])?v=this.parseObjectData(i,r,e,t):v=this.parsePrimitiveData(i,r,e,t);const _=()=>m[u]===null||d&&m[u]<d[u];for(p=0;p<t;++p)i._parsed[p+e]=m=v[p],h&&(_()&&(h=!1),d=m);i._sorted=h}l&&fm(this,v)}parsePrimitiveData(e,t,i,r){const{iScale:o,vScale:l}=e,u=o.axis,h=l.axis,d=o.getLabels(),p=o===l,m=new Array(r);let v,_,S;for(v=0,_=r;v<_;++v)S=v+i,m[v]={[u]:p||o.parse(d[S],S),[h]:l.parse(t[S],S)};return m}parseArrayData(e,t,i,r){const{xScale:o,yScale:l}=e,u=new Array(r);let h,d,p,m;for(h=0,d=r;h<d;++h)p=h+i,m=t[p],u[h]={x:o.parse(m[0],p),y:l.parse(m[1],p)};return u}parseObjectData(e,t,i,r){const{xScale:o,yScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,d=new Array(r);let p,m,v,_;for(p=0,m=r;p<m;++p)v=p+i,_=t[v],d[p]={x:o.parse(Qi(_,u),v),y:l.parse(Qi(_,h),v)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,o=this._cachedMeta,l=t[e.axis],u={keys:vv(r,!0),values:t._stacks[e.axis]._visualValues};return hm(u,l,o.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const o=i[t.axis];let l=o===null?NaN:o;const u=r&&i._stacks[t.axis];r&&u&&(r.values=u,l=hm(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&e===i.iScale,l=r.length,u=this._getOtherScale(e),h=u1(t,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:m}=s1(u);let v,_;function S(){_=r[v];const b=_[u.axis];return!nt(_[e.axis])||p>b||m<b}for(v=0;v<l&&!(!S()&&(this.updateRangeFromParsed(d,e,_,h),o));++v);if(o){for(v=l-1;v>=0;--v)if(!S()){this.updateRangeFromParsed(d,e,_,h);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,o,l;for(r=0,o=t.length;r<o;++r)l=t[r][e.axis],nt(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=n1(xe(this.options.clip,t1(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],o=t.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||r.length-u,d=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,o,u,h),p=u;p<u+h;++p){const m=r[p];m.hidden||(m.active&&d?l.push(m):m.draw(e,o))}for(p=0;p<l.length;++p)l[p].draw(e,o)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];o=l.$context||(l.$context=l1(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=a1(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",o=this._cachedDataOpts,l=e+"-"+t,u=o[l],h=this.enableOptionSharing&&sa(i);if(u)return pm(u,h);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,e),m=r?[`${e}Hover`,"hover",e,""]:[e,""],v=d.getOptionScopes(this.getDataset(),p),_=Object.keys(Ke.elements[e]),S=()=>this.getContext(i,r,t),b=d.resolveNamedOptions(v,_,S,m);return b.$shared&&(b.$shared=h,o[l]=Object.freeze(pm(b,h))),b}_resolveAnimations(e,t,i){const r=this.chart,o=this._cachedDataOpts,l=`animation-${t}`,u=o[l];if(u)return u;let h;if(r.options.animation!==!1){const p=this.chart.config,m=p.datasetAnimationScopeKeys(this._type,t),v=p.getOptionScopes(this.getDataset(),m);h=p.createResolver(v,this.getContext(e,i,t))}const d=new yv(r,h&&h.animations);return h&&h._cacheable&&(o[l]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||kh(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(t,o)||o!==r;return this.updateSharedOptions(o,t,i),{sharedOptions:o,includeOptions:l}}updateElement(e,t,i,r){kh(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!kh(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const o=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[u,h,d]of this._syncList)this[u](h,d);this._syncList=[];const r=i.length,o=t.length,l=Math.min(o,r);l&&this.parse(0,l),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,t,i=!0){const r=this._cachedMeta,o=r.data,l=e+t;let u;const h=d=>{for(d.length+=t,u=d.length-1;u>=l;u--)d[u]=d[u-t]};for(h(o),u=e;u<l;++u)o[u]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(e,t),i&&this.updateElements(o,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&Oo(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ee(An,"defaults",{}),ee(An,"datasetElementType",null),ee(An,"dataElementType",null);function c1(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,o=t.length;r<o;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=Qy(i.sort((r,o)=>r-o))}return n._cache.$bar}function h1(n){const e=n.iScale,t=c1(e,n.type);let i=e._length,r,o,l,u;const h=()=>{l===32767||l===-32768||(sa(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(r=0,o=t.length;r<o;++r)l=e.getPixelForValue(t[r]),h();for(u=void 0,r=0,o=e.ticks.length;r<o;++r)l=e.getPixelForTick(r),h();return i}function d1(n,e,t,i){const r=t.barThickness;let o,l;return Ae(r)?(o=e.min*t.categoryPercentage,l=t.barPercentage):(o=r*i,l=1),{chunk:o/i,ratio:l,start:e.pixels[n]-o/2}}function f1(n,e,t,i){const r=e.pixels,o=r[n];let l=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const h=t.categoryPercentage;l===null&&(l=o-(u===null?e.end-e.start:u-o)),u===null&&(u=o+o-l);const d=o-(o-Math.min(l,u))/2*h;return{chunk:Math.abs(u-l)/2*h/i,ratio:t.barPercentage,start:d}}function p1(n,e,t,i){const r=t.parse(n[0],i),o=t.parse(n[1],i),l=Math.min(r,o),u=Math.max(r,o);let h=l,d=u;Math.abs(l)>Math.abs(u)&&(h=u,d=l),e[t.axis]=d,e._custom={barStart:h,barEnd:d,start:r,end:o,min:l,max:u}}function _v(n,e,t,i){return He(n)?p1(n,e,t,i):e[t.axis]=t.parse(n,i),e}function gm(n,e,t,i){const r=n.iScale,o=n.vScale,l=r.getLabels(),u=r===o,h=[];let d,p,m,v;for(d=t,p=t+i;d<p;++d)v=e[d],m={},m[r.axis]=u||r.parse(l[d],d),h.push(_v(v,m,o,d));return h}function Eh(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function g1(n,e,t){return n!==0?yn(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function m1(n){let e,t,i,r,o;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",o="start"):(r="start",o="end"),{start:t,end:i,reverse:e,top:r,bottom:o}}function y1(n,e,t,i){let r=e.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:h,top:d,bottom:p}=m1(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=d:(t._bottom||0)===i?r=p:(o[mm(p,l,u,h)]=!0,r=d)),o[mm(r,l,u,h)]=!0,n.borderSkipped=o}function mm(n,e,t,i){return i?(n=v1(n,e,t),n=ym(n,t,e)):n=ym(n,e,t),n}function v1(n,e,t){return n===e?t:n===t?e:n}function ym(n,e,t){return n==="start"?e:n==="end"?t:n}function _1(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class Ql extends An{parsePrimitiveData(e,t,i,r){return gm(e,t,i,r)}parseArrayData(e,t,i,r){return gm(e,t,i,r)}parseObjectData(e,t,i,r){const{iScale:o,vScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,d=o.axis==="x"?u:h,p=l.axis==="x"?u:h,m=[];let v,_,S,b;for(v=i,_=i+r;v<_;++v)b=t[v],S={},S[o.axis]=o.parse(Qi(b,d),v),m.push(_v(Qi(b,p),S,l,v));return m}updateRangeFromParsed(e,t,i,r){super.updateRangeFromParsed(e,t,i,r);const o=i._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:r}=t,o=this.getParsed(e),l=o._custom,u=Eh(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,r){const o=r==="reset",{index:l,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),d=u.isHorizontal(),p=this._getRuler(),{sharedOptions:m,includeOptions:v}=this._getSharedOptions(t,r);for(let _=t;_<t+i;_++){const S=this.getParsed(_),b=o||Ae(S[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(_),E=this._calculateBarIndexPixels(_,p),C=(S._stacks||{})[u.axis],T={horizontal:d,base:b.base,enableBorderRadius:!C||Eh(S._custom)||l===C._top||l===C._bottom,x:d?b.head:E.center,y:d?E.center:b.head,height:d?E.size:Math.abs(b.size),width:d?Math.abs(b.size):E.size};v&&(T.options=m||this.resolveDataElementOptions(_,e[_].active?"active":r));const O=T.options||e[_].options;y1(T,O,C,l),_1(T,O,p.ratio),this.updateElement(e[_],_,T,r)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(t),h=u&&u[i.axis],d=p=>{const m=p._parsed.find(_=>_[i.axis]===h),v=m&&m[p.vScale.axis];if(Ae(v)||isNaN(v))return!0};for(const p of r)if(!(t!==void 0&&d(p))&&((o===!1||l.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const r=this._getStacks(e,i),o=t!==void 0?r.indexOf(t):-1;return o===-1?r.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,r=[];let o,l;for(o=0,l=t.data.length;o<l;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=e.barThickness;return{min:u||h1(t),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:r},options:{base:o,minBarLength:l}}=this,u=o||0,h=this.getParsed(e),d=h._custom,p=Eh(d);let m=h[t.axis],v=0,_=i?this.applyStack(t,h,i):m,S,b;_!==m&&(v=_-m,_=m),p&&(m=d.barStart,_=d.barEnd-d.barStart,m!==0&&yn(m)!==yn(d.barEnd)&&(v=0),v+=m);const E=!Ae(o)&&!p?o:v;let C=t.getPixelForValue(E);if(this.chart.getDataVisibility(e)?S=t.getPixelForValue(v+_):S=C,b=S-C,Math.abs(b)<l){b=g1(b,t,u)*l,m===u&&(C-=b/2);const T=t.getPixelForDecimal(0),O=t.getPixelForDecimal(1),M=Math.min(T,O),N=Math.max(T,O);C=Math.max(Math.min(C,N),M),S=C+b,i&&!p&&(h._stacks[t.axis]._visualValues[r]=t.getValueForPixel(S)-t.getValueForPixel(C))}if(C===t.getPixelForValue(u)){const T=yn(b)*t.getLineWidthForValue(u)/2;C+=T,b-=T}return{size:b,base:C,head:S,center:S+b/2}}_calculateBarIndexPixels(e,t){const i=t.scale,r=this.options,o=r.skipNull,l=xe(r.maxBarThickness,1/0);let u,h;if(t.grouped){const d=o?this._getStackCount(e):t.stackCount,p=r.barThickness==="flex"?f1(e,t,r,d):d1(e,t,r,d),m=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);u=p.start+p.chunk*m+p.chunk/2,h=Math.min(l,p.chunk*p.ratio)}else u=i.getPixelForValue(this.getParsed(e)[i.axis],e),h=Math.min(l,t.min*t.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[t.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}ee(Ql,"id","bar"),ee(Ql,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ee(Ql,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Zl extends An{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,r){const o=super.parsePrimitiveData(e,t,i,r);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+i).radius;return o}parseArrayData(e,t,i,r){const o=super.parseArrayData(e,t,i,r);for(let l=0;l<o.length;l++){const u=t[i+l];o[l]._custom=xe(u[2],this.resolveDataElementOptions(l+i).radius)}return o}parseObjectData(e,t,i,r){const o=super.parseObjectData(e,t,i,r);for(let l=0;l<o.length;l++){const u=t[i+l];o[l]._custom=xe(u&&u.r&&+u.r,this.resolveDataElementOptions(l+i).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=t,l=this.getParsed(e),u=r.getLabelForValue(l.x),h=o.getLabelForValue(l.y),d=l._custom;return{label:i[e]||"",value:"("+u+", "+h+(d?", "+d:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,r){const o=r==="reset",{iScale:l,vScale:u}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(t,r),p=l.axis,m=u.axis;for(let v=t;v<t+i;v++){const _=e[v],S=!o&&this.getParsed(v),b={},E=b[p]=o?l.getPixelForDecimal(.5):l.getPixelForValue(S[p]),C=b[m]=o?u.getBasePixel():u.getPixelForValue(S[m]);b.skip=isNaN(E)||isNaN(C),d&&(b.options=h||this.resolveDataElementOptions(v,_.active?"active":r),o&&(b.options.radius=0)),this.updateElement(_,v,b,r)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const o=r.radius;return t!=="active"&&(r.radius=0),r.radius+=xe(i&&i._custom,o),r}}ee(Zl,"id","bubble"),ee(Zl,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ee(Zl,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function w1(n,e,t){let i=1,r=1,o=0,l=0;if(e<qe){const u=n,h=u+e,d=Math.cos(u),p=Math.sin(u),m=Math.cos(h),v=Math.sin(h),_=(O,M,N)=>oa(O,u,h,!0)?1:Math.max(M,M*t,N,N*t),S=(O,M,N)=>oa(O,u,h,!0)?-1:Math.min(M,M*t,N,N*t),b=_(0,d,m),E=_(ot,p,v),C=S(Ye,d,m),T=S(Ye+ot,p,v);i=(b-C)/2,r=(E-T)/2,o=-(b+C)/2,l=-(E+T)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:l}}class Ar extends An{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=h=>+i[h];if(Me(i[e])){const{key:h="value"}=this._parsing;o=d=>+Qi(i[d],h)}let l,u;for(l=e,u=e+t;l<u;++l)r._parsed[l]=o(l)}}_getRotation(){return Rn(this.options.rotation-90)}_getCircumference(){return Rn(this.options.circumference)}_getRotationExtents(){let e=qe,t=-qe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),l=r._getCircumference();e=Math.min(e,o),t=Math.max(t,o+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,r=this._cachedMeta,o=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(DS(this.options.cutout,u),1),d=this._getRingWeight(this.index),{circumference:p,rotation:m}=this._getRotationExtents(),{ratioX:v,ratioY:_,offsetX:S,offsetY:b}=w1(m,p,h),E=(i.width-l)/v,C=(i.height-l)/_,T=Math.max(Math.min(E,C)/2,0),O=Ky(this.options.radius,T),M=Math.max(O*h,0),N=(O-M)/this._getVisibleDatasetWeightTotal();this.offsetX=S*O,this.offsetY=b*O,r.total=this.calculateTotal(),this.outerRadius=O-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*d,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/qe)}updateElements(e,t,i,r){const o=r==="reset",l=this.chart,u=l.chartArea,d=l.options.animation,p=(u.left+u.right)/2,m=(u.top+u.bottom)/2,v=o&&d.animateScale,_=v?0:this.innerRadius,S=v?0:this.outerRadius,{sharedOptions:b,includeOptions:E}=this._getSharedOptions(t,r);let C=this._getRotation(),T;for(T=0;T<t;++T)C+=this._circumference(T,o);for(T=t;T<t+i;++T){const O=this._circumference(T,o),M=e[T],N={x:p+this.offsetX,y:m+this.offsetY,startAngle:C,endAngle:C+O,circumference:O,outerRadius:S,innerRadius:_};E&&(N.options=b||this.resolveDataElementOptions(T,M.active?"active":r)),C+=O,this.updateElement(M,T,N,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,r;for(r=0;r<t.length;r++){const o=e._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?qe*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=pa(t._parsed[e],i.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const i=this.chart;let r,o,l,u,h;if(!e){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){l=i.getDatasetMeta(r),e=l.data,u=l.controller;break}}if(!e)return 0;for(r=0,o=e.length;r<o;++r)h=u.resolveDataElementOptions(r),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,r=e.length;i<r;++i){const o=this.resolveDataElementOptions(i);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(xe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ee(Ar,"id","doughnut"),ee(Ar,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ee(Ar,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ee(Ar,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((o,l)=>{const h=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class eu extends An{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=t,l=this.chart._animationsDisabled;let{start:u,count:h}=tv(t,r,l);this._drawStart=u,this._drawCount=h,nv(t)&&(u=0,h=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:d},e),this.updateElements(r,u,h,e)}updateElements(e,t,i,r){const o=r==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:d}=this._cachedMeta,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(t,r),v=l.axis,_=u.axis,{spanGaps:S,segment:b}=this.options,E=Ds(S)?S:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||o||r==="none",T=t+i,O=e.length;let M=t>0&&this.getParsed(t-1);for(let N=0;N<O;++N){const $=e[N],U=C?$:{};if(N<t||N>=T){U.skip=!0;continue}const H=this.getParsed(N),Z=Ae(H[_]),oe=U[v]=l.getPixelForValue(H[v],N),ce=U[_]=o||Z?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,H,h):H[_],N);U.skip=isNaN(oe)||isNaN(ce)||Z,U.stop=N>0&&Math.abs(H[v]-M[v])>E,b&&(U.parsed=H,U.raw=d.data[N]),m&&(U.options=p||this.resolveDataElementOptions(N,$.active?"active":r)),C||this.updateElement($,N,U,r),M=H}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ee(eu,"id","line"),ee(eu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ee(eu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ho extends An{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=pa(t._parsed[e].r,i.options.locale);return{label:r[e]||"",value:o}}parseObjectData(e,t,i,r){return cv.bind(this)(e,t,i,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,r)=>{const o=this.getParsed(r).r;!isNaN(o)&&this.chart.getDataVisibility(r)&&(o<t.min&&(t.min=o),o>t.max&&(t.max=o))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),o=Math.max(r/2,0),l=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),u=(o-l)/e.getVisibleDatasetCount();this.outerRadius=o-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(e,t,i,r){const o=r==="reset",l=this.chart,h=l.options.animation,d=this._cachedMeta.rScale,p=d.xCenter,m=d.yCenter,v=d.getIndexAngle(0)-.5*Ye;let _=v,S;const b=360/this.countVisibleElements();for(S=0;S<t;++S)_+=this._computeAngle(S,r,b);for(S=t;S<t+i;S++){const E=e[S];let C=_,T=_+this._computeAngle(S,r,b),O=l.getDataVisibility(S)?d.getDistanceFromCenterForValue(this.getParsed(S).r):0;_=T,o&&(h.animateScale&&(O=0),h.animateRotate&&(C=T=v));const M={x:p,y:m,innerRadius:0,outerRadius:O,startAngle:C,endAngle:T,options:this.resolveDataElementOptions(S,E.active?"active":r)};this.updateElement(E,S,M,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?Rn(this.resolveDataElementOptions(e,t).angle||i):0}}ee(Ho,"id","polarArea"),ee(Ho,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ee(Ho,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((o,l)=>{const h=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Xh extends Ar{}ee(Xh,"id","pie"),ee(Xh,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class tu extends An{getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,r){return cv.bind(this)(e,t,i,r)}update(e){const t=this._cachedMeta,i=t.dataset,r=t.data||[],o=t.iScale.getLabels();if(i.points=r,e!=="resize"){const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0);const u={_loop:!0,_fullLoop:o.length===r.length,options:l};this.updateElement(i,void 0,u,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,i,r){const o=this._cachedMeta.rScale,l=r==="reset";for(let u=t;u<t+i;u++){const h=e[u],d=this.resolveDataElementOptions(u,h.active?"active":r),p=o.getPointPositionForValue(u,this.getParsed(u).r),m=l?o.xCenter:p.x,v=l?o.yCenter:p.y,_={x:m,y:v,angle:p.angle,skip:isNaN(m)||isNaN(v),options:d};this.updateElement(h,u,_,r)}}}ee(tu,"id","radar"),ee(tu,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ee(tu,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class nu extends An{getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=t,l=this.getParsed(e),u=r.getLabelForValue(l.x),h=o.getLabelForValue(l.y);return{label:i[e]||"",value:"("+u+", "+h+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,r=this.chart._animationsDisabled;let{start:o,count:l}=tv(t,i,r);if(this._drawStart=o,this._drawCount=l,nv(t)&&(o=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:h}=t;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!h._decimated,u.points=i;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(u,void 0,{animated:!r,options:d},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,o,l,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,r){const o=r==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:d}=this._cachedMeta,p=this.resolveDataElementOptions(t,r),m=this.getSharedOptions(p),v=this.includeOptions(r,m),_=l.axis,S=u.axis,{spanGaps:b,segment:E}=this.options,C=Ds(b)?b:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||o||r==="none";let O=t>0&&this.getParsed(t-1);for(let M=t;M<t+i;++M){const N=e[M],$=this.getParsed(M),U=T?N:{},H=Ae($[S]),Z=U[_]=l.getPixelForValue($[_],M),oe=U[S]=o||H?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,$,h):$[S],M);U.skip=isNaN(Z)||isNaN(oe)||H,U.stop=M>0&&Math.abs($[_]-O[_])>C,E&&(U.parsed=$,U.raw=d.data[M]),v&&(U.options=m||this.resolveDataElementOptions(M,N.active?"active":r)),T||this.updateElement(N,M,U,r),O=$}this.updateSharedOptions(m,r,p)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let u=0;for(let h=t.length-1;h>=0;--h)u=Math.max(u,t[h].size(this.resolveDataElementOptions(h))/2);return u>0&&u}const i=e.dataset,r=i.options&&i.options.borderWidth||0;if(!t.length)return r;const o=t[0].size(this.resolveDataElementOptions(0)),l=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,o,l)/2}}ee(nu,"id","scatter"),ee(nu,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ee(nu,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var b1=Object.freeze({__proto__:null,BarController:Ql,BubbleController:Zl,DoughnutController:Ar,LineController:eu,PieController:Xh,PolarAreaController:Ho,RadarController:tu,ScatterController:nu});function kr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class zd{constructor(e){ee(this,"options");this.options=e||{}}static override(e){Object.assign(zd.prototype,e)}init(){}formats(){return kr()}parse(){return kr()}format(){return kr()}add(){return kr()}diff(){return kr()}startOf(){return kr()}endOf(){return kr()}}var x1={_date:zd};function S1(n,e,t,i){const{controller:r,data:o,_sorted:l}=n,u=r._cachedMeta.iScale;if(u&&e===u.axis&&e!=="r"&&l&&o.length){const h=u._reversePixels?qS:pi;if(i){if(r._sharedOptions){const d=o[0],p=typeof d.getRange=="function"&&d.getRange(e);if(p){const m=h(o,e,t-p),v=h(o,e,t+p);return{lo:m.lo,hi:v.hi}}}}else return h(o,e,t)}return{lo:0,hi:o.length-1}}function ga(n,e,t,i,r){const o=n.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,h=o.length;u<h;++u){const{index:d,data:p}=o[u],{lo:m,hi:v}=S1(o[u],e,l,r);for(let _=m;_<=v;++_){const S=p[_];S.skip||i(S,d,_)}}}function k1(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const o=e?Math.abs(i.x-r.x):0,l=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Th(n,e,t,i,r){const o=[];return!r&&!n.isPointInArea(e)||ga(n,t,e,function(u,h,d){!r&&!qn(u,n.chartArea,0)||u.inRange(e.x,e.y,i)&&o.push({element:u,datasetIndex:h,index:d})},!0),o}function E1(n,e,t,i){let r=[];function o(l,u,h){const{startAngle:d,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:m}=Xy(l,{x:e.x,y:e.y});oa(m,d,p)&&r.push({element:l,datasetIndex:u,index:h})}return ga(n,t,e,o),r}function T1(n,e,t,i,r,o){let l=[];const u=k1(t);let h=Number.POSITIVE_INFINITY;function d(p,m,v){const _=p.inRange(e.x,e.y,r);if(i&&!_)return;const S=p.getCenterPoint(r);if(!(!!o||n.isPointInArea(S))&&!_)return;const E=u(e,S);E<h?(l=[{element:p,datasetIndex:m,index:v}],h=E):E===h&&l.push({element:p,datasetIndex:m,index:v})}return ga(n,t,e,d),l}function Ph(n,e,t,i,r,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!i?E1(n,e,t,r):T1(n,e,t,i,r,o)}function vm(n,e,t,i,r){const o=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return ga(n,t,e,(h,d,p)=>{h[l]&&h[l](e[t],r)&&(o.push({element:h,datasetIndex:d,index:p}),u=u||h.inRange(e.x,e.y,r))}),i&&!u?[]:o}var P1={evaluateInteractionItems:ga,modes:{index(n,e,t,i){const r=Hn(e,n),o=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?Th(n,r,o,i,l):Ph(n,r,o,!1,i,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const p=u[0].index,m=d.data[p];m&&!m.skip&&h.push({element:m,datasetIndex:d.index,index:p})}),h):[]},dataset(n,e,t,i){const r=Hn(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?Th(n,r,o,i,l):Ph(n,r,o,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,d=n.getDatasetMeta(h).data;u=[];for(let p=0;p<d.length;++p)u.push({element:d[p],datasetIndex:h,index:p})}return u},point(n,e,t,i){const r=Hn(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return Th(n,r,o,i,l)},nearest(n,e,t,i){const r=Hn(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return Ph(n,r,o,t.intersect,i,l)},x(n,e,t,i){const r=Hn(e,n);return vm(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=Hn(e,n);return vm(n,r,"y",t.intersect,i)}}};const wv=["left","top","right","bottom"];function Ro(n,e){return n.filter(t=>t.pos===e)}function _m(n,e){return n.filter(t=>wv.indexOf(t.pos)===-1&&t.box.axis===e)}function Ao(n,e){return n.sort((t,i)=>{const r=e?i:t,o=e?t:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function C1(n){const e=[];let t,i,r,o,l,u;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:o,options:{stack:l,stackWeight:u=1}}=r,e.push({index:t,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:u});return e}function O1(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:o}=t;if(!i||!wv.includes(r))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return e}function R1(n,e){const t=O1(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:h}=u.box,d=t[u.stack],p=d&&u.stackWeight/d.weight;u.horizontal?(u.width=p?p*i:h&&e.availableWidth,u.height=r):(u.width=i,u.height=p?p*r:h&&e.availableHeight)}return t}function A1(n){const e=C1(n),t=Ao(e.filter(d=>d.box.fullSize),!0),i=Ao(Ro(e,"left"),!0),r=Ao(Ro(e,"right")),o=Ao(Ro(e,"top"),!0),l=Ao(Ro(e,"bottom")),u=_m(e,"x"),h=_m(e,"y");return{fullSize:t,leftAndTop:i.concat(o),rightAndBottom:r.concat(h).concat(l).concat(u),chartArea:Ro(e,"chartArea"),vertical:i.concat(r).concat(h),horizontal:o.concat(l).concat(u)}}function wm(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function bv(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function M1(n,e,t,i){const{pos:r,box:o}=t,l=n.maxPadding;if(!Me(r)){t.size&&(n[r]-=t.size);const m=i[t.stack]||{size:0,count:1};m.size=Math.max(m.size,t.horizontal?o.height:o.width),t.size=m.size/m.count,n[r]+=t.size}o.getPadding&&bv(l,o.getPadding());const u=Math.max(0,e.outerWidth-wm(l,n,"left","right")),h=Math.max(0,e.outerHeight-wm(l,n,"top","bottom")),d=u!==n.w,p=h!==n.h;return n.w=u,n.h=h,t.horizontal?{same:d,other:p}:{same:p,other:d}}function I1(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function D1(n,e){const t=e.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(e[l],t[l])}),o}return i(n?["left","right"]:["top","bottom"])}function jo(n,e,t,i){const r=[];let o,l,u,h,d,p;for(o=0,l=n.length,d=0;o<l;++o){u=n[o],h=u.box,h.update(u.width||e.w,u.height||e.h,D1(u.horizontal,e));const{same:m,other:v}=M1(e,t,u,i);d|=m&&r.length,p=p||v,h.fullSize||r.push(u)}return d&&jo(r,e,t,i)||p}function Fl(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function bm(n,e,t,i){const r=t.padding;let{x:o,y:l}=e;for(const u of n){const h=u.box,d=i[u.stack]||{count:1,placed:0,weight:1},p=u.stackWeight/d.weight||1;if(u.horizontal){const m=e.w*p,v=d.size||h.height;sa(d.start)&&(l=d.start),h.fullSize?Fl(h,r.left,l,t.outerWidth-r.right-r.left,v):Fl(h,e.left+d.placed,l,m,v),d.start=l,d.placed+=m,l=h.bottom}else{const m=e.h*p,v=d.size||h.width;sa(d.start)&&(o=d.start),h.fullSize?Fl(h,o,r.top,v,t.outerHeight-r.bottom-r.top):Fl(h,o,e.top+d.placed,v,m),d.start=o,d.placed+=m,o=h.right}}e.x=o,e.y=l}var At={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=kt(n.options.layout.padding),o=Math.max(e-r.width,0),l=Math.max(t-r.height,0),u=A1(n.boxes),h=u.vertical,d=u.horizontal;Re(n.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const p=h.reduce((b,E)=>E.box.options&&E.box.options.display===!1?b:b+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),v=Object.assign({},r);bv(v,kt(i));const _=Object.assign({maxPadding:v,w:o,h:l,x:r.left,y:r.top},r),S=R1(h.concat(d),m);jo(u.fullSize,_,m,S),jo(h,_,m,S),jo(d,_,m,S)&&jo(h,_,m,S),I1(_),bm(u.leftAndTop,_,m,S),_.x+=_.w,_.y+=_.h,bm(u.rightAndBottom,_,m,S),n.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Re(u.chartArea,b=>{const E=b.box;Object.assign(E,n.chartArea),E.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class xv{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class N1 extends xv{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const iu="$chartjs",L1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xm=n=>n===null||n==="";function j1(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[iu]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",xm(r)){const o=sm(n,"width");o!==void 0&&(n.width=o)}if(xm(i))if(n.style.height==="")n.height=n.width/(e||2);else{const o=sm(n,"height");o!==void 0&&(n.height=o)}return n}const Sv=Fk?{passive:!0}:!1;function z1(n,e,t){n&&n.addEventListener(e,t,Sv)}function F1(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Sv)}function $1(n,e){const t=L1[n.type]||n.type,{x:i,y:r}=Hn(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function fu(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function U1(n,e,t){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||fu(u.addedNodes,i),l=l&&!fu(u.removedNodes,i);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function B1(n,e,t){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||fu(u.removedNodes,i),l=l&&!fu(u.addedNodes,i);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const la=new Map;let Sm=0;function kv(){const n=window.devicePixelRatio;n!==Sm&&(Sm=n,la.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function W1(n,e){la.size||window.addEventListener("resize",kv),la.set(n,e)}function V1(n){la.delete(n),la.size||window.removeEventListener("resize",kv)}function H1(n,e,t){const i=n.canvas,r=i&&jd(i);if(!r)return;const o=ev((u,h)=>{const d=r.clientWidth;t(u,h),d<r.clientWidth&&t()},window),l=new ResizeObserver(u=>{const h=u[0],d=h.contentRect.width,p=h.contentRect.height;d===0&&p===0||o(d,p)});return l.observe(r),W1(n,o),l}function Ch(n,e,t){t&&t.disconnect(),e==="resize"&&V1(n)}function q1(n,e,t){const i=n.canvas,r=ev(o=>{n.ctx!==null&&t($1(o,n))},n);return z1(i,e,r),r}class K1 extends xv{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(j1(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[iu])return!1;const i=t[iu].initial;["height","width"].forEach(o=>{const l=i[o];Ae(l)?t.removeAttribute(o):t.setAttribute(o,l)});const r=i.style||{};return Object.keys(r).forEach(o=>{t.style[o]=r[o]}),t.width=t.width,delete t[iu],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),l={attach:U1,detach:B1,resize:H1}[t]||q1;r[t]=l(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:Ch,detach:Ch,resize:Ch}[t]||F1)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return zk(e,t,i,r)}isAttached(e){const t=e&&jd(e);return!!(t&&t.isConnected)}}function Y1(n){return!Ld()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?N1:K1}class Mn{constructor(){ee(this,"x");ee(this,"y");ee(this,"active",!1);ee(this,"options");ee(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Ds(this.x)&&Ds(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}ee(Mn,"defaults",{}),ee(Mn,"defaultRoutes");function G1(n,e){const t=n.options.ticks,i=X1(n),r=Math.min(t.maxTicksLimit||i,i),o=t.major.enabled?Q1(e):[],l=o.length,u=o[0],h=o[l-1],d=[];if(l>r)return Z1(e,d,o,l/r),d;const p=J1(o,e,r);if(l>0){let m,v;const _=l>1?Math.round((h-u)/(l-1)):null;for($l(e,d,p,Ae(_)?0:u-_,u),m=0,v=l-1;m<v;m++)$l(e,d,p,o[m],o[m+1]);return $l(e,d,p,h,Ae(_)?e.length:h+_),d}return $l(e,d,p),d}function X1(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function J1(n,e,t){const i=eE(n),r=e.length/t;if(!i)return Math.max(r,1);const o=BS(i);for(let l=0,u=o.length-1;l<u;l++){const h=o[l];if(h>r)return h}return Math.max(r,1)}function Q1(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function Z1(n,e,t,i){let r=0,o=t[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(e.push(n[l]),r++,o=t[r*i])}function $l(n,e,t,i,r){const o=xe(i,0),l=Math.min(xe(r,n.length),n.length);let u=0,h,d,p;for(t=Math.ceil(t),r&&(h=r-i,t=h/Math.floor(h/t)),p=o;p<0;)u++,p=Math.round(o+u*t);for(d=Math.max(o,0);d<l;d++)d===p&&(e.push(n[d]),u++,p=Math.round(o+u*t))}function eE(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const tE=n=>n==="left"?"right":n==="right"?"left":n,km=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Em=(n,e)=>Math.min(e||n,n);function Tm(n,e){const t=[],i=n.length/e,r=n.length;let o=0;for(;o<r;o+=i)t.push(n[Math.floor(o)]);return t}function nE(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),o=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(r),d;if(!(t&&(i===1?d=Math.max(h-o,l-h):e===0?d=(n.getPixelForTick(1)-h)/2:d=(h-n.getPixelForTick(r-1))/2,h+=r<e?d:-d,h<o-u||h>l+u)))return h}function iE(n,e){Re(n,t=>{const i=t.gc,r=i.length/2;let o;if(r>e){for(o=0;o<r;++o)delete t.data[i[o]];i.splice(0,r)}})}function Mo(n){return n.drawTicks?n.tickLength:0}function Pm(n,e){if(!n.display)return 0;const t=ct(n.font,e),i=kt(n.padding);return(He(n.text)?n.text.length:1)*t.lineHeight+i.height}function rE(n,e){return tr(n,{scale:e,type:"scale"})}function sE(n,e,t){return tr(n,{tick:t,index:e,type:"tick"})}function oE(n,e,t){let i=Rd(n);return(t&&e!=="right"||!t&&e==="right")&&(i=tE(i)),i}function aE(n,e,t,i){const{top:r,left:o,bottom:l,right:u,chart:h}=n,{chartArea:d,scales:p}=h;let m=0,v,_,S;const b=l-r,E=u-o;if(n.isHorizontal()){if(_=Rt(i,o,u),Me(t)){const C=Object.keys(t)[0],T=t[C];S=p[C].getPixelForValue(T)+b-e}else t==="center"?S=(d.bottom+d.top)/2+b-e:S=km(n,t,e);v=u-o}else{if(Me(t)){const C=Object.keys(t)[0],T=t[C];_=p[C].getPixelForValue(T)-E+e}else t==="center"?_=(d.left+d.right)/2-E+e:_=km(n,t,e);S=Rt(i,l,r),m=t==="left"?-ot:ot}return{titleX:_,titleY:S,maxWidth:v,rotation:m}}class zr extends Mn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=rn(e,Number.POSITIVE_INFINITY),t=rn(t,Number.NEGATIVE_INFINITY),i=rn(i,Number.POSITIVE_INFINITY),r=rn(r,Number.NEGATIVE_INFINITY),{min:rn(e,i),max:rn(t,r),minDefined:nt(e),maxDefined:nt(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),l;if(r&&o)return{min:t,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,d=u.length;h<d;++h)l=u[h].controller.getMinMax(this,e),r||(t=Math.min(t,l.min)),o||(i=Math.max(i,l.max));return t=o&&t>i?i:t,i=r&&t>i?t:i,{min:rn(t,rn(i,t)),max:rn(i,rn(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ye(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=mk(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?Tm(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=G1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ye(this.options.afterUpdate,[this])}beforeSetDimensions(){ye(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ye(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ye(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ye(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i],o.label=ye(t.callback,[o.value,i,e],this)}afterTickToLabelConversion(){ye(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ye(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=Em(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,o=t.maxRotation;let l=r,u,h,d;if(!this._isVisible()||!t.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),m=p.widest.width,v=p.highest.height,_=_t(this.chart.width-m,0,this.maxWidth);u=e.offset?this.maxWidth/i:_/(i-1),m+6>u&&(u=_/(i-(e.offset?.5:1)),h=this.maxHeight-Mo(e.grid)-t.padding-Pm(e.title,this.chart.options.font),d=Math.sqrt(m*m+v*v),l=Cd(Math.min(Math.asin(_t((p.highest.height+6)/u,-1,1)),Math.asin(_t(h/d,-1,1))-Math.asin(_t(v/d,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){ye(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ye(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=Pm(r,t.options.font);if(u?(e.width=this.maxWidth,e.height=Mo(o)+h):(e.height=this.maxHeight,e.width=Mo(o)+h),i.display&&this.ticks.length){const{first:d,last:p,widest:m,highest:v}=this._getLabelSizes(),_=i.padding*2,S=Rn(this.labelRotation),b=Math.cos(S),E=Math.sin(S);if(u){const C=i.mirror?0:E*m.width+b*v.height;e.height=Math.min(this.maxHeight,e.height+C+_)}else{const C=i.mirror?0:b*m.width+E*v.height;e.width=Math.min(this.maxWidth,e.width+C+_)}this._calculatePadding(d,p,E,b)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:o,padding:l},position:u}=this.options,h=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,_=0;h?d?(v=r*e.width,_=i*t.height):(v=i*e.height,_=r*t.width):o==="start"?_=t.width:o==="end"?v=e.width:o!=="inner"&&(v=e.width/2,_=t.width/2),this.paddingLeft=Math.max((v-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((_-m+l)*this.width/(this.width-m),0)}else{let p=t.height/2,m=e.height/2;o==="start"?(p=0,m=e.height):o==="end"&&(p=t.height,m=0),this.paddingTop=p+l,this.paddingBottom=m+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ye(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Ae(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=Tm(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:o}=this,l=[],u=[],h=Math.floor(t/Em(t,i));let d=0,p=0,m,v,_,S,b,E,C,T,O,M,N;for(m=0;m<t;m+=h){if(S=e[m].label,b=this._resolveTickFontOptions(m),r.font=E=b.string,C=o[E]=o[E]||{data:{},gc:[]},T=b.lineHeight,O=M=0,!Ae(S)&&!He(S))O=hu(r,C.data,C.gc,O,S),M=T;else if(He(S))for(v=0,_=S.length;v<_;++v)N=S[v],!Ae(N)&&!He(N)&&(O=hu(r,C.data,C.gc,O,N),M+=T);l.push(O),u.push(M),d=Math.max(O,d),p=Math.max(M,p)}iE(o,t);const $=l.indexOf(d),U=u.indexOf(p),H=Z=>({width:l[Z]||0,height:u[Z]||0});return{first:H(0),last:H(t-1),widest:H($),highest:H(U),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return HS(this._alignToPixels?Sr(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=sE(this.getContext(),e,i))}return this.$context||(this.$context=rE(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Rn(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,u=o?o.widest.width+l:0,h=o?o.highest.height+l:0;return this.isHorizontal()?h*i>u*r?u/i:h/r:h*r<u*i?h/i:u/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:o,position:l,border:u}=r,h=o.offset,d=this.isHorizontal(),m=this.ticks.length+(h?1:0),v=Mo(o),_=[],S=u.setContext(this.getContext()),b=S.display?S.width:0,E=b/2,C=function(Te){return Sr(i,Te,b)};let T,O,M,N,$,U,H,Z,oe,ce,de,Ie;if(l==="top")T=C(this.bottom),U=this.bottom-v,Z=T-E,ce=C(e.top)+E,Ie=e.bottom;else if(l==="bottom")T=C(this.top),ce=e.top,Ie=C(e.bottom)-E,U=T+E,Z=this.top+v;else if(l==="left")T=C(this.right),$=this.right-v,H=T-E,oe=C(e.left)+E,de=e.right;else if(l==="right")T=C(this.left),oe=e.left,de=C(e.right)-E,$=T+E,H=this.left+v;else if(t==="x"){if(l==="center")T=C((e.top+e.bottom)/2+.5);else if(Me(l)){const Te=Object.keys(l)[0],ve=l[Te];T=C(this.chart.scales[Te].getPixelForValue(ve))}ce=e.top,Ie=e.bottom,U=T+E,Z=U+v}else if(t==="y"){if(l==="center")T=C((e.left+e.right)/2);else if(Me(l)){const Te=Object.keys(l)[0],ve=l[Te];T=C(this.chart.scales[Te].getPixelForValue(ve))}$=T-E,H=$-v,oe=e.left,de=e.right}const Ne=xe(r.ticks.maxTicksLimit,m),Se=Math.max(1,Math.ceil(m/Ne));for(O=0;O<m;O+=Se){const Te=this.getContext(O),ve=o.setContext(Te),V=u.setContext(Te),X=ve.lineWidth,J=ve.color,D=V.dash||[],B=V.dashOffset,ue=ve.tickWidth,he=ve.tickColor,ke=ve.tickBorderDash||[],_e=ve.tickBorderDashOffset;M=nE(this,O,h),M!==void 0&&(N=Sr(i,M,X),d?$=H=oe=de=N:U=Z=ce=Ie=N,_.push({tx1:$,ty1:U,tx2:H,ty2:Z,x1:oe,y1:ce,x2:de,y2:Ie,width:X,color:J,borderDash:D,borderDashOffset:B,tickWidth:ue,tickColor:he,tickBorderDash:ke,tickBorderDashOffset:_e}))}return this._ticksLength=m,this._borderValue=T,_}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:d,padding:p,mirror:m}=o,v=Mo(i.grid),_=v+p,S=m?-p:_,b=-Rn(this.labelRotation),E=[];let C,T,O,M,N,$,U,H,Z,oe,ce,de,Ie="middle";if(r==="top")$=this.bottom-S,U=this._getXAxisLabelAlignment();else if(r==="bottom")$=this.top+S,U=this._getXAxisLabelAlignment();else if(r==="left"){const Se=this._getYAxisLabelAlignment(v);U=Se.textAlign,N=Se.x}else if(r==="right"){const Se=this._getYAxisLabelAlignment(v);U=Se.textAlign,N=Se.x}else if(t==="x"){if(r==="center")$=(e.top+e.bottom)/2+_;else if(Me(r)){const Se=Object.keys(r)[0],Te=r[Se];$=this.chart.scales[Se].getPixelForValue(Te)+_}U=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")N=(e.left+e.right)/2-_;else if(Me(r)){const Se=Object.keys(r)[0],Te=r[Se];N=this.chart.scales[Se].getPixelForValue(Te)}U=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(h==="start"?Ie="top":h==="end"&&(Ie="bottom"));const Ne=this._getLabelSizes();for(C=0,T=u.length;C<T;++C){O=u[C],M=O.label;const Se=o.setContext(this.getContext(C));H=this.getPixelForTick(C)+o.labelOffset,Z=this._resolveTickFontOptions(C),oe=Z.lineHeight,ce=He(M)?M.length:1;const Te=ce/2,ve=Se.color,V=Se.textStrokeColor,X=Se.textStrokeWidth;let J=U;l?(N=H,U==="inner"&&(C===T-1?J=this.options.reverse?"left":"right":C===0?J=this.options.reverse?"right":"left":J="center"),r==="top"?d==="near"||b!==0?de=-ce*oe+oe/2:d==="center"?de=-Ne.highest.height/2-Te*oe+oe:de=-Ne.highest.height+oe/2:d==="near"||b!==0?de=oe/2:d==="center"?de=Ne.highest.height/2-Te*oe:de=Ne.highest.height-ce*oe,m&&(de*=-1),b!==0&&!Se.showLabelBackdrop&&(N+=oe/2*Math.sin(b))):($=H,de=(1-ce)*oe/2);let D;if(Se.showLabelBackdrop){const B=kt(Se.backdropPadding),ue=Ne.heights[C],he=Ne.widths[C];let ke=de-B.top,_e=0-B.left;switch(Ie){case"middle":ke-=ue/2;break;case"bottom":ke-=ue;break}switch(U){case"center":_e-=he/2;break;case"right":_e-=he;break;case"inner":C===T-1?_e-=he:C>0&&(_e-=he/2);break}D={left:_e,top:ke,width:he+B.width,height:ue+B.height,color:Se.backdropColor}}E.push({label:M,font:Z,textOffset:de,options:{rotation:b,color:ve,strokeColor:V,strokeWidth:X,textAlign:J,textBaseline:Ie,translation:[N,$],backdrop:D}})}return E}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Rn(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,l=this._getLabelSizes(),u=e+o,h=l.widest.width;let d,p;return t==="left"?r?(p=this.right+o,i==="near"?d="left":i==="center"?(d="center",p+=h/2):(d="right",p+=h)):(p=this.right-u,i==="near"?d="right":i==="center"?(d="center",p-=h/2):(d="left",p=this.left)):t==="right"?r?(p=this.left+o,i==="near"?d="right":i==="center"?(d="center",p-=h/2):(d="left",p-=h)):(p=this.left+u,i==="near"?d="left":i==="center"?(d="center",p+=h/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:o,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,o,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(o=>o.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,l;const u=(h,d,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(t.display)for(o=0,l=r.length;o<l;++o){const h=r[o];t.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let d,p,m,v;this.isHorizontal()?(d=Sr(e,this.left,l)-l/2,p=Sr(e,this.right,u)+u/2,m=v=h):(m=Sr(e,this.top,l)-l/2,v=Sr(e,this.bottom,u)+u/2,d=p=h),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(d,m),t.lineTo(p,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&wu(i,r);const o=this.getLabelItems(e);for(const l of o){const u=l.options,h=l.font,d=l.label,p=l.textOffset;Lr(i,d,0,p,h,u)}r&&bu(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const o=ct(i.font),l=kt(i.padding),u=i.align;let h=o.lineHeight/2;t==="bottom"||t==="center"||Me(t)?(h+=l.bottom,He(i.text)&&(h+=o.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:d,titleY:p,maxWidth:m,rotation:v}=aE(this,h,t,u);Lr(e,i.text,0,0,o,{color:i.color,maxWidth:m,rotation:v,textAlign:oE(u,t,r),textBaseline:"middle",translation:[d,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=xe(e.grid&&e.grid.z,-1),r=xe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==zr.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,l;for(o=0,l=t.length;o<l;++o){const u=t[o];u[i]===this.id&&(!e||u.type===e)&&r.push(u)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return ct(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ul{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;cE(t)&&(i=this.register(t));const r=this.items,o=e.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,lE(e,l,i),this.override&&Ke.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in Ke[r]&&(delete Ke[r][i],this.override&&delete Nr[i])}}function lE(n,e,t){const i=Kn(Object.create(null),[t?Ke.get(t):{},Ke.get(e),n.defaults]);Ke.set(e,i),n.defaultRoutes&&uE(e,n.defaultRoutes),n.descriptors&&Ke.describe(e,n.descriptors)}function uE(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),o=[n].concat(i).join("."),l=e[t].split("."),u=l.pop(),h=l.join(".");Ke.route(o,r,h,u)})}function cE(n){return"id"in n&&"defaults"in n}class hE{constructor(){this.controllers=new Ul(An,"datasets",!0),this.elements=new Ul(Mn,"elements"),this.plugins=new Ul(Object,"plugins"),this.scales=new Ul(zr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):Re(r,l=>{const u=i||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,i){const r=Pd(e);ye(i["before"+r],[],i),t[e](i),ye(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Vn=new hE;class dE{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=r?this._descriptors(e).filter(r):this._descriptors(e),l=this._notify(o,e,t,i);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,i,r){r=r||{};for(const o of e){const l=o.plugin,u=l[i],h=[t,r,o.options];if(ye(u,h,l)===!1&&r.cancelable)return!1}return!0}invalidate(){Ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=xe(i.options&&i.options.plugins,{}),o=fE(i);return r===!1&&!t?[]:gE(e,o,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(o,l)=>o.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function fE(n){const e={},t=[],i=Object.keys(Vn.plugins.items);for(let o=0;o<i.length;o++)t.push(Vn.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const l=r[o];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function pE(n,e){return!e&&n===!1?null:n===!0?{}:n}function gE(n,{plugins:e,localIds:t},i,r){const o=[],l=n.getContext();for(const u of e){const h=u.id,d=pE(i[h],r);d!==null&&o.push({plugin:u,options:mE(n.config,{plugin:u,local:t[h]},d,l)})}return o}function mE(n,{plugin:e,local:t},i,r){const o=n.pluginScopeKeys(e),l=n.getOptionScopes(i,o);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Jh(n,e){const t=Ke.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function yE(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function vE(n,e){return n===e?"_index_":"_value_"}function Cm(n){if(n==="x"||n==="y"||n==="r")return n}function _E(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Qh(n,...e){if(Cm(n))return n;for(const t of e){const i=t.axis||_E(t.position)||n.length>1&&Cm(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Om(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function wE(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return Om(n,"x",t[0])||Om(n,"y",t[0])}return{}}function bE(n,e){const t=Nr[n.type]||{scales:{}},i=e.scales||{},r=Jh(n.type,e),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Me(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=Qh(l,u,wE(l,n),Ke.scales[u.type]),d=vE(h,r),p=t.scales||{};o[l]=Bo(Object.create(null),[{axis:h},u,p[h],p[d]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||Jh(u,e),p=(Nr[u]||{}).scales||{};Object.keys(p).forEach(m=>{const v=yE(m,h),_=l[v+"AxisID"]||v;o[_]=o[_]||Object.create(null),Bo(o[_],[{axis:v},i[_],p[m]])})}),Object.keys(o).forEach(l=>{const u=o[l];Bo(u,[Ke.scales[u.type],Ke.scale])}),o}function Ev(n){const e=n.options||(n.options={});e.plugins=xe(e.plugins,{}),e.scales=bE(n,e)}function Tv(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function xE(n){return n=n||{},n.data=Tv(n.data),Ev(n),n}const Rm=new Map,Pv=new Set;function Bl(n,e){let t=Rm.get(n);return t||(t=e(),Rm.set(n,t),Pv.add(t)),t}const Io=(n,e,t)=>{const i=Qi(e,t);i!==void 0&&n.add(i)};class SE{constructor(e){this._config=xE(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Tv(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Ev(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Bl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Bl(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Bl(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return Bl(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:o}=this,l=this._cachedScopes(e,i),u=l.get(t);if(u)return u;const h=new Set;t.forEach(p=>{e&&(h.add(e),p.forEach(m=>Io(h,e,m))),p.forEach(m=>Io(h,r,m)),p.forEach(m=>Io(h,Nr[o]||{},m)),p.forEach(m=>Io(h,Ke,m)),p.forEach(m=>Io(h,Yh,m))});const d=Array.from(h);return d.length===0&&d.push(Object.create(null)),Pv.has(t)&&l.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,Nr[t]||{},Ke.datasets[t]||{},{type:t},Ke,Yh]}resolveNamedOptions(e,t,i,r=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=Am(this._resolverCache,e,r);let h=l;if(EE(l,t)){o.$shared=!1,i=Zi(i)?i():i;const d=this.createResolver(e,i,u);h=Ns(l,i,d)}for(const d of t)o[d]=h[d];return o}createResolver(e,t,i=[""],r){const{resolver:o}=Am(this._resolverCache,e,i);return Me(t)?Ns(o,t,void 0,r):o}}function Am(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let o=i.get(r);return o||(o={resolver:Id(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const kE=n=>Me(n)&&Object.getOwnPropertyNames(n).some(e=>Zi(n[e]));function EE(n,e){const{isScriptable:t,isIndexable:i}=ov(n);for(const r of e){const o=t(r),l=i(r),u=(l||o)&&n[r];if(o&&(Zi(u)||kE(u))||l&&He(u))return!0}return!1}var TE="4.4.7";const PE=["top","bottom","left","right","chartArea"];function Mm(n,e){return n==="top"||n==="bottom"||PE.indexOf(n)===-1&&e==="x"}function Im(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function Dm(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),ye(t&&t.onComplete,[n],e)}function CE(n){const e=n.chart,t=e.options.animation;ye(t&&t.onProgress,[n],e)}function Cv(n){return Ld()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const ru={},Nm=n=>{const e=Cv(n);return Object.values(ru).filter(t=>t.canvas===e).pop()};function OE(n,e,t){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=e){const l=n[r];delete n[r],(t>0||o>e)&&(n[o+t]=l)}}}function RE(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}function Wl(n,e,t){return n.options.clip?n[t]:e[t]}function AE(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:Wl(t,e,"left"),right:Wl(t,e,"right"),top:Wl(i,e,"top"),bottom:Wl(i,e,"bottom")}:e}class on{static register(...e){Vn.add(...e),Lm()}static unregister(...e){Vn.remove(...e),Lm()}constructor(e,t){const i=this.config=new SE(t),r=Cv(e),o=Nm(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Y1(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),h=u&&u.canvas,d=h&&h.height,p=h&&h.width;if(this.id=IS(),this.ctx=u,this.canvas=h,this.width=p,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new dE,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=GS(m=>this.update(m),l.resizeDelay||0),this._dataChanges=[],ru[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}ui.listen(this,"complete",Dm),ui.listen(this,"progress",CE),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:o}=this;return Ae(e)?t&&o?o:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Vn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return tm(this.canvas,this.ctx),this}stop(){return ui.stop(this),this}resize(e,t){ui.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,e,t,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,rm(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),ye(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Re(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];t&&(o=o.concat(Object.keys(t).map(l=>{const u=t[l],h=Qh(l,u),d=h==="r",p=h==="x";return{options:u,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),Re(o,l=>{const u=l.options,h=u.id,d=Qh(h,u),p=xe(u.type,l.dtype);(u.position===void 0||Mm(u.position,d)!==Mm(l.dposition))&&(u.position=l.dposition),r[h]=!0;let m=null;if(h in i&&i[h].type===p)m=i[h];else{const v=Vn.getScale(p);m=new v({id:h,type:p,ctx:this.ctx,chart:this}),i[m.id]=m}m.init(u,e)}),Re(r,(l,u)=>{l||delete i[u]}),Re(i,l=>{At.configure(this,l,l.options),At.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,o)=>r.index-o.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(Im("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const o=t[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||Jh(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=Vn.getController(u),{datasetElementType:d,dataElementType:p}=Ke.datasets[u];Object.assign(h,{dataElementType:Vn.getElement(p),datasetElementType:d&&Vn.getElement(d)}),l.controller=new h(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Re(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:m}=this.getDatasetMeta(d),v=!r&&o.indexOf(m)===-1;m.buildOrUpdateElements(v),l=Math.max(+m.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||Re(o,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Im("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Re(this.scales,e=>{At.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!qg(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of t){const l=i==="_removeElements"?-o:o;OE(e,r,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=o=>new Set(e.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let o=1;o<t;o++)if(!qg(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;At.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Re(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Zi(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ui.has(this)?this.attached&&!ui.running(this)&&ui.start(this):(this.draw(),Dm({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,o;for(r=0,o=t.length;r<o;++r){const l=t[r];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i=e._clip,r=!i.disabled,o=AE(e,this.chartArea),l={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(r&&wu(t,{left:i.left===!1?0:o.left-i.left,right:i.right===!1?this.width:o.right+i.right,top:i.top===!1?0:o.top-i.top,bottom:i.bottom===!1?this.height:o.bottom+i.bottom}),e.controller.draw(),r&&bu(t),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(e){return qn(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const o=P1.modes[t];return typeof o=="function"?o(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(o=>o&&o._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=tr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,r);sa(t)?(o.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ui.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),tm(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ru[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(o,l)=>{t.addEventListener(this,o,l),e[o]=l},r=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};Re(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(h,d)=>{t.addEventListener(this,h,d),e[h]=d},r=(h,d)=>{e[h]&&(t.removeEventListener(this,h,d),delete e[h])},o=(h,d)=>{this.canvas&&this.resize(h,d)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){Re(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Re(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let o,l,u,h;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){l=e[u];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!lu(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,o=(h,d)=>h.filter(p=>!d.some(m=>p.datasetIndex===m.datasetIndex&&p.index===m.index)),l=o(t,e),u=i?e:o(e,t);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:o}=this,l=t,u=this._getActiveElements(e,r,i,l),h=FS(e),d=RE(e,this._lastEvent,i,h);i&&(this._lastEvent=null,ye(o.onHover,[e,u,this],this),h&&ye(o.onClick,[e,u,this],this));const p=!lu(u,r);return(p||t)&&(this._active=u,this._updateHoverStyles(u,r,t)),this._lastEvent=d,p}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}}ee(on,"defaults",Ke),ee(on,"instances",ru),ee(on,"overrides",Nr),ee(on,"registry",Vn),ee(on,"version",TE),ee(on,"getChart",Nm);function Lm(){return Re(on.instances,n=>n._plugins.invalidate())}function ME(n,e,t){const{startAngle:i,pixelMargin:r,x:o,y:l,outerRadius:u,innerRadius:h}=e;let d=r/u;n.beginPath(),n.arc(o,l,u,i-d,t+d),h>r?(d=r/h,n.arc(o,l,h,t+d,i-d,!0)):n.arc(o,l,r,t+ot,i-ot),n.closePath(),n.clip()}function IE(n){return Md(n,["outerStart","outerEnd","innerStart","innerEnd"])}function DE(n,e,t,i){const r=IE(n.options.borderRadius),o=(t-e)/2,l=Math.min(o,i*e/2),u=h=>{const d=(t-Math.min(o,h))*i/2;return _t(h,0,Math.min(o,d))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:_t(r.innerStart,0,l),innerEnd:_t(r.innerEnd,0,l)}}function Ts(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function pu(n,e,t,i,r,o){const{x:l,y:u,startAngle:h,pixelMargin:d,innerRadius:p}=e,m=Math.max(e.outerRadius+i+t-d,0),v=p>0?p+i+t+d:0;let _=0;const S=r-h;if(i){const Se=p>0?p-i:0,Te=m>0?m-i:0,ve=(Se+Te)/2,V=ve!==0?S*ve/(ve+i):S;_=(S-V)/2}const b=Math.max(.001,S*m-t/Ye)/m,E=(S-b)/2,C=h+E+_,T=r-E-_,{outerStart:O,outerEnd:M,innerStart:N,innerEnd:$}=DE(e,v,m,T-C),U=m-O,H=m-M,Z=C+O/U,oe=T-M/H,ce=v+N,de=v+$,Ie=C+N/ce,Ne=T-$/de;if(n.beginPath(),o){const Se=(Z+oe)/2;if(n.arc(l,u,m,Z,Se),n.arc(l,u,m,Se,oe),M>0){const X=Ts(H,oe,l,u);n.arc(X.x,X.y,M,oe,T+ot)}const Te=Ts(de,T,l,u);if(n.lineTo(Te.x,Te.y),$>0){const X=Ts(de,Ne,l,u);n.arc(X.x,X.y,$,T+ot,Ne+Math.PI)}const ve=(T-$/v+(C+N/v))/2;if(n.arc(l,u,v,T-$/v,ve,!0),n.arc(l,u,v,ve,C+N/v,!0),N>0){const X=Ts(ce,Ie,l,u);n.arc(X.x,X.y,N,Ie+Math.PI,C-ot)}const V=Ts(U,C,l,u);if(n.lineTo(V.x,V.y),O>0){const X=Ts(U,Z,l,u);n.arc(X.x,X.y,O,C-ot,Z)}}else{n.moveTo(l,u);const Se=Math.cos(Z)*m+l,Te=Math.sin(Z)*m+u;n.lineTo(Se,Te);const ve=Math.cos(oe)*m+l,V=Math.sin(oe)*m+u;n.lineTo(ve,V)}n.closePath()}function NE(n,e,t,i,r){const{fullCircles:o,startAngle:l,circumference:u}=e;let h=e.endAngle;if(o){pu(n,e,t,i,h,r);for(let d=0;d<o;++d)n.fill();isNaN(u)||(h=l+(u%qe||qe))}return pu(n,e,t,i,h,r),n.fill(),h}function LE(n,e,t,i,r){const{fullCircles:o,startAngle:l,circumference:u,options:h}=e,{borderWidth:d,borderJoinStyle:p,borderDash:m,borderDashOffset:v}=h,_=h.borderAlign==="inner";if(!d)return;n.setLineDash(m||[]),n.lineDashOffset=v,_?(n.lineWidth=d*2,n.lineJoin=p||"round"):(n.lineWidth=d,n.lineJoin=p||"bevel");let S=e.endAngle;if(o){pu(n,e,t,i,S,r);for(let b=0;b<o;++b)n.stroke();isNaN(u)||(S=l+(u%qe||qe))}_&&ME(n,e,S),o||(pu(n,e,t,i,S,r),n.stroke())}class As extends Mn{constructor(t){super();ee(this,"circumference");ee(this,"endAngle");ee(this,"fullCircles");ee(this,"innerRadius");ee(this,"outerRadius");ee(this,"pixelMargin");ee(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,r){const o=this.getProps(["x","y"],r),{angle:l,distance:u}=Xy(o,{x:t,y:i}),{startAngle:h,endAngle:d,innerRadius:p,outerRadius:m,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),_=(this.options.spacing+this.options.borderWidth)/2,S=xe(v,d-h),b=oa(l,h,d)&&h!==d,E=S>=qe||b,C=fi(u,p+_,m+_);return E&&C}getCenterPoint(t){const{x:i,y:r,startAngle:o,endAngle:l,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:p}=this.options,m=(o+l)/2,v=(u+h+p+d)/2;return{x:i+Math.cos(m)*v,y:r+Math.sin(m)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:r}=this,o=(i.offset||0)/4,l=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>qe?Math.floor(r/qe):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*o,Math.sin(h)*o);const d=1-Math.sin(Math.min(Ye,r||0)),p=o*d;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,NE(t,this,p,l,u),LE(t,this,p,l,u),t.restore()}}ee(As,"id","arc"),ee(As,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ee(As,"defaultRoutes",{backgroundColor:"backgroundColor"}),ee(As,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function Ov(n,e,t=e){n.lineCap=xe(t.borderCapStyle,e.borderCapStyle),n.setLineDash(xe(t.borderDash,e.borderDash)),n.lineDashOffset=xe(t.borderDashOffset,e.borderDashOffset),n.lineJoin=xe(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=xe(t.borderWidth,e.borderWidth),n.strokeStyle=xe(t.borderColor,e.borderColor)}function jE(n,e,t){n.lineTo(t.x,t.y)}function zE(n){return n.stepped?ak:n.tension||n.cubicInterpolationMode==="monotone"?lk:jE}function Rv(n,e,t={}){const i=n.length,{start:r=0,end:o=i-1}=t,{start:l,end:u}=e,h=Math.max(r,l),d=Math.min(o,u),p=r<l&&o<l||r>u&&o>u;return{count:i,start:h,loop:e.loop,ilen:d<h&&!p?i+d-h:d-h}}function FE(n,e,t,i){const{points:r,options:o}=e,{count:l,start:u,loop:h,ilen:d}=Rv(r,t,i),p=zE(o);let{move:m=!0,reverse:v}=i||{},_,S,b;for(_=0;_<=d;++_)S=r[(u+(v?d-_:_))%l],!S.skip&&(m?(n.moveTo(S.x,S.y),m=!1):p(n,b,S,v,o.stepped),b=S);return h&&(S=r[(u+(v?d:0))%l],p(n,b,S,v,o.stepped)),!!h}function $E(n,e,t,i){const r=e.points,{count:o,start:l,ilen:u}=Rv(r,t,i),{move:h=!0,reverse:d}=i||{};let p=0,m=0,v,_,S,b,E,C;const T=M=>(l+(d?u-M:M))%o,O=()=>{b!==E&&(n.lineTo(p,E),n.lineTo(p,b),n.lineTo(p,C))};for(h&&(_=r[T(0)],n.moveTo(_.x,_.y)),v=0;v<=u;++v){if(_=r[T(v)],_.skip)continue;const M=_.x,N=_.y,$=M|0;$===S?(N<b?b=N:N>E&&(E=N),p=(m*p+M)/++m):(O(),n.lineTo(M,N),S=$,m=0,b=E=N),C=N}O()}function Zh(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?$E:FE}function UE(n){return n.stepped?$k:n.tension||n.cubicInterpolationMode==="monotone"?Uk:Pr}function BE(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),Ov(n,e.options),n.stroke(r)}function WE(n,e,t,i){const{segments:r,options:o}=e,l=Zh(e);for(const u of r)Ov(n,o,u.style),n.beginPath(),l(n,e,u,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const VE=typeof Path2D=="function";function HE(n,e,t,i){VE&&!e.options.segment?BE(n,e,t,i):WE(n,e,t,i)}class Gi extends Mn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;Mk(this._points,i,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Kk(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,r=e[t],o=this.points,l=mv(this,{property:t,start:r,end:r});if(!l.length)return;const u=[],h=UE(i);let d,p;for(d=0,p=l.length;d<p;++d){const{start:m,end:v}=l[d],_=o[m],S=o[v];if(_===S){u.push(_);continue}const b=Math.abs((r-_[t])/(S[t]-_[t])),E=h(_,S,b,i.stepped);E[t]=e[t],u.push(E)}return u.length===1?u[0]:u}pathSegment(e,t,i){return Zh(this)(e,this,t,i)}path(e,t,i){const r=this.segments,o=Zh(this);let l=this._loop;t=t||0,i=i||this.points.length-t;for(const u of r)l&=o(e,this,u,{start:t,end:t+i-1});return!!l}draw(e,t,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),HE(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ee(Gi,"id","line"),ee(Gi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ee(Gi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ee(Gi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function jm(n,e,t,i){const r=n.options,{[t]:o}=n.getProps([t],i);return Math.abs(e-o)<r.radius+r.hitRadius}class qo extends Mn{constructor(t){super();ee(this,"parsed");ee(this,"skip");ee(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){const o=this.options,{x:l,y:u}=this.getProps(["x","y"],r);return Math.pow(t-l,2)+Math.pow(i-u,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,i){return jm(this,t,"x",i)}inYRange(t,i){return jm(this,t,"y",i)}getCenterPoint(t){const{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const r=i&&t.borderWidth||0;return(i+r)*2}draw(t,i){const r=this.options;this.skip||r.radius<.1||!qn(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,Gh(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}ee(qo,"id","point"),ee(qo,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ee(qo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Av(n,e){const{x:t,y:i,base:r,width:o,height:l}=n.getProps(["x","y","base","width","height"],e);let u,h,d,p,m;return n.horizontal?(m=l/2,u=Math.min(t,r),h=Math.max(t,r),d=i-m,p=i+m):(m=o/2,u=t-m,h=t+m,d=Math.min(i,r),p=Math.max(i,r)),{left:u,top:d,right:h,bottom:p}}function Xi(n,e,t,i){return n?0:_t(e,t,i)}function qE(n,e,t){const i=n.options.borderWidth,r=n.borderSkipped,o=sv(i);return{t:Xi(r.top,o.top,0,t),r:Xi(r.right,o.right,0,e),b:Xi(r.bottom,o.bottom,0,t),l:Xi(r.left,o.left,0,e)}}function KE(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Ir(r),l=Math.min(e,t),u=n.borderSkipped,h=i||Me(r);return{topLeft:Xi(!h||u.top||u.left,o.topLeft,0,l),topRight:Xi(!h||u.top||u.right,o.topRight,0,l),bottomLeft:Xi(!h||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:Xi(!h||u.bottom||u.right,o.bottomRight,0,l)}}function YE(n){const e=Av(n),t=e.right-e.left,i=e.bottom-e.top,r=qE(n,t/2,i/2),o=KE(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Oh(n,e,t,i){const r=e===null,o=t===null,u=n&&!(r&&o)&&Av(n,i);return u&&(r||fi(e,u.left,u.right))&&(o||fi(t,u.top,u.bottom))}function GE(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function XE(n,e){n.rect(e.x,e.y,e.w,e.h)}function Rh(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,o=(n.x+n.w!==t.x+t.w?e:0)-i,l=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+l,radius:n.radius}}class Ko extends Mn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:l}=YE(this),u=GE(l.radius)?aa:XE;e.save(),(l.w!==o.w||l.h!==o.h)&&(e.beginPath(),u(e,Rh(l,t,o)),e.clip(),u(e,Rh(o,-t,l)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,Rh(o,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return Oh(this,e,t,i)}inXRange(e,t){return Oh(this,e,null,t)}inYRange(e,t){return Oh(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+r)/2:t,y:o?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ee(Ko,"id","bar"),ee(Ko,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ee(Ko,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var JE=Object.freeze({__proto__:null,ArcElement:As,BarElement:Ko,LineElement:Gi,PointElement:qo});const ed=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],zm=ed.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Mv(n){return ed[n%ed.length]}function Iv(n){return zm[n%zm.length]}function QE(n,e){return n.borderColor=Mv(e),n.backgroundColor=Iv(e),++e}function ZE(n,e){return n.backgroundColor=n.data.map(()=>Mv(e++)),e}function eT(n,e){return n.backgroundColor=n.data.map(()=>Iv(e++)),e}function tT(n){let e=0;return(t,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof Ar?e=ZE(t,e):r instanceof Ho?e=eT(t,e):r&&(e=QE(t,e))}}function Fm(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function nT(n){return n&&(n.borderColor||n.backgroundColor)}function iT(){return Ke.borderColor!=="rgba(0,0,0,0.1)"||Ke.backgroundColor!=="rgba(0,0,0,0.1)"}var rT={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:o}=r,l=Fm(i)||nT(r)||o&&Fm(o)||iT();if(!t.forceOverride&&l)return;const u=tT(n);i.forEach(u)}};function sT(n,e,t,i,r){const o=r.samples||i;if(o>=t)return n.slice(e,e+t);const l=[],u=(t-2)/(o-2);let h=0;const d=e+t-1;let p=e,m,v,_,S,b;for(l[h++]=n[p],m=0;m<o-2;m++){let E=0,C=0,T;const O=Math.floor((m+1)*u)+1+e,M=Math.min(Math.floor((m+2)*u)+1,t)+e,N=M-O;for(T=O;T<M;T++)E+=n[T].x,C+=n[T].y;E/=N,C/=N;const $=Math.floor(m*u)+1+e,U=Math.min(Math.floor((m+1)*u)+1,t)+e,{x:H,y:Z}=n[p];for(_=S=-1,T=$;T<U;T++)S=.5*Math.abs((H-E)*(n[T].y-Z)-(H-n[T].x)*(C-Z)),S>_&&(_=S,v=n[T],b=T);l[h++]=v,p=b}return l[h++]=n[d],l}function oT(n,e,t,i){let r=0,o=0,l,u,h,d,p,m,v,_,S,b;const E=[],C=e+t-1,T=n[e].x,M=n[C].x-T;for(l=e;l<e+t;++l){u=n[l],h=(u.x-T)/M*i,d=u.y;const N=h|0;if(N===p)d<S?(S=d,m=l):d>b&&(b=d,v=l),r=(o*r+u.x)/++o;else{const $=l-1;if(!Ae(m)&&!Ae(v)){const U=Math.min(m,v),H=Math.max(m,v);U!==_&&U!==$&&E.push({...n[U],x:r}),H!==_&&H!==$&&E.push({...n[H],x:r})}l>0&&$!==_&&E.push(n[$]),E.push(u),p=N,o=0,S=b=d,m=v=_=l}}return E}function Dv(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function $m(n){n.data.datasets.forEach(e=>{Dv(e)})}function aT(n,e){const t=e.length;let i=0,r;const{iScale:o}=n,{min:l,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();return h&&(i=_t(pi(e,o.axis,l).lo,0,t-1)),d?r=_t(pi(e,o.axis,u).hi+1,i,t)-i:r=t-i,{start:i,count:r}}var lT={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){$m(n);return}const i=n.width;n.data.datasets.forEach((r,o)=>{const{_data:l,indexAxis:u}=r,h=n.getDatasetMeta(o),d=l||r.data;if(Ve([u,n.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;const p=n.scales[h.xAxisID];if(p.type!=="linear"&&p.type!=="time"||n.options.parsing)return;let{start:m,count:v}=aT(h,d);const _=t.threshold||4*i;if(v<=_){Dv(r);return}Ae(l)&&(r._data=d,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(b){this._data=b}}));let S;switch(t.algorithm){case"lttb":S=sT(d,m,v,i,t);break;case"min-max":S=oT(d,m,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=S})},destroy(n){$m(n)}};function uT(n,e,t){const i=n.segments,r=n.points,o=e.points,l=[];for(const u of i){let{start:h,end:d}=u;d=Fd(h,d,r);const p=td(t,r[h],r[d],u.loop);if(!e.segments){l.push({source:u,target:p,start:r[h],end:r[d]});continue}const m=mv(e,p);for(const v of m){const _=td(t,o[v.start],o[v.end],v.loop),S=gv(u,r,_);for(const b of S)l.push({source:b,target:v,start:{[t]:Um(p,_,"start",Math.max)},end:{[t]:Um(p,_,"end",Math.min)}})}}return l}function td(n,e,t,i){if(i)return;let r=e[n],o=t[n];return n==="angle"&&(r=sn(r),o=sn(o)),{property:n,start:r,end:o}}function cT(n,e){const{x:t=null,y:i=null}=n||{},r=e.points,o=[];return e.segments.forEach(({start:l,end:u})=>{u=Fd(l,u,r);const h=r[l],d=r[u];i!==null?(o.push({x:h.x,y:i}),o.push({x:d.x,y:i})):t!==null&&(o.push({x:t,y:h.y}),o.push({x:t,y:d.y}))}),o}function Fd(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Um(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function Nv(n,e){let t=[],i=!1;return He(n)?(i=!0,t=n):t=cT(n,e),t.length?new Gi({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function Bm(n){return n&&n.fill!==!1}function hT(n,e,t){let r=n[e].fill;const o=[e];let l;if(!t)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!nt(r))return r;if(l=n[r],!l)return!1;if(l.visible)return r;o.push(r),r=l.fill}return!1}function dT(n,e,t){const i=mT(n);if(Me(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return nt(r)&&Math.floor(r)===r?fT(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function fT(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function pT(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:Me(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function gT(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:Me(n)?i=n.value:i=e.getBaseValue(),i}function mT(n){const e=n.options,t=e.fill;let i=xe(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function yT(n){const{scale:e,index:t,line:i}=n,r=[],o=i.segments,l=i.points,u=vT(e,t);u.push(Nv({x:null,y:e.bottom},i));for(let h=0;h<o.length;h++){const d=o[h];for(let p=d.start;p<=d.end;p++)_T(r,l[p],u)}return new Gi({points:r,options:{}})}function vT(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===e)break;o.hidden||t.unshift(o.dataset)}return t}function _T(n,e,t){const i=[];for(let r=0;r<t.length;r++){const o=t[r],{first:l,last:u,point:h}=wT(o,e,"x");if(!(!h||l&&u)){if(l)i.unshift(h);else if(n.push(h),!u)break}}n.push(...i)}function wT(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const r=i[t],o=n.segments,l=n.points;let u=!1,h=!1;for(let d=0;d<o.length;d++){const p=o[d],m=l[p.start][t],v=l[p.end][t];if(fi(r,m,v)){u=r===m,h=r===v;break}}return{first:u,last:h,point:i}}class Lv{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:r,y:o,radius:l}=this;return t=t||{start:0,end:qe},e.arc(r,o,l,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:r}=this,o=e.angle;return{x:t+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function bT(n){const{chart:e,fill:t,line:i}=n;if(nt(t))return xT(e,t);if(t==="stack")return yT(n);if(t==="shape")return!0;const r=ST(n);return r instanceof Lv?r:Nv(r,i)}function xT(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function ST(n){return(n.scale||{}).getPointPositionForValue?ET(n):kT(n)}function kT(n){const{scale:e={},fill:t}=n,i=pT(t,e);if(nt(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function ET(n){const{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,o=i.reverse?e.max:e.min,l=gT(t,e,o),u=[];if(i.grid.circular){const h=e.getPointPositionForValue(0,o);return new Lv({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(l)})}for(let h=0;h<r;++h)u.push(e.getPointPositionForValue(h,l));return u}function Ah(n,e,t){const i=bT(e),{line:r,scale:o,axis:l}=e,u=r.options,h=u.fill,d=u.backgroundColor,{above:p=d,below:m=d}=h||{};i&&r.points.length&&(wu(n,t),TT(n,{line:r,target:i,above:p,below:m,area:t,scale:o,axis:l}),bu(n))}function TT(n,e){const{line:t,target:i,above:r,below:o,area:l,scale:u}=e,h=t._loop?"angle":e.axis;n.save(),h==="x"&&o!==r&&(Wm(n,i,l.top),Vm(n,{line:t,target:i,color:r,scale:u,property:h}),n.restore(),n.save(),Wm(n,i,l.bottom)),Vm(n,{line:t,target:i,color:o,scale:u,property:h}),n.restore()}function Wm(n,e,t){const{segments:i,points:r}=e;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:h,end:d}=u,p=r[h],m=r[Fd(h,d,r)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(p.x,t),n.lineTo(p.x,p.y)),l=!!e.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(m.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function Vm(n,e){const{line:t,target:i,property:r,color:o,scale:l}=e,u=uT(t,i,r);for(const{source:h,target:d,start:p,end:m}of u){const{style:{backgroundColor:v=o}={}}=h,_=i!==!0;n.save(),n.fillStyle=v,PT(n,l,_&&td(r,p,m)),n.beginPath();const S=!!t.pathSegment(n,h);let b;if(_){S?n.closePath():Hm(n,i,m,r);const E=!!i.pathSegment(n,d,{move:S,reverse:!0});b=S&&E,b||Hm(n,i,p,r)}n.closePath(),n.fill(b?"evenodd":"nonzero"),n.restore()}}function PT(n,e,t){const{top:i,bottom:r}=e.chart.chartArea,{property:o,start:l,end:u}=t||{};o==="x"&&(n.beginPath(),n.rect(l,i,u-l,r-i),n.clip())}function Hm(n,e,t,i){const r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var CT={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,r=[];let o,l,u,h;for(l=0;l<i;++l)o=n.getDatasetMeta(l),u=o.dataset,h=null,u&&u.options&&u instanceof Gi&&(h={visible:n.isDatasetVisible(l),index:l,fill:dT(u,l,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=h,r.push(h);for(l=0;l<i;++l)h=r[l],!(!h||h.fill===!1)&&(h.fill=hT(r,l,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=r.length-1;l>=0;--l){const u=r[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),i&&u.fill&&Ah(n.ctx,u,o))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;Bm(o)&&Ah(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!Bm(i)||t.drawTime!=="beforeDatasetDraw"||Ah(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const qm=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},OT=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Km extends Mn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=ye(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=ct(i.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=qm(i,o);let d,p;t.font=r.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(l,o,u,h)+10):(p=this.maxHeight,d=this._fitCols(l,r,u,h)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],d=this.lineWidths=[0],p=r+u;let m=e;o.textAlign="left",o.textBaseline="middle";let v=-1,_=-p;return this.legendItems.forEach((S,b)=>{const E=i+t/2+o.measureText(S.text).width;(b===0||d[d.length-1]+E+2*u>l)&&(m+=p,d[d.length-(b>0?0:1)]=0,_+=p,v++),h[b]={left:0,top:_,row:v,width:E,height:r},d[d.length-1]+=E+u}),m}_fitCols(e,t,i,r){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],d=this.columnSizes=[],p=l-e;let m=u,v=0,_=0,S=0,b=0;return this.legendItems.forEach((E,C)=>{const{itemWidth:T,itemHeight:O}=RT(i,t,o,E,r);C>0&&_+O+2*u>p&&(m+=v+u,d.push({width:v,height:_}),S+=v+u,b++,v=_=0),h[C]={left:S,top:_,col:b,width:T,height:O},v=Math.max(v,T),_+=O+u}),m+=v,d.push({width:v,height:_}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:o}}=this,l=Is(o,this.left,this.width);if(this.isHorizontal()){let u=0,h=Rt(i,this.left+r,this.right-this.lineWidths[u]);for(const d of t)u!==d.row&&(u=d.row,h=Rt(i,this.left+r,this.right-this.lineWidths[u])),d.top+=this.top+e+r,d.left=l.leftForLtr(l.x(h),d.width),h+=d.width+r}else{let u=0,h=Rt(i,this.top+e+r,this.bottom-this.columnSizes[u].height);for(const d of t)d.col!==u&&(u=d.col,h=Rt(i,this.top+e+r,this.bottom-this.columnSizes[u].height)),d.top=h,d.left+=this.left+r,d.left=l.leftForLtr(l.x(d.left),d.width),h+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;wu(e,this),this._draw(),bu(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:o,labels:l}=e,u=Ke.color,h=Is(e.rtl,this.left,this.width),d=ct(l.font),{padding:p}=l,m=d.size,v=m/2;let _;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:S,boxHeight:b,itemHeight:E}=qm(l,m),C=function($,U,H){if(isNaN(S)||S<=0||isNaN(b)||b<0)return;r.save();const Z=xe(H.lineWidth,1);if(r.fillStyle=xe(H.fillStyle,u),r.lineCap=xe(H.lineCap,"butt"),r.lineDashOffset=xe(H.lineDashOffset,0),r.lineJoin=xe(H.lineJoin,"miter"),r.lineWidth=Z,r.strokeStyle=xe(H.strokeStyle,u),r.setLineDash(xe(H.lineDash,[])),l.usePointStyle){const oe={radius:b*Math.SQRT2/2,pointStyle:H.pointStyle,rotation:H.rotation,borderWidth:Z},ce=h.xPlus($,S/2),de=U+v;rv(r,oe,ce,de,l.pointStyleWidth&&S)}else{const oe=U+Math.max((m-b)/2,0),ce=h.leftForLtr($,S),de=Ir(H.borderRadius);r.beginPath(),Object.values(de).some(Ie=>Ie!==0)?aa(r,{x:ce,y:oe,w:S,h:b,radius:de}):r.rect(ce,oe,S,b),r.fill(),Z!==0&&r.stroke()}r.restore()},T=function($,U,H){Lr(r,H.text,$,U+E/2,d,{strikethrough:H.hidden,textAlign:h.textAlign(H.textAlign)})},O=this.isHorizontal(),M=this._computeTitleHeight();O?_={x:Rt(o,this.left+p,this.right-i[0]),y:this.top+p+M,line:0}:_={x:this.left+p,y:Rt(o,this.top+M+p,this.bottom-t[0].height),line:0},dv(this.ctx,e.textDirection);const N=E+p;this.legendItems.forEach(($,U)=>{r.strokeStyle=$.fontColor,r.fillStyle=$.fontColor;const H=r.measureText($.text).width,Z=h.textAlign($.textAlign||($.textAlign=l.textAlign)),oe=S+v+H;let ce=_.x,de=_.y;h.setWidth(this.width),O?U>0&&ce+oe+p>this.right&&(de=_.y+=N,_.line++,ce=_.x=Rt(o,this.left+p,this.right-i[_.line])):U>0&&de+N>this.bottom&&(ce=_.x=ce+t[_.line].width+p,_.line++,de=_.y=Rt(o,this.top+M+p,this.bottom-t[_.line].height));const Ie=h.x(ce);if(C(Ie,de,$),ce=XS(Z,ce+S+v,O?ce+oe:this.right,e.rtl),T(h.x(ce),de,$),O)_.x+=oe+p;else if(typeof $.text!="string"){const Ne=d.lineHeight;_.y+=jv($,Ne)+p}else _.y+=N}),fv(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=ct(t.font),r=kt(t.padding);if(!t.display)return;const o=Is(e.rtl,this.left,this.width),l=this.ctx,u=t.position,h=i.size/2,d=r.top+h;let p,m=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+d,m=Rt(e.align,m,this.right-v);else{const S=this.columnSizes.reduce((b,E)=>Math.max(b,E.height),0);p=d+Rt(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const _=Rt(u,m,m+v);l.textAlign=o.textAlign(Rd(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=i.string,Lr(l,t.text,_,p,i)}_computeTitleHeight(){const e=this.options.title,t=ct(e.font),i=kt(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,o;if(fi(e,this.left,this.right)&&fi(t,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],fi(e,r.left,r.left+r.width)&&fi(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!IT(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,o=OT(r,i);r&&!o&&ye(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!o&&ye(t.onHover,[e,i,this],this)}else i&&ye(t.onClick,[e,i,this],this)}}function RT(n,e,t,i,r){const o=AT(i,n,e,t),l=MT(r,i,e.lineHeight);return{itemWidth:o,itemHeight:l}}function AT(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,l)=>o.length>l.length?o:l)),e+t.size/2+i.measureText(r).width}function MT(n,e,t){let i=n;return typeof e.text!="string"&&(i=jv(e,t)),i}function jv(n,e){const t=n.text?n.text.length:0;return e*t}function IT(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var DT={id:"legend",_element:Km,start(n,e,t){const i=n.legend=new Km({ctx:n.ctx,options:t,chart:n});At.configure(n,i,t),At.addBox(n,i)},stop(n){At.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;At.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const d=h.controller.getStyle(t?0:void 0),p=kt(d.borderWidth);return{text:e[h.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:l&&(u||d.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class $d extends Mn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=He(i.text)?i.text.length:1;this._padding=kt(i.padding);const o=r*ct(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:r,right:o,options:l}=this,u=l.align;let h=0,d,p,m;return this.isHorizontal()?(p=Rt(u,i,o),m=t+e,d=o-i):(l.position==="left"?(p=i+e,m=Rt(u,r,t),h=Ye*-.5):(p=o-e,m=Rt(u,t,r),h=Ye*.5),d=r-t),{titleX:p,titleY:m,maxWidth:d,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=ct(t.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:h,rotation:d}=this._drawArgs(o);Lr(e,t.text,0,0,i,{color:t.color,maxWidth:h,rotation:d,textAlign:Rd(t.align),textBaseline:"middle",translation:[l,u]})}}function NT(n,e){const t=new $d({ctx:n.ctx,options:e,chart:n});At.configure(n,t,e),At.addBox(n,t),n.titleBlock=t}var LT={id:"title",_element:$d,start(n,e,t){NT(n,t)},stop(n){const e=n.titleBlock;At.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;At.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vl=new WeakMap;var jT={id:"subtitle",start(n,e,t){const i=new $d({ctx:n.ctx,options:t,chart:n});At.configure(n,i,t),At.addBox(n,i),Vl.set(n,i)},stop(n){At.removeBox(n,Vl.get(n)),Vl.delete(n)},beforeUpdate(n,e,t){const i=Vl.get(n);At.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const zo={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,o=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),r+=h.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:r/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const h=n[o].element;if(h&&h.hasValue()){const d=h.getCenterPoint(),p=Kh(e,d);p<r&&(r=p,u=h)}}if(u){const h=u.tooltipPosition();t=h.x,i=h.y}return{x:t,y:i}}};function Wn(n,e){return e&&(He(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function ci(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function zT(n,e){const{element:t,datasetIndex:i,index:r}=e,o=n.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(r);return{chart:n,label:l,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function Ym(n,e){const t=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:l,boxHeight:u}=e,h=ct(e.bodyFont),d=ct(e.titleFont),p=ct(e.footerFont),m=o.length,v=r.length,_=i.length,S=kt(e.padding);let b=S.height,E=0,C=i.reduce((M,N)=>M+N.before.length+N.lines.length+N.after.length,0);if(C+=n.beforeBody.length+n.afterBody.length,m&&(b+=m*d.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),C){const M=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;b+=_*M+(C-_)*h.lineHeight+(C-1)*e.bodySpacing}v&&(b+=e.footerMarginTop+v*p.lineHeight+(v-1)*e.footerSpacing);let T=0;const O=function(M){E=Math.max(E,t.measureText(M).width+T)};return t.save(),t.font=d.string,Re(n.title,O),t.font=h.string,Re(n.beforeBody.concat(n.afterBody),O),T=e.displayColors?l+2+e.boxPadding:0,Re(i,M=>{Re(M.before,O),Re(M.lines,O),Re(M.after,O)}),T=0,t.font=p.string,Re(n.footer,O),t.restore(),E+=S.width,{width:E,height:b}}function FT(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function $T(n,e,t,i){const{x:r,width:o}=i,l=t.caretSize+t.caretPadding;if(n==="left"&&r+o+l>e.width||n==="right"&&r-o-l<0)return!0}function UT(n,e,t,i){const{x:r,width:o}=t,{width:l,chartArea:{left:u,right:h}}=n;let d="center";return i==="center"?d=r<=(u+h)/2?"left":"right":r<=o/2?d="left":r>=l-o/2&&(d="right"),$T(d,n,e,t)&&(d="center"),d}function Gm(n,e,t){const i=t.yAlign||e.yAlign||FT(n,t);return{xAlign:t.xAlign||e.xAlign||UT(n,e,t,i),yAlign:i}}function BT(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function WT(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function Xm(n,e,t,i){const{caretSize:r,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:h}=t,d=r+o,{topLeft:p,topRight:m,bottomLeft:v,bottomRight:_}=Ir(l);let S=BT(e,u);const b=WT(e,h,d);return h==="center"?u==="left"?S+=d:u==="right"&&(S-=d):u==="left"?S-=Math.max(p,v)+r:u==="right"&&(S+=Math.max(m,_)+r),{x:_t(S,0,i.width-e.width),y:_t(b,0,i.height-e.height)}}function Hl(n,e,t){const i=kt(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function Jm(n){return Wn([],ci(n))}function VT(n,e,t){return tr(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Qm(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const zv={beforeTitle:li,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:li,beforeBody:li,beforeLabel:li,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Ae(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:li,afterBody:li,beforeFooter:li,footer:li,afterFooter:li};function Vt(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?zv[e].call(t,i):r}class nd extends Mn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,o=new yv(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=VT(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=Vt(i,"beforeTitle",this,e),o=Vt(i,"title",this,e),l=Vt(i,"afterTitle",this,e);let u=[];return u=Wn(u,ci(r)),u=Wn(u,ci(o)),u=Wn(u,ci(l)),u}getBeforeBody(e,t){return Jm(Vt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return Re(e,o=>{const l={before:[],lines:[],after:[]},u=Qm(i,o);Wn(l.before,ci(Vt(u,"beforeLabel",this,o))),Wn(l.lines,Vt(u,"label",this,o)),Wn(l.after,ci(Vt(u,"afterLabel",this,o))),r.push(l)}),r}getAfterBody(e,t){return Jm(Vt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=Vt(i,"beforeFooter",this,e),o=Vt(i,"footer",this,e),l=Vt(i,"afterFooter",this,e);let u=[];return u=Wn(u,ci(r)),u=Wn(u,ci(o)),u=Wn(u,ci(l)),u}_createItems(e){const t=this._active,i=this.chart.data,r=[],o=[],l=[];let u=[],h,d;for(h=0,d=t.length;h<d;++h)u.push(zT(this.chart,t[h]));return e.filter&&(u=u.filter((p,m,v)=>e.filter(p,m,v,i))),e.itemSort&&(u=u.sort((p,m)=>e.itemSort(p,m,i))),Re(u,p=>{const m=Qm(e.callbacks,p);r.push(Vt(m,"labelColor",this,p)),o.push(Vt(m,"labelPointStyle",this,p)),l.push(Vt(m,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let o,l=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const u=zo[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=Ym(this,i),d=Object.assign({},u,h),p=Gm(this.chart,i,d),m=Xm(i,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:m.x,y:m.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const o=this.getCaretPosition(e,i,r);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:d,bottomLeft:p,bottomRight:m}=Ir(u),{x:v,y:_}=e,{width:S,height:b}=t;let E,C,T,O,M,N;return o==="center"?(M=_+b/2,r==="left"?(E=v,C=E-l,O=M+l,N=M-l):(E=v+S,C=E+l,O=M-l,N=M+l),T=E):(r==="left"?C=v+Math.max(h,p)+l:r==="right"?C=v+S-Math.max(d,m)-l:C=this.caretX,o==="top"?(O=_,M=O-l,E=C-l,T=C+l):(O=_+b,M=O+l,E=C+l,T=C-l),N=O),{x1:E,x2:C,x3:T,y1:O,y2:M,y3:N}}drawTitle(e,t,i){const r=this.title,o=r.length;let l,u,h;if(o){const d=Is(i.rtl,this.x,this.width);for(e.x=Hl(this,i.titleAlign,i),t.textAlign=d.textAlign(i.titleAlign),t.textBaseline="middle",l=ct(i.titleFont),u=i.titleSpacing,t.fillStyle=i.titleColor,t.font=l.string,h=0;h<o;++h)t.fillText(r[h],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,h+1===o&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,t,i,r,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:d}=o,p=ct(o.bodyFont),m=Hl(this,"left",o),v=r.x(m),_=h<p.lineHeight?(p.lineHeight-h)/2:0,S=t.y+_;if(o.usePointStyle){const b={radius:Math.min(d,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},E=r.leftForLtr(v,d)+d/2,C=S+h/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Gh(e,b,E,C),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Gh(e,b,E,C)}else{e.lineWidth=Me(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const b=r.leftForLtr(v,d),E=r.leftForLtr(r.xPlus(v,1),d-2),C=Ir(l.borderRadius);Object.values(C).some(T=>T!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,aa(e,{x:b,y:S,w:d,h,radius:C}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),aa(e,{x:E,y:S+1,w:d-2,h:h-2,radius:C}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(b,S,d,h),e.strokeRect(b,S,d,h),e.fillStyle=l.backgroundColor,e.fillRect(E,S+1,d-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:d,boxPadding:p}=i,m=ct(i.bodyFont);let v=m.lineHeight,_=0;const S=Is(i.rtl,this.x,this.width),b=function(H){t.fillText(H,S.x(e.x+_),e.y+v/2),e.y+=v+o},E=S.textAlign(l);let C,T,O,M,N,$,U;for(t.textAlign=l,t.textBaseline="middle",t.font=m.string,e.x=Hl(this,E,i),t.fillStyle=i.bodyColor,Re(this.beforeBody,b),_=u&&E!=="right"?l==="center"?d/2+p:d+2+p:0,M=0,$=r.length;M<$;++M){for(C=r[M],T=this.labelTextColors[M],t.fillStyle=T,Re(C.before,b),O=C.lines,u&&O.length&&(this._drawColorBox(t,e,M,S,i),v=Math.max(m.lineHeight,h)),N=0,U=O.length;N<U;++N)b(O[N]),v=m.lineHeight;Re(C.after,b)}_=0,v=m.lineHeight,Re(this.afterBody,b),e.y-=o}drawFooter(e,t,i){const r=this.footer,o=r.length;let l,u;if(o){const h=Is(i.rtl,this.x,this.width);for(e.x=Hl(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=h.textAlign(i.footerAlign),t.textBaseline="middle",l=ct(i.footerFont),t.fillStyle=i.footerColor,t.font=l.string,u=0;u<o;++u)t.fillText(r[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:o,yAlign:l}=this,{x:u,y:h}=e,{width:d,height:p}=i,{topLeft:m,topRight:v,bottomLeft:_,bottomRight:S}=Ir(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(u+m,h),l==="top"&&this.drawCaret(e,t,i,r),t.lineTo(u+d-v,h),t.quadraticCurveTo(u+d,h,u+d,h+v),l==="center"&&o==="right"&&this.drawCaret(e,t,i,r),t.lineTo(u+d,h+p-S),t.quadraticCurveTo(u+d,h+p,u+d-S,h+p),l==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(u+_,h+p),t.quadraticCurveTo(u,h+p,u,h+p-_),l==="center"&&o==="left"&&this.drawCaret(e,t,i,r),t.lineTo(u,h+m),t.quadraticCurveTo(u,h,u+m,h),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const l=zo[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=Ym(this,e),h=Object.assign({},l,this._size),d=Gm(t,e,h),p=Xm(e,h,d,t);(r._to!==p.x||o._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=kt(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,r,t),dv(e,t.textDirection),o.y+=l.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),fv(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:u,index:h})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[h],index:h}}),o=!lu(i,r),l=this._positionChanged(r,t);(o||l)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],l=this._getActiveElements(e,o,t,i),u=this._positionChanged(l,e),h=t||!lu(l,o)||u;return h&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,i,r){const o=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:i,caretY:r,options:o}=this,l=zo[o.position].call(this,e,t);return l!==!1&&(i!==l.x||r!==l.y)}}ee(nd,"positioners",zo);var HT={id:"tooltip",_element:nd,positioners:zo,afterInit(n,e,t){t&&(n.tooltip=new nd({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:zv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},qT=Object.freeze({__proto__:null,Colors:rT,Decimation:lT,Filler:CT,Legend:DT,SubTitle:jT,Title:LT,Tooltip:HT});const KT=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function YT(n,e,t,i){const r=n.indexOf(e);if(r===-1)return KT(n,e,t,i);const o=n.lastIndexOf(e);return r!==o?t:r}const GT=(n,e)=>n===null?null:_t(Math.round(n),0,e);function Zm(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class id extends zr{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:o}of t)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ae(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:YT(i,e,xe(t,e),this._addedLabels),GT(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=t;l++)r.push({value:l});return r}getLabelForValue(e){return Zm.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ee(id,"id","category"),ee(id,"defaults",{ticks:{callback:Zm}});function XT(n,e){const t=[],{bounds:r,step:o,min:l,max:u,precision:h,count:d,maxTicks:p,maxDigits:m,includeBounds:v}=n,_=o||1,S=p-1,{min:b,max:E}=e,C=!Ae(l),T=!Ae(u),O=!Ae(d),M=(E-b)/(m+1);let N=Yg((E-b)/S/_)*_,$,U,H,Z;if(N<1e-14&&!C&&!T)return[{value:b},{value:E}];Z=Math.ceil(E/N)-Math.floor(b/N),Z>S&&(N=Yg(Z*N/S/_)*_),Ae(h)||($=Math.pow(10,h),N=Math.ceil(N*$)/$),r==="ticks"?(U=Math.floor(b/N)*N,H=Math.ceil(E/N)*N):(U=b,H=E),C&&T&&o&&WS((u-l)/o,N/1e3)?(Z=Math.round(Math.min((u-l)/N,p)),N=(u-l)/Z,U=l,H=u):O?(U=C?l:U,H=T?u:H,Z=d-1,N=(H-U)/Z):(Z=(H-U)/N,Mr(Z,Math.round(Z),N/1e3)?Z=Math.round(Z):Z=Math.ceil(Z));const oe=Math.max(Gg(N),Gg(U));$=Math.pow(10,Ae(h)?oe:h),U=Math.round(U*$)/$,H=Math.round(H*$)/$;let ce=0;for(C&&(v&&U!==l?(t.push({value:l}),U<l&&ce++,Mr(Math.round((U+ce*N)*$)/$,l,ey(l,M,n))&&ce++):U<l&&ce++);ce<Z;++ce){const de=Math.round((U+ce*N)*$)/$;if(T&&de>u)break;t.push({value:de})}return T&&v&&H!==u?t.length&&Mr(t[t.length-1].value,u,ey(u,M,n))?t[t.length-1].value=u:t.push({value:u}):(!T||H===u)&&t.push({value:H}),t}function ey(n,e,{horizontal:t,minRotation:i}){const r=Rn(i),o=(t?Math.sin(r):Math.cos(r))||.001,l=.75*e*(""+n).length;return Math.min(e/o,l)}class gu extends zr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ae(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const l=h=>r=t?r:h,u=h=>o=i?o:h;if(e){const h=yn(r),d=yn(o);h<0&&d<0?u(0):h>0&&d>0&&l(0)}if(r===o){let h=o===0?1:Math.abs(o*.05);u(o+h),e||l(r-h)}this.min=r,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,l=XT(r,o);return e.bounds==="ticks"&&Gy(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return pa(e,this.chart.options.locale,this.options.ticks.format)}}class rd extends gu{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=nt(e)?e:0,this.max=nt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Rn(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ee(rd,"id","linear"),ee(rd,"defaults",{ticks:{callback:_u.formatters.numeric}});const ua=n=>Math.floor(Yi(n)),Er=(n,e)=>Math.pow(10,ua(n)+e);function ty(n){return n/Math.pow(10,ua(n))===1}function ny(n,e,t){const i=Math.pow(10,t),r=Math.floor(n/i);return Math.ceil(e/i)-r}function JT(n,e){const t=e-n;let i=ua(t);for(;ny(n,e,i)>10;)i++;for(;ny(n,e,i)<10;)i--;return Math.min(i,ua(n))}function QT(n,{min:e,max:t}){e=rn(n.min,e);const i=[],r=ua(e);let o=JT(e,t),l=o<0?Math.pow(10,Math.abs(o)):1;const u=Math.pow(10,o),h=r>o?Math.pow(10,r):0,d=Math.round((e-h)*l)/l,p=Math.floor((e-h)/u/10)*u*10;let m=Math.floor((d-p)/Math.pow(10,o)),v=rn(n.min,Math.round((h+p+m*Math.pow(10,o))*l)/l);for(;v<t;)i.push({value:v,major:ty(v),significand:m}),m>=10?m=m<15?15:20:m++,m>=20&&(o++,m=2,l=o>=0?1:l),v=Math.round((h+p+m*Math.pow(10,o))*l)/l;const _=rn(n.max,v);return i.push({value:_,major:ty(_),significand:m}),i}class sd extends zr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=gu.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return nt(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=nt(e)?Math.max(0,e):null,this.max=nt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!nt(this._userMin)&&(this.min=e===Er(this.min,0)?Er(this.min,-1):Er(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,r=this.max;const o=u=>i=e?i:u,l=u=>r=t?r:u;i===r&&(i<=0?(o(1),l(10)):(o(Er(i,-1)),l(Er(r,1)))),i<=0&&o(Er(r,-1)),r<=0&&l(Er(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},i=QT(t,this);return e.bounds==="ticks"&&Gy(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":pa(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Yi(e),this._valueRange=Yi(this.max)-Yi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Yi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}ee(sd,"id","logarithmic"),ee(sd,"defaults",{ticks:{callback:_u.formatters.logarithmic,major:{enabled:!0}}});function od(n){const e=n.ticks;if(e.display&&n.display){const t=kt(e.backdropPadding);return xe(e.font&&e.font.size,Ke.font.size)+t.height}return 0}function ZT(n,e,t){return t=He(t)?t:[t],{w:ok(n,e.string,t),h:t.length*e.lineHeight}}function iy(n,e,t,i,r){return n===i||n===r?{start:e-t/2,end:e+t/2}:n<i||n>r?{start:e-t,end:e}:{start:e,end:e+t}}function eP(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],r=[],o=n._pointLabels.length,l=n.options.pointLabels,u=l.centerPointLabels?Ye/o:0;for(let h=0;h<o;h++){const d=l.setContext(n.getPointLabelContext(h));r[h]=d.padding;const p=n.getPointPosition(h,n.drawingArea+r[h],u),m=ct(d.font),v=ZT(n.ctx,m,n._pointLabels[h]);i[h]=v;const _=sn(n.getIndexAngle(h)+u),S=Math.round(Cd(_)),b=iy(S,p.x,v.w,0,180),E=iy(S,p.y,v.h,90,270);tP(t,e,_,b,E)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=rP(n,i,r)}function tP(n,e,t,i,r){const o=Math.abs(Math.sin(t)),l=Math.abs(Math.cos(t));let u=0,h=0;i.start<e.l?(u=(e.l-i.start)/o,n.l=Math.min(n.l,e.l-u)):i.end>e.r&&(u=(i.end-e.r)/o,n.r=Math.max(n.r,e.r+u)),r.start<e.t?(h=(e.t-r.start)/l,n.t=Math.min(n.t,e.t-h)):r.end>e.b&&(h=(r.end-e.b)/l,n.b=Math.max(n.b,e.b+h))}function nP(n,e,t){const i=n.drawingArea,{extra:r,additionalAngle:o,padding:l,size:u}=t,h=n.getPointPosition(e,i+r+l,o),d=Math.round(Cd(sn(h.angle+ot))),p=aP(h.y,u.h,d),m=sP(d),v=oP(h.x,u.w,m);return{visible:!0,x:h.x,y:p,textAlign:m,left:v,top:p,right:v+u.w,bottom:p+u.h}}function iP(n,e){if(!e)return!0;const{left:t,top:i,right:r,bottom:o}=n;return!(qn({x:t,y:i},e)||qn({x:t,y:o},e)||qn({x:r,y:i},e)||qn({x:r,y:o},e))}function rP(n,e,t){const i=[],r=n._pointLabels.length,o=n.options,{centerPointLabels:l,display:u}=o.pointLabels,h={extra:od(o)/2,additionalAngle:l?Ye/r:0};let d;for(let p=0;p<r;p++){h.padding=t[p],h.size=e[p];const m=nP(n,p,h);i.push(m),u==="auto"&&(m.visible=iP(m,d),m.visible&&(d=m))}return i}function sP(n){return n===0||n===180?"center":n<180?"left":"right"}function oP(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function aP(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function lP(n,e,t){const{left:i,top:r,right:o,bottom:l}=t,{backdropColor:u}=e;if(!Ae(u)){const h=Ir(e.borderRadius),d=kt(e.backdropPadding);n.fillStyle=u;const p=i-d.left,m=r-d.top,v=o-i+d.width,_=l-r+d.height;Object.values(h).some(S=>S!==0)?(n.beginPath(),aa(n,{x:p,y:m,w:v,h:_,radius:h}),n.fill()):n.fillRect(p,m,v,_)}}function uP(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let r=e-1;r>=0;r--){const o=n._pointLabelItems[r];if(!o.visible)continue;const l=i.setContext(n.getPointLabelContext(r));lP(t,l,o);const u=ct(l.font),{x:h,y:d,textAlign:p}=o;Lr(t,n._pointLabels[r],h,d+u.lineHeight/2,u,{color:l.color,textAlign:p,textBaseline:"middle"})}}function Fv(n,e,t,i){const{ctx:r}=n;if(t)r.arc(n.xCenter,n.yCenter,e,0,qe);else{let o=n.getPointPosition(0,e);r.moveTo(o.x,o.y);for(let l=1;l<i;l++)o=n.getPointPosition(l,e),r.lineTo(o.x,o.y)}}function cP(n,e,t,i,r){const o=n.ctx,l=e.circular,{color:u,lineWidth:h}=e;!l&&!i||!u||!h||t<0||(o.save(),o.strokeStyle=u,o.lineWidth=h,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),Fv(n,t,l,i),o.closePath(),o.stroke(),o.restore())}function hP(n,e,t){return tr(n,{label:t,index:e,type:"pointLabel"})}class Fo extends gu{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=kt(od(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=nt(e)&&!isNaN(e)?e:0,this.max=nt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/od(this.options))}generateTickLabels(e){gu.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const r=ye(this.options.pointLabels.callback,[t,i],this);return r||r===0?r:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?eP(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,r))}getIndexAngle(e){const t=qe/(this._pointLabels.length||1),i=this.options.startAngle||0;return sn(e*t+Rn(i))}getDistanceFromCenterForValue(e){if(Ae(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Ae(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return hP(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const r=this.getIndexAngle(e)-ot+i;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:r,bottom:o}=this._pointLabelItems[e];return{left:t,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),Fv(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:r,border:o}=t,l=this._pointLabels.length;let u,h,d;if(t.pointLabels.display&&uP(this,l),r.display&&this.ticks.forEach((p,m)=>{if(m!==0||m===0&&this.min<0){h=this.getDistanceFromCenterForValue(p.value);const v=this.getContext(m),_=r.setContext(v),S=o.setContext(v);cP(this,_,h,l,S)}}),i.display){for(e.save(),u=l-1;u>=0;u--){const p=i.setContext(this.getPointLabelContext(u)),{color:m,lineWidth:v}=p;!v||!m||(e.lineWidth=v,e.strokeStyle=m,e.setLineDash(p.borderDash),e.lineDashOffset=p.borderDashOffset,h=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),d=this.getPointPosition(u,h),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,l;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((u,h)=>{if(h===0&&this.min>=0&&!t.reverse)return;const d=i.setContext(this.getContext(h)),p=ct(d.font);if(o=this.getDistanceFromCenterForValue(this.ticks[h].value),d.showLabelBackdrop){e.font=p.string,l=e.measureText(u.label).width,e.fillStyle=d.backdropColor;const m=kt(d.backdropPadding);e.fillRect(-l/2-m.left,-o-p.size/2-m.top,l+m.width,p.size+m.height)}Lr(e,u.label,0,-o,p,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}ee(Fo,"id","radialLinear"),ee(Fo,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:_u.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ee(Fo,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ee(Fo,"descriptors",{angleLines:{_fallback:"grid"}});const Su={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Kt=Object.keys(Su);function ry(n,e){return n-e}function sy(n,e){if(Ae(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),nt(l)||(l=typeof i=="string"?t.parse(l,i):t.parse(l)),l===null?null:(r&&(l=r==="week"&&(Ds(o)||o===!0)?t.startOf(l,"isoWeek",o):t.startOf(l,r)),+l)}function oy(n,e,t,i){const r=Kt.length;for(let o=Kt.indexOf(n);o<r-1;++o){const l=Su[Kt[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=i)return Kt[o]}return Kt[r-1]}function dP(n,e,t,i,r){for(let o=Kt.length-1;o>=Kt.indexOf(t);o--){const l=Kt[o];if(Su[l].common&&n._adapter.diff(r,i,l)>=e-1)return l}return Kt[t?Kt.indexOf(t):0]}function fP(n){for(let e=Kt.indexOf(n)+1,t=Kt.length;e<t;++e)if(Su[Kt[e]].common)return Kt[e]}function ay(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=Od(t,e),o=t[i]>=e?t[i]:t[r];n[o]=!0}}function pP(n,e,t,i){const r=n._adapter,o=+r.startOf(e[0].value,i),l=e[e.length-1].value;let u,h;for(u=o;u<=l;u=+r.add(u,1,i))h=t[u],h>=0&&(e[h].major=!0);return e}function ly(n,e,t){const i=[],r={},o=e.length;let l,u;for(l=0;l<o;++l)u=e[l],r[u]=l,i.push({value:u,major:!1});return o===0||!t?i:pP(n,i,r,t)}class ca extends zr{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new x1._date(e.adapters.date);r.init(t),Bo(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:sy(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function h(d){!l&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!u&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!l||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),r=nt(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),o=nt(o)&&!isNaN(o)?o:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,l=this.max,u=KS(r,o,l);return this._unit=t.unit||(i.autoSkip?oy(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):dP(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:fP(this._unit),this.initOffsets(r),e.reverse&&u.reverse(),ly(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=_t(t,0,l),i=_t(i,0,l),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,o=r.time,l=o.unit||oy(o.minUnit,t,i,this._getLabelCapacity(t)),u=xe(r.ticks.stepSize,1),h=l==="week"?o.isoWeekday:!1,d=Ds(h)||h===!0,p={};let m=t,v,_;if(d&&(m=+e.startOf(m,"isoWeek",h)),m=+e.startOf(m,d?"day":l),e.diff(i,t,l)>1e5*u)throw new Error(t+" and "+i+" are too far apart with stepSize of "+u+" "+l);const S=r.ticks.source==="data"&&this.getDataTimestamps();for(v=m,_=0;v<i;v=+e.add(v,u,l),_++)ay(p,v,S);return(v===i||r.bounds==="ticks"||_===1)&&ay(p,v,S),Object.keys(p).sort(ry).map(b=>+b)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,o=this._unit,l=t||r[o];return this._adapter.format(e,l)}_tickFormatFunction(e,t,i,r){const o=this.options,l=o.ticks.callback;if(l)return ye(l,[e,t,i],this);const u=o.time.displayFormats,h=this._unit,d=this._majorUnit,p=h&&u[h],m=d&&u[d],v=i[t],_=d&&m&&v&&v.major;return this._adapter.format(e,r||(_?m:p))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=Rn(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,o=this._tickFormatFunction(e,0,ly(this,[e],this._majorUnit),r),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(sy(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Qy(e.sort(ry))}}ee(ca,"id","time"),ee(ca,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ql(n,e,t){let i=0,r=n.length-1,o,l,u,h;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=pi(n,"pos",e)),{pos:o,time:u}=n[i],{pos:l,time:h}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=pi(n,"time",e)),{time:o,pos:u}=n[i],{time:l,pos:h}=n[r]);const d=l-o;return d?u+(h-u)*(e-o)/d:u}class ad extends ca{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=ql(t,this.min),this._tableRange=ql(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],o=[];let l,u,h,d,p;for(l=0,u=e.length;l<u;++l)d=e[l],d>=t&&d<=i&&r.push(d);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)p=r[l+1],h=r[l-1],d=r[l],Math.round((p+h)/2)!==d&&o.push({time:d,pos:l/(u-1)});return o}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(ql(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return ql(this._table,i*this._tableRange+this._minPos,!0)}}ee(ad,"id","timeseries"),ee(ad,"defaults",ca.defaults);var gP=Object.freeze({__proto__:null,CategoryScale:id,LinearScale:rd,LogarithmicScale:sd,RadialLinearScale:Fo,TimeScale:ca,TimeSeriesScale:ad});const mP=[b1,JE,qT,gP];on.register(...mP);const yP=({year:n,grandPrix:e,session:t})=>{const{data:i,loading:r,error:o}=Hx(n,e,t),l=je.useRef(null),u=je.useRef(null),h=i;return je.useEffect(()=>{if(!h||!l.current||!h.drivers)return;const{segments:d,drivers:p,teamColors:m}=h,v=m.map(T=>T.startsWith("#")?T:`#${T}`),_={};p.forEach((T,O)=>{const M=v[O];_[M]=(_[M]||0)+1});const S={},b={};p.forEach((T,O)=>{const M=v[O];b[M]=(b[M]||0)+1;const N=b[M];S[T]=_[M]===1||N===1?M:$g(M,20*(N-1))});const C={type:"scatter",data:{datasets:d.filter(T=>Array.isArray(T.points)).map(T=>({label:T.fastestDriver,data:T.points.map(([O,M])=>({x:O,y:M})),borderColor:$g(S[T.fastestDriver],30),borderWidth:6,showLine:!0,fill:!1,pointRadius:0,tension:.4,cubicInterpolationMode:"monotone"}))},options:{scales:{x:{display:!1},y:{display:!1}},plugins:{legend:{display:!1},tooltip:{enabled:!1},datalabels:{display:!1}},hover:{mode:null},animation:!1,elements:{line:{borderCapStyle:"round",borderJoinStyle:"round",tension:.4}},responsive:!0,maintainAspectRatio:!0}};return u.current&&u.current.destroy(),u.current=new on(l.current,C),()=>{u.current&&u.current.destroy()}},[h]),o?W.jsx("div",{className:"text-red-400",children:"Error loading track dominance data"}):r||!h||!h.drivers?W.jsx("p",{className:"text-gray-400",children:"Loading track dominance..."}):W.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl border border-gray-700 p-4",children:[W.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Track Dominance"}),W.jsx("div",{className:"bg-white rounded-lg p-4",children:W.jsx("canvas",{ref:l,className:"w-full",style:{maxHeight:"300px"}})}),W.jsx("div",{className:"mt-4 flex justify-center gap-6 items-center",children:h.drivers.map((d,p)=>{const m=h.teamColors[p].startsWith("#")?h.teamColors[p]:`#${h.teamColors[p]}`;return W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:m}}),W.jsx("span",{className:"text-sm font-semibold text-white",children:d})]},d)})})]})},vP=({year:n,grandPrix:e,session:t})=>{const{data:i}=Bx(n,e,t);return W.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl border border-gray-700 p-4",children:[W.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Podium"}),W.jsx("div",{className:"flex justify-center items-stretch gap-3",children:i.map((r,o)=>W.jsx("div",{className:"flex-1 rounded-lg shadow-lg overflow-hidden backdrop-blur-sm p-3",style:{backgroundColor:`${r.TeamColor}CC`},children:W.jsxs("div",{className:"flex flex-col items-center gap-2",children:[W.jsx("div",{className:"relative w-20 h-20 rounded-full overflow-hidden bg-gray-200 border-2 border-white",children:W.jsx("img",{src:r.HeadshotUrl||"/api/placeholder/80/80",alt:`${r.Abbreviation}'s headshot`,className:"w-full h-full object-cover"})}),W.jsxs("div",{className:"text-center",children:[W.jsxs("div",{className:"text-2xl font-bold text-white",children:["P",r.Position]}),W.jsx("div",{className:"text-lg font-semibold text-white",children:r.Abbreviation})]}),W.jsx("div",{className:"w-16 h-16 flex items-center justify-center",children:W.jsx("img",{src:oS(r.TeamName),alt:`${r.TeamName} logo`,className:"max-w-full max-h-full object-contain"})})]})},o))})]})};/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var uy=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var n=window.screen;if(n)return(n.deviceXDPI||1)/(n.logicalXDPI||1)}return 1}(),Yo={toTextLines:function(n){var e=[],t;for(n=[].concat(n);n.length;)t=n.pop(),typeof t=="string"?e.unshift.apply(e,t.split(`
`)):Array.isArray(t)?n.push.apply(n,t):Ae(n)||e.unshift(""+t);return e},textSize:function(n,e,t){var i=[].concat(e),r=i.length,o=n.font,l=0,u;for(n.font=t.string,u=0;u<r;++u)l=Math.max(n.measureText(i[u]).width,l);return n.font=o,{height:r*t.lineHeight,width:l}},bound:function(n,e,t){return Math.max(n,Math.min(e,t))},arrayDiff:function(n,e){var t=n.slice(),i=[],r,o,l,u;for(r=0,l=e.length;r<l;++r)u=e[r],o=t.indexOf(u),o===-1?i.push([u,1]):t.splice(o,1);for(r=0,l=t.length;r<l;++r)i.push([t[r],-1]);return i},rasterize:function(n){return Math.round(n*uy)/uy}};function Mh(n,e){var t=e.x,i=e.y;if(t===null)return{x:0,y:-1};if(i===null)return{x:1,y:0};var r=n.x-t,o=n.y-i,l=Math.sqrt(r*r+o*o);return{x:l?r/l:0,y:l?o/l:-1}}function _P(n,e,t,i,r){switch(r){case"center":t=i=0;break;case"bottom":t=0,i=1;break;case"right":t=1,i=0;break;case"left":t=-1,i=0;break;case"top":t=0,i=-1;break;case"start":t=-t,i=-i;break;case"end":break;default:r*=Math.PI/180,t=Math.cos(r),i=Math.sin(r);break}return{x:n,y:e,vx:t,vy:i}}var wP=0,$v=1,Uv=2,Bv=4,Wv=8;function Kl(n,e,t){var i=wP;return n<t.left?i|=$v:n>t.right&&(i|=Uv),e<t.top?i|=Wv:e>t.bottom&&(i|=Bv),i}function bP(n,e){for(var t=n.x0,i=n.y0,r=n.x1,o=n.y1,l=Kl(t,i,e),u=Kl(r,o,e),h,d,p;!(!(l|u)||l&u);)h=l||u,h&Wv?(d=t+(r-t)*(e.top-i)/(o-i),p=e.top):h&Bv?(d=t+(r-t)*(e.bottom-i)/(o-i),p=e.bottom):h&Uv?(p=i+(o-i)*(e.right-t)/(r-t),d=e.right):h&$v&&(p=i+(o-i)*(e.left-t)/(r-t),d=e.left),h===l?(t=d,i=p,l=Kl(t,i,e)):(r=d,o=p,u=Kl(r,o,e));return{x0:t,x1:r,y0:i,y1:o}}function Yl(n,e){var t=e.anchor,i=n,r,o;return e.clamp&&(i=bP(i,e.area)),t==="start"?(r=i.x0,o=i.y0):t==="end"?(r=i.x1,o=i.y1):(r=(i.x0+i.x1)/2,o=(i.y0+i.y1)/2),_P(r,o,n.vx,n.vy,e.align)}var Gl={arc:function(n,e){var t=(n.startAngle+n.endAngle)/2,i=Math.cos(t),r=Math.sin(t),o=n.innerRadius,l=n.outerRadius;return Yl({x0:n.x+i*o,y0:n.y+r*o,x1:n.x+i*l,y1:n.y+r*l,vx:i,vy:r},e)},point:function(n,e){var t=Mh(n,e.origin),i=t.x*n.options.radius,r=t.y*n.options.radius;return Yl({x0:n.x-i,y0:n.y-r,x1:n.x+i,y1:n.y+r,vx:t.x,vy:t.y},e)},bar:function(n,e){var t=Mh(n,e.origin),i=n.x,r=n.y,o=0,l=0;return n.horizontal?(i=Math.min(n.x,n.base),o=Math.abs(n.base-n.x)):(r=Math.min(n.y,n.base),l=Math.abs(n.base-n.y)),Yl({x0:i,y0:r+l,x1:i+o,y1:r,vx:t.x,vy:t.y},e)},fallback:function(n,e){var t=Mh(n,e.origin);return Yl({x0:n.x,y0:n.y,x1:n.x+(n.width||0),y1:n.y+(n.height||0),vx:t.x,vy:t.y},e)}},gi=Yo.rasterize;function xP(n){var e=n.borderWidth||0,t=n.padding,i=n.size.height,r=n.size.width,o=-r/2,l=-i/2;return{frame:{x:o-t.left-e,y:l-t.top-e,w:r+t.width+e*2,h:i+t.height+e*2},text:{x:o,y:l,w:r,h:i}}}function SP(n,e){var t=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!t)return null;if(t.xCenter!==void 0&&t.yCenter!==void 0)return{x:t.xCenter,y:t.yCenter};var i=t.getBasePixel();return n.horizontal?{x:i,y:null}:{x:null,y:i}}function kP(n){return n instanceof As?Gl.arc:n instanceof qo?Gl.point:n instanceof Ko?Gl.bar:Gl.fallback}function EP(n,e,t,i,r,o){var l=Math.PI/2;if(o){var u=Math.min(o,r/2,i/2),h=e+u,d=t+u,p=e+i-u,m=t+r-u;n.moveTo(e,d),h<p&&d<m?(n.arc(h,d,u,-Math.PI,-l),n.arc(p,d,u,-l,0),n.arc(p,m,u,0,l),n.arc(h,m,u,l,Math.PI)):h<p?(n.moveTo(h,t),n.arc(p,d,u,-l,l),n.arc(h,d,u,l,Math.PI+l)):d<m?(n.arc(h,d,u,-Math.PI,0),n.arc(h,m,u,0,Math.PI)):n.arc(h,d,u,-Math.PI,Math.PI),n.closePath(),n.moveTo(e,t)}else n.rect(e,t,i,r)}function TP(n,e,t){var i=t.backgroundColor,r=t.borderColor,o=t.borderWidth;!i&&(!r||!o)||(n.beginPath(),EP(n,gi(e.x)+o/2,gi(e.y)+o/2,gi(e.w)-o,gi(e.h)-o,t.borderRadius),n.closePath(),i&&(n.fillStyle=i,n.fill()),r&&o&&(n.strokeStyle=r,n.lineWidth=o,n.lineJoin="miter",n.stroke()))}function PP(n,e,t){var i=t.lineHeight,r=n.w,o=n.x,l=n.y+i/2;return e==="center"?o+=r/2:(e==="end"||e==="right")&&(o+=r),{h:i,w:r,x:o,y:l}}function CP(n,e,t){var i=n.shadowBlur,r=t.stroked,o=gi(t.x),l=gi(t.y),u=gi(t.w);r&&n.strokeText(e,o,l,u),t.filled&&(i&&r&&(n.shadowBlur=0),n.fillText(e,o,l,u),i&&r&&(n.shadowBlur=i))}function OP(n,e,t,i){var r=i.textAlign,o=i.color,l=!!o,u=i.font,h=e.length,d=i.textStrokeColor,p=i.textStrokeWidth,m=d&&p,v;if(!(!h||!l&&!m))for(t=PP(t,r,u),n.font=u.string,n.textAlign=r,n.textBaseline="middle",n.shadowBlur=i.textShadowBlur,n.shadowColor=i.textShadowColor,l&&(n.fillStyle=o),m&&(n.lineJoin="round",n.lineWidth=p,n.strokeStyle=d),v=0,h=e.length;v<h;++v)CP(n,e[v],{stroked:m,filled:l,w:t.w,x:t.x,y:t.y+t.h*v})}var Vv=function(n,e,t,i){var r=this;r._config=n,r._index=i,r._model=null,r._rects=null,r._ctx=e,r._el=t};Kn(Vv.prototype,{_modelize:function(n,e,t,i){var r=this,o=r._index,l=ct(Ve([t.font,{}],i,o)),u=Ve([t.color,Ke.color],i,o);return{align:Ve([t.align,"center"],i,o),anchor:Ve([t.anchor,"center"],i,o),area:i.chart.chartArea,backgroundColor:Ve([t.backgroundColor,null],i,o),borderColor:Ve([t.borderColor,null],i,o),borderRadius:Ve([t.borderRadius,0],i,o),borderWidth:Ve([t.borderWidth,0],i,o),clamp:Ve([t.clamp,!1],i,o),clip:Ve([t.clip,!1],i,o),color:u,display:n,font:l,lines:e,offset:Ve([t.offset,4],i,o),opacity:Ve([t.opacity,1],i,o),origin:SP(r._el,i),padding:kt(Ve([t.padding,4],i,o)),positioner:kP(r._el),rotation:Ve([t.rotation,0],i,o)*(Math.PI/180),size:Yo.textSize(r._ctx,e,l),textAlign:Ve([t.textAlign,"start"],i,o),textShadowBlur:Ve([t.textShadowBlur,0],i,o),textShadowColor:Ve([t.textShadowColor,u],i,o),textStrokeColor:Ve([t.textStrokeColor,u],i,o),textStrokeWidth:Ve([t.textStrokeWidth,0],i,o)}},update:function(n){var e=this,t=null,i=null,r=e._index,o=e._config,l,u,h,d=Ve([o.display,!0],n,r);d&&(l=n.dataset.data[r],u=xe(ye(o.formatter,[l,n]),l),h=Ae(u)?[]:Yo.toTextLines(u),h.length&&(t=e._modelize(d,h,o,n),i=xP(t))),e._model=t,e._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(n,e){var t=this,i=n.ctx,r=t._model,o=t._rects,l;this.visible()&&(i.save(),r.clip&&(l=r.area,i.beginPath(),i.rect(l.left,l.top,l.right-l.left,l.bottom-l.top),i.clip()),i.globalAlpha=Yo.bound(0,r.opacity,1),i.translate(gi(e.x),gi(e.y)),i.rotate(r.rotation),TP(i,o.frame,r),OP(i,r.lines,o.text,r),i.restore())}});var RP=Number.MIN_SAFE_INTEGER||-9007199254740991,AP=Number.MAX_SAFE_INTEGER||9007199254740991;function Do(n,e,t){var i=Math.cos(t),r=Math.sin(t),o=e.x,l=e.y;return{x:o+i*(n.x-o)-r*(n.y-l),y:l+r*(n.x-o)+i*(n.y-l)}}function cy(n,e){var t=AP,i=RP,r=e.origin,o,l,u,h,d;for(o=0;o<n.length;++o)l=n[o],u=l.x-r.x,h=l.y-r.y,d=e.vx*u+e.vy*h,t=Math.min(t,d),i=Math.max(i,d);return{min:t,max:i}}function Xl(n,e){var t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);return{vx:(e.x-n.x)/r,vy:(e.y-n.y)/r,origin:n,ln:r}}var Hv=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};Kn(Hv.prototype,{center:function(){var n=this._rect;return{x:n.x+n.w/2,y:n.y+n.h/2}},update:function(n,e,t){this._rotation=t,this._rect={x:e.x+n.x,y:e.y+n.y,w:e.w,h:e.h}},contains:function(n){var e=this,t=1,i=e._rect;return n=Do(n,e.center(),-e._rotation),!(n.x<i.x-t||n.y<i.y-t||n.x>i.x+i.w+t*2||n.y>i.y+i.h+t*2)},intersects:function(n){var e=this._points(),t=n._points(),i=[Xl(e[0],e[1]),Xl(e[0],e[3])],r,o,l;for(this._rotation!==n._rotation&&i.push(Xl(t[0],t[1]),Xl(t[0],t[3])),r=0;r<i.length;++r)if(o=cy(e,i[r]),l=cy(t,i[r]),o.max<l.min||l.max<o.min)return!1;return!0},_points:function(){var n=this,e=n._rect,t=n._rotation,i=n.center();return[Do({x:e.x,y:e.y},i,t),Do({x:e.x+e.w,y:e.y},i,t),Do({x:e.x+e.w,y:e.y+e.h},i,t),Do({x:e.x,y:e.y+e.h},i,t)]}});function qv(n,e,t){var i=e.positioner(n,e),r=i.vx,o=i.vy;if(!r&&!o)return{x:i.x,y:i.y};var l=t.w,u=t.h,h=e.rotation,d=Math.abs(l/2*Math.cos(h))+Math.abs(u/2*Math.sin(h)),p=Math.abs(l/2*Math.sin(h))+Math.abs(u/2*Math.cos(h)),m=1/Math.max(Math.abs(r),Math.abs(o));return d*=r*m,p*=o*m,d+=e.offset*r,p+=e.offset*o,{x:i.x+d,y:i.y+p}}function MP(n,e){var t,i,r,o;for(t=n.length-1;t>=0;--t)for(r=n[t].$layout,i=t-1;i>=0&&r._visible;--i)o=n[i].$layout,o._visible&&r._box.intersects(o._box)&&e(r,o);return n}function IP(n){var e,t,i,r,o,l,u;for(e=0,t=n.length;e<t;++e)i=n[e],r=i.$layout,r._visible&&(u=new Proxy(i._el,{get:(h,d)=>h.getProps([d],!0)[d]}),o=i.geometry(),l=qv(u,i.model(),o),r._box.update(l,o,i.rotation()));return MP(n,function(h,d){var p=h._hidable,m=d._hidable;p&&m||m?d._visible=!1:p&&(h._visible=!1)})}var Go={prepare:function(n){var e=[],t,i,r,o,l;for(t=0,r=n.length;t<r;++t)for(i=0,o=n[t].length;i<o;++i)l=n[t][i],e.push(l),l.$layout={_box:new Hv,_hidable:!1,_visible:!0,_set:t,_idx:l._index};return e.sort(function(u,h){var d=u.$layout,p=h.$layout;return d._idx===p._idx?p._set-d._set:p._idx-d._idx}),this.update(e),e},update:function(n){var e=!1,t,i,r,o,l;for(t=0,i=n.length;t<i;++t)r=n[t],o=r.model(),l=r.$layout,l._hidable=o&&o.display==="auto",l._visible=r.visible(),e|=l._hidable;e&&IP(n)},lookup:function(n,e){var t,i;for(t=n.length-1;t>=0;--t)if(i=n[t].$layout,i&&i._visible&&i._box.contains(e))return n[t];return null},draw:function(n,e){var t,i,r,o,l,u;for(t=0,i=e.length;t<i;++t)r=e[t],o=r.$layout,o._visible&&(l=r.geometry(),u=qv(r._el,r.model(),l),o._box.update(u,l,r.rotation()),r.draw(n,u))}},DP=function(n){if(Ae(n))return null;var e=n,t,i,r;if(Me(n))if(!Ae(n.label))e=n.label;else if(!Ae(n.r))e=n.r;else for(e="",t=Object.keys(n),r=0,i=t.length;r<i;++r)e+=(r!==0?", ":"")+t[r]+": "+n[t[r]];return""+e},NP={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:DP,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},Ht="$datalabels",Kv="$default";function LP(n,e){var t=n.datalabels,i={},r=[],o,l;return t===!1?null:(t===!0&&(t={}),e=Kn({},[e,t]),o=e.labels||{},l=Object.keys(o),delete e.labels,l.length?l.forEach(function(u){o[u]&&r.push(Kn({},[e,o[u],{_key:u}]))}):r.push(e),i=r.reduce(function(u,h){return Re(h.listeners||{},function(d,p){u[p]=u[p]||{},u[p][h._key||Kv]=d}),delete h.listeners,u},{}),{labels:r,listeners:i})}function ld(n,e,t,i){if(e){var r=t.$context,o=t.$groups,l;e[o._set]&&(l=e[o._set][o._key],l&&ye(l,[r,i])===!0&&(n[Ht]._dirty=!0,t.update(r)))}}function jP(n,e,t,i,r){var o,l;!t&&!i||(t?i?t!==i&&(l=o=!0):l=!0:o=!0,l&&ld(n,e.leave,t,r),o&&ld(n,e.enter,i,r))}function zP(n,e){var t=n[Ht],i=t._listeners,r,o;if(!(!i.enter&&!i.leave)){if(e.type==="mousemove")o=Go.lookup(t._labels,e);else if(e.type!=="mouseout")return;r=t._hovered,t._hovered=o,jP(n,i,r,o,e)}}function FP(n,e){var t=n[Ht],i=t._listeners.click,r=i&&Go.lookup(t._labels,e);r&&ld(n,i,r,e)}var Yv={id:"datalabels",defaults:NP,beforeInit:function(n){n[Ht]={_actives:[]}},beforeUpdate:function(n){var e=n[Ht];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(n,e,t){var i=e.index,r=n[Ht],o=r._datasets[i]=[],l=n.isDatasetVisible(i),u=n.data.datasets[i],h=LP(u,t),d=e.meta.data||[],p=n.ctx,m,v,_,S,b,E,C,T;for(p.save(),m=0,_=d.length;m<_;++m)if(C=d[m],C[Ht]=[],l&&C&&n.getDataVisibility(m)&&!C.skip)for(v=0,S=h.labels.length;v<S;++v)b=h.labels[v],E=b._key,T=new Vv(b,p,C,m),T.$groups={_set:i,_key:E||Kv},T.$context={active:!1,chart:n,dataIndex:m,dataset:u,datasetIndex:i},T.update(T.$context),C[Ht].push(T),o.push(T);p.restore(),Kn(r._listeners,h.listeners,{merger:function(O,M,N){M[O]=M[O]||{},M[O][e.index]=N[O],r._listened=!0}})},afterUpdate:function(n){n[Ht]._labels=Go.prepare(n[Ht]._datasets)},afterDatasetsDraw:function(n){Go.draw(n,n[Ht]._labels)},beforeEvent:function(n,e){if(n[Ht]._listened){var t=e.event;switch(t.type){case"mousemove":case"mouseout":zP(n,t);break;case"click":FP(n,t);break}}},afterEvent:function(n){var e=n[Ht],t=e._actives,i=e._actives=n.getActiveElements(),r=Yo.arrayDiff(t,i),o,l,u,h,d,p,m;for(o=0,l=r.length;o<l;++o)if(d=r[o],d[1])for(m=d[0].element[Ht]||[],u=0,h=m.length;u<h;++u)p=m[u],p.$context.active=d[1]===1,p.update(p.$context);(e._dirty||r.length)&&(Go.update(e._labels),n.render()),delete e._dirty}};on.register(Yv);const $P=({year:n,grandPrix:e,session:t})=>{const i=je.useRef(null),r=je.useRef(null),{data:o}=qx(n,e,t),{data:l}=Sd(n,e,t),[u,h]=je.useState({}),[d,p]=je.useState([]);je.useEffect(()=>{const v=l.slice().sort((S,b)=>S.Position-b.Position).map(S=>S.Abbreviation);p(v);const _={};o.forEach(({Driver:S,Abbreviation:b,LapNumber:E,Compound:C})=>{const T=b||S;_[T]||(_[T]={}),_[T][E]=C}),h(_)},[o,l]),je.useEffect(()=>{if(!Object.keys(u).length||!i.current)return;const v=Object.entries(u).reduce((O,[M,N])=>{const $=[];let U=null;return Object.entries(N).forEach(([H,Z])=>{const oe=Number(H);!U||U.compound!==Z?(U&&$.push(U),U={start:oe,end:oe,compound:Z}):U.end=oe}),U&&$.push(U),O[M]=$,O},{}),_=d.length>0?d:Object.keys(v),b=[...new Set(Object.values(v).flatMap(O=>O.map(M=>M.compound)))].map(O=>{const M=new Image;M.src=Wy(O);const N=_.map($=>(v[$]||[]).filter(H=>H.compound===O).reduce((H,Z)=>H+(Z.end-Z.start+1),0));return{label:O,data:N,backgroundColor:Fg[O]||Fg.UNKNOWN,borderWidth:0,pointStyle:M,pointRadius:10,barThickness:20,borderRadius:3}}).filter(O=>O.data.some(M=>M>0)),E=Object.values(u).flatMap(O=>Object.keys(O).map(M=>Number(M))),C=Math.max(...E);r.current&&r.current.destroy(),r.current=new on(i.current,{type:"bar",data:{labels:_,datasets:b},plugins:[Yv],options:{indexAxis:"y",responsive:!0,maintainAspectRatio:!1,scales:{x:{stacked:!0,title:{display:!0,text:"Laps"},beginAtZero:!0,max:C,grid:{display:!0,color:"#333"},ticks:{stepSize:1,color:"#ccc"}},y:{stacked:!0,title:{display:!1},ticks:{color:"#fff",font:{size:18},autoSkip:!1,maxTicksLimit:_.length},grid:{display:!0,color:"#333"}}},plugins:{datalabels:{color:"#000",anchor:"center",align:"center",font:{size:14,weight:"bold"},formatter:O=>O>0?O:""},tooltip:{padding:8,titleFont:{size:16},bodyFont:{size:14},footerFont:{size:12},callbacks:{footer:O=>`Total laps: ${O.reduce((N,$)=>N+$.parsed.x,0)}`}},legend:{display:!1}},interaction:{mode:"index",intersect:!1,axis:"y"}}});const T=()=>{var O;(O=r.current)==null||O.resize()};return window.addEventListener("resize",T),()=>{var O;window.removeEventListener("resize",T),(O=r.current)==null||O.destroy()}},[u,d]);const m=d.length*50+150;return Object.keys(u).length?W.jsxs("div",{style:{background:"#111",padding:20,borderRadius:8,width:"100%",margin:"0 auto"},children:[W.jsx("h3",{style:{color:"#fff",marginBottom:12},children:"Tyre Strategy by Lap"}),W.jsx("div",{style:{height:m},children:W.jsx("canvas",{ref:i})})]}):W.jsx("p",{style:{color:"#fff"},children:"Loading tyre data"})};var Ih={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */var hy;function UP(){return hy||(hy=1,function(n){(function(e,t,i,r){var o=["","webkit","Moz","MS","ms","o"],l=t.createElement("div"),u="function",h=Math.round,d=Math.abs,p=Date.now;function m(x,k,R){return setTimeout(O(x,R),k)}function v(x,k,R){return Array.isArray(x)?(_(x,R[k],R),!0):!1}function _(x,k,R){var z;if(x)if(x.forEach)x.forEach(k,R);else if(x.length!==r)for(z=0;z<x.length;)k.call(R,x[z],z,x),z++;else for(z in x)x.hasOwnProperty(z)&&k.call(R,x[z],z,x)}function S(x,k,R){var z="DEPRECATED METHOD: "+k+`
`+R+` AT 
`;return function(){var K=new Error("get-stack-trace"),te=K&&K.stack?K.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Pe=e.console&&(e.console.warn||e.console.log);return Pe&&Pe.call(e.console,z,te),x.apply(this,arguments)}}var b;typeof Object.assign!="function"?b=function(k){if(k===r||k===null)throw new TypeError("Cannot convert undefined or null to object");for(var R=Object(k),z=1;z<arguments.length;z++){var K=arguments[z];if(K!==r&&K!==null)for(var te in K)K.hasOwnProperty(te)&&(R[te]=K[te])}return R}:b=Object.assign;var E=S(function(k,R,z){for(var K=Object.keys(R),te=0;te<K.length;)(!z||z&&k[K[te]]===r)&&(k[K[te]]=R[K[te]]),te++;return k},"extend","Use `assign`."),C=S(function(k,R){return E(k,R,!0)},"merge","Use `assign`.");function T(x,k,R){var z=k.prototype,K;K=x.prototype=Object.create(z),K.constructor=x,K._super=z,R&&b(K,R)}function O(x,k){return function(){return x.apply(k,arguments)}}function M(x,k){return typeof x==u?x.apply(k&&k[0]||r,k):x}function N(x,k){return x===r?k:x}function $(x,k,R){_(oe(k),function(z){x.addEventListener(z,R,!1)})}function U(x,k,R){_(oe(k),function(z){x.removeEventListener(z,R,!1)})}function H(x,k){for(;x;){if(x==k)return!0;x=x.parentNode}return!1}function Z(x,k){return x.indexOf(k)>-1}function oe(x){return x.trim().split(/\s+/g)}function ce(x,k,R){if(x.indexOf&&!R)return x.indexOf(k);for(var z=0;z<x.length;){if(R&&x[z][R]==k||!R&&x[z]===k)return z;z++}return-1}function de(x){return Array.prototype.slice.call(x,0)}function Ie(x,k,R){for(var z=[],K=[],te=0;te<x.length;){var Pe=x[te][k];ce(K,Pe)<0&&z.push(x[te]),K[te]=Pe,te++}return z=z.sort(function(rt,at){return rt[k]>at[k]}),z}function Ne(x,k){for(var R,z,K=k[0].toUpperCase()+k.slice(1),te=0;te<o.length;){if(R=o[te],z=R?R+K:k,z in x)return z;te++}return r}var Se=1;function Te(){return Se++}function ve(x){var k=x.ownerDocument||x;return k.defaultView||k.parentWindow||e}var V=/mobile|tablet|ip(ad|hone|od)|android/i,X="ontouchstart"in e,J=Ne(e,"PointerEvent")!==r,D=X&&V.test(navigator.userAgent),B="touch",ue="pen",he="mouse",ke="kinect",_e=25,Ee=1,Ce=2,we=4,ze=8,Dt=1,In=2,un=4,vn=8,yi=16,Yt=In|un,_n=vn|yi,zs=Yt|_n,$r=["x","y"],Dn=["clientX","clientY"];function ht(x,k){var R=this;this.manager=x,this.callback=k,this.element=x.element,this.target=x.options.inputTarget,this.domHandler=function(z){M(x.options.enable,[x])&&R.handler(z)},this.init()}ht.prototype={handler:function(){},init:function(){this.evEl&&$(this.element,this.evEl,this.domHandler),this.evTarget&&$(this.target,this.evTarget,this.domHandler),this.evWin&&$(ve(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&U(this.element,this.evEl,this.domHandler),this.evTarget&&U(this.target,this.evTarget,this.domHandler),this.evWin&&U(ve(this.element),this.evWin,this.domHandler)}};function Fs(x){var k,R=x.options.inputClass;return R?k=R:J?k=Br:D?k=wi:X?k=xi:k=_i,new k(x,ma)}function ma(x,k,R){var z=R.pointers.length,K=R.changedPointers.length,te=k&Ee&&z-K===0,Pe=k&(we|ze)&&z-K===0;R.isFirst=!!te,R.isFinal=!!Pe,te&&(x.session={}),R.eventType=k,ya(x,R),x.emit("hammer.input",R),x.recognize(R),x.session.prevInput=R}function ya(x,k){var R=x.session,z=k.pointers,K=z.length;R.firstInput||(R.firstInput=Ur(k)),K>1&&!R.firstMultiple?R.firstMultiple=Ur(k):K===1&&(R.firstMultiple=!1);var te=R.firstInput,Pe=R.firstMultiple,it=Pe?Pe.center:te.center,rt=k.center=nr(z);k.timeStamp=p(),k.deltaTime=k.timeStamp-te.timeStamp,k.angle=Us(it,rt),k.distance=Nn(it,rt),va(R,k),k.offsetDirection=vi(k.deltaX,k.deltaY);var at=$s(k.deltaTime,k.deltaX,k.deltaY);k.overallVelocityX=at.x,k.overallVelocityY=at.y,k.overallVelocity=d(at.x)>d(at.y)?at.x:at.y,k.scale=Pe?ba(Pe.pointers,z):1,k.rotation=Pe?wa(Pe.pointers,z):0,k.maxPointers=R.prevInput?k.pointers.length>R.prevInput.maxPointers?k.pointers.length:R.prevInput.maxPointers:k.pointers.length,_a(R,k);var dt=x.element;H(k.srcEvent.target,dt)&&(dt=k.srcEvent.target),k.target=dt}function va(x,k){var R=k.center,z=x.offsetDelta||{},K=x.prevDelta||{},te=x.prevInput||{};(k.eventType===Ee||te.eventType===we)&&(K=x.prevDelta={x:te.deltaX||0,y:te.deltaY||0},z=x.offsetDelta={x:R.x,y:R.y}),k.deltaX=K.x+(R.x-z.x),k.deltaY=K.y+(R.y-z.y)}function _a(x,k){var R=x.lastInterval||k,z=k.timeStamp-R.timeStamp,K,te,Pe,it;if(k.eventType!=ze&&(z>_e||R.velocity===r)){var rt=k.deltaX-R.deltaX,at=k.deltaY-R.deltaY,dt=$s(z,rt,at);te=dt.x,Pe=dt.y,K=d(dt.x)>d(dt.y)?dt.x:dt.y,it=vi(rt,at),x.lastInterval=k}else K=R.velocity,te=R.velocityX,Pe=R.velocityY,it=R.direction;k.velocity=K,k.velocityX=te,k.velocityY=Pe,k.direction=it}function Ur(x){for(var k=[],R=0;R<x.pointers.length;)k[R]={clientX:h(x.pointers[R].clientX),clientY:h(x.pointers[R].clientY)},R++;return{timeStamp:p(),pointers:k,center:nr(k),deltaX:x.deltaX,deltaY:x.deltaY}}function nr(x){var k=x.length;if(k===1)return{x:h(x[0].clientX),y:h(x[0].clientY)};for(var R=0,z=0,K=0;K<k;)R+=x[K].clientX,z+=x[K].clientY,K++;return{x:h(R/k),y:h(z/k)}}function $s(x,k,R){return{x:k/x||0,y:R/x||0}}function vi(x,k){return x===k?Dt:d(x)>=d(k)?x<0?In:un:k<0?vn:yi}function Nn(x,k,R){R||(R=$r);var z=k[R[0]]-x[R[0]],K=k[R[1]]-x[R[1]];return Math.sqrt(z*z+K*K)}function Us(x,k,R){R||(R=$r);var z=k[R[0]]-x[R[0]],K=k[R[1]]-x[R[1]];return Math.atan2(K,z)*180/Math.PI}function wa(x,k){return Us(k[1],k[0],Dn)+Us(x[1],x[0],Dn)}function ba(x,k){return Nn(k[0],k[1],Dn)/Nn(x[0],x[1],Dn)}var ku={mousedown:Ee,mousemove:Ce,mouseup:we},Bs="mousedown",Ws="mousemove mouseup";function _i(){this.evEl=Bs,this.evWin=Ws,this.pressed=!1,ht.apply(this,arguments)}T(_i,ht,{handler:function(k){var R=ku[k.type];R&Ee&&k.button===0&&(this.pressed=!0),R&Ce&&k.which!==1&&(R=we),this.pressed&&(R&we&&(this.pressed=!1),this.callback(this.manager,R,{pointers:[k],changedPointers:[k],pointerType:he,srcEvent:k}))}});var Vs={pointerdown:Ee,pointermove:Ce,pointerup:we,pointercancel:ze,pointerout:ze},Hs={2:B,3:ue,4:he,5:ke},Gn="pointerdown",Xn="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Gn="MSPointerDown",Xn="MSPointerMove MSPointerUp MSPointerCancel");function Br(){this.evEl=Gn,this.evWin=Xn,ht.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}T(Br,ht,{handler:function(k){var R=this.store,z=!1,K=k.type.toLowerCase().replace("ms",""),te=Vs[K],Pe=Hs[k.pointerType]||k.pointerType,it=Pe==B,rt=ce(R,k.pointerId,"pointerId");te&Ee&&(k.button===0||it)?rt<0&&(R.push(k),rt=R.length-1):te&(we|ze)&&(z=!0),!(rt<0)&&(R[rt]=k,this.callback(this.manager,te,{pointers:R,changedPointers:[k],pointerType:Pe,srcEvent:k}),z&&R.splice(rt,1))}});var xa={touchstart:Ee,touchmove:Ce,touchend:we,touchcancel:ze},Sa="touchstart",ka="touchstart touchmove touchend touchcancel";function qs(){this.evTarget=Sa,this.evWin=ka,this.started=!1,ht.apply(this,arguments)}T(qs,ht,{handler:function(k){var R=xa[k.type];if(R===Ee&&(this.started=!0),!!this.started){var z=Ks.call(this,k,R);R&(we|ze)&&z[0].length-z[1].length===0&&(this.started=!1),this.callback(this.manager,R,{pointers:z[0],changedPointers:z[1],pointerType:B,srcEvent:k})}}});function Ks(x,k){var R=de(x.touches),z=de(x.changedTouches);return k&(we|ze)&&(R=Ie(R.concat(z),"identifier")),[R,z]}var Ea={touchstart:Ee,touchmove:Ce,touchend:we,touchcancel:ze},ir="touchstart touchmove touchend touchcancel";function wi(){this.evTarget=ir,this.targetIds={},ht.apply(this,arguments)}T(wi,ht,{handler:function(k){var R=Ea[k.type],z=rr.call(this,k,R);z&&this.callback(this.manager,R,{pointers:z[0],changedPointers:z[1],pointerType:B,srcEvent:k})}});function rr(x,k){var R=de(x.touches),z=this.targetIds;if(k&(Ee|Ce)&&R.length===1)return z[R[0].identifier]=!0,[R,R];var K,te,Pe=de(x.changedTouches),it=[],rt=this.target;if(te=R.filter(function(at){return H(at.target,rt)}),k===Ee)for(K=0;K<te.length;)z[te[K].identifier]=!0,K++;for(K=0;K<Pe.length;)z[Pe[K].identifier]&&it.push(Pe[K]),k&(we|ze)&&delete z[Pe[K].identifier],K++;if(it.length)return[Ie(te.concat(it),"identifier"),it]}var Eu=2500,bi=25;function xi(){ht.apply(this,arguments);var x=O(this.handler,this);this.touch=new wi(this.manager,x),this.mouse=new _i(this.manager,x),this.primaryTouch=null,this.lastTouches=[]}T(xi,ht,{handler:function(k,R,z){var K=z.pointerType==B,te=z.pointerType==he;if(!(te&&z.sourceCapabilities&&z.sourceCapabilities.firesTouchEvents)){if(K)Wr.call(this,R,z);else if(te&&Tu.call(this,z))return;this.callback(k,R,z)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Wr(x,k){x&Ee?(this.primaryTouch=k.changedPointers[0].identifier,Vr.call(this,k)):x&(we|ze)&&Vr.call(this,k)}function Vr(x){var k=x.changedPointers[0];if(k.identifier===this.primaryTouch){var R={x:k.clientX,y:k.clientY};this.lastTouches.push(R);var z=this.lastTouches,K=function(){var te=z.indexOf(R);te>-1&&z.splice(te,1)};setTimeout(K,Eu)}}function Tu(x){for(var k=x.srcEvent.clientX,R=x.srcEvent.clientY,z=0;z<this.lastTouches.length;z++){var K=this.lastTouches[z],te=Math.abs(k-K.x),Pe=Math.abs(R-K.y);if(te<=bi&&Pe<=bi)return!0}return!1}var Ta=Ne(l.style,"touchAction"),Pa=Ta!==r,Ln="compute",Ys="auto",Hr="manipulation",Jn="none",Si="pan-x",ki="pan-y",sr=Cu();function qr(x,k){this.manager=x,this.set(k)}qr.prototype={set:function(x){x==Ln&&(x=this.compute()),Pa&&this.manager.element.style&&sr[x]&&(this.manager.element.style[Ta]=x),this.actions=x.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var x=[];return _(this.manager.recognizers,function(k){M(k.options.enable,[k])&&(x=x.concat(k.getTouchAction()))}),Pu(x.join(" "))},preventDefaults:function(x){var k=x.srcEvent,R=x.offsetDirection;if(this.manager.session.prevented){k.preventDefault();return}var z=this.actions,K=Z(z,Jn)&&!sr[Jn],te=Z(z,ki)&&!sr[ki],Pe=Z(z,Si)&&!sr[Si];if(K){var it=x.pointers.length===1,rt=x.distance<2,at=x.deltaTime<250;if(it&&rt&&at)return}if(!(Pe&&te)&&(K||te&&R&Yt||Pe&&R&_n))return this.preventSrc(k)},preventSrc:function(x){this.manager.session.prevented=!0,x.preventDefault()}};function Pu(x){if(Z(x,Jn))return Jn;var k=Z(x,Si),R=Z(x,ki);return k&&R?Jn:k||R?k?Si:ki:Z(x,Hr)?Hr:Ys}function Cu(){if(!Pa)return!1;var x={},k=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(R){x[R]=k?e.CSS.supports("touch-action",R):!0}),x}var Fe=1,Nt=2,jn=4,wn=8,Lt=wn,or=16,Gt=32;function jt(x){this.options=b({},this.defaults,x||{}),this.id=Te(),this.manager=null,this.options.enable=N(this.options.enable,!0),this.state=Fe,this.simultaneous={},this.requireFail=[]}jt.prototype={defaults:{},set:function(x){return b(this.options,x),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(x){if(v(x,"recognizeWith",this))return this;var k=this.simultaneous;return x=Et(x,this),k[x.id]||(k[x.id]=x,x.recognizeWith(this)),this},dropRecognizeWith:function(x){return v(x,"dropRecognizeWith",this)?this:(x=Et(x,this),delete this.simultaneous[x.id],this)},requireFailure:function(x){if(v(x,"requireFailure",this))return this;var k=this.requireFail;return x=Et(x,this),ce(k,x)===-1&&(k.push(x),x.requireFailure(this)),this},dropRequireFailure:function(x){if(v(x,"dropRequireFailure",this))return this;x=Et(x,this);var k=ce(this.requireFail,x);return k>-1&&this.requireFail.splice(k,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(x){return!!this.simultaneous[x.id]},emit:function(x){var k=this,R=this.state;function z(K){k.manager.emit(K,x)}R<wn&&z(k.options.event+Xt(R)),z(k.options.event),x.additionalEvent&&z(x.additionalEvent),R>=wn&&z(k.options.event+Xt(R))},tryEmit:function(x){if(this.canEmit())return this.emit(x);this.state=Gt},canEmit:function(){for(var x=0;x<this.requireFail.length;){if(!(this.requireFail[x].state&(Gt|Fe)))return!1;x++}return!0},recognize:function(x){var k=b({},x);if(!M(this.options.enable,[this,k])){this.reset(),this.state=Gt;return}this.state&(Lt|or|Gt)&&(this.state=Fe),this.state=this.process(k),this.state&(Nt|jn|wn|or)&&this.tryEmit(k)},process:function(x){},getTouchAction:function(){},reset:function(){}};function Xt(x){return x&or?"cancel":x&wn?"end":x&jn?"move":x&Nt?"start":""}function Ca(x){return x==yi?"down":x==vn?"up":x==In?"left":x==un?"right":""}function Et(x,k){var R=k.manager;return R?R.get(x):x}function Jt(){jt.apply(this,arguments)}T(Jt,jt,{defaults:{pointers:1},attrTest:function(x){var k=this.options.pointers;return k===0||x.pointers.length===k},process:function(x){var k=this.state,R=x.eventType,z=k&(Nt|jn),K=this.attrTest(x);return z&&(R&ze||!K)?k|or:z||K?R&we?k|wn:k&Nt?k|jn:Nt:Gt}});function Kr(){Jt.apply(this,arguments),this.pX=null,this.pY=null}T(Kr,Jt,{defaults:{event:"pan",threshold:10,pointers:1,direction:zs},getTouchAction:function(){var x=this.options.direction,k=[];return x&Yt&&k.push(ki),x&_n&&k.push(Si),k},directionTest:function(x){var k=this.options,R=!0,z=x.distance,K=x.direction,te=x.deltaX,Pe=x.deltaY;return K&k.direction||(k.direction&Yt?(K=te===0?Dt:te<0?In:un,R=te!=this.pX,z=Math.abs(x.deltaX)):(K=Pe===0?Dt:Pe<0?vn:yi,R=Pe!=this.pY,z=Math.abs(x.deltaY))),x.direction=K,R&&z>k.threshold&&K&k.direction},attrTest:function(x){return Jt.prototype.attrTest.call(this,x)&&(this.state&Nt||!(this.state&Nt)&&this.directionTest(x))},emit:function(x){this.pX=x.deltaX,this.pY=x.deltaY;var k=Ca(x.direction);k&&(x.additionalEvent=this.options.event+k),this._super.emit.call(this,x)}});function Gs(){Jt.apply(this,arguments)}T(Gs,Jt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Jn]},attrTest:function(x){return this._super.attrTest.call(this,x)&&(Math.abs(x.scale-1)>this.options.threshold||this.state&Nt)},emit:function(x){if(x.scale!==1){var k=x.scale<1?"in":"out";x.additionalEvent=this.options.event+k}this._super.emit.call(this,x)}});function Ei(){jt.apply(this,arguments),this._timer=null,this._input=null}T(Ei,jt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ys]},process:function(x){var k=this.options,R=x.pointers.length===k.pointers,z=x.distance<k.threshold,K=x.deltaTime>k.time;if(this._input=x,!z||!R||x.eventType&(we|ze)&&!K)this.reset();else if(x.eventType&Ee)this.reset(),this._timer=m(function(){this.state=Lt,this.tryEmit()},k.time,this);else if(x.eventType&we)return Lt;return Gt},reset:function(){clearTimeout(this._timer)},emit:function(x){this.state===Lt&&(x&&x.eventType&we?this.manager.emit(this.options.event+"up",x):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}});function Ti(){Jt.apply(this,arguments)}T(Ti,Jt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Jn]},attrTest:function(x){return this._super.attrTest.call(this,x)&&(Math.abs(x.rotation)>this.options.threshold||this.state&Nt)}});function Qn(){Jt.apply(this,arguments)}T(Qn,Jt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Yt|_n,pointers:1},getTouchAction:function(){return Kr.prototype.getTouchAction.call(this)},attrTest:function(x){var k=this.options.direction,R;return k&(Yt|_n)?R=x.overallVelocity:k&Yt?R=x.overallVelocityX:k&_n&&(R=x.overallVelocityY),this._super.attrTest.call(this,x)&&k&x.offsetDirection&&x.distance>this.options.threshold&&x.maxPointers==this.options.pointers&&d(R)>this.options.velocity&&x.eventType&we},emit:function(x){var k=Ca(x.offsetDirection);k&&this.manager.emit(this.options.event+k,x),this.manager.emit(this.options.event,x)}});function Zn(){jt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}T(Zn,jt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Hr]},process:function(x){var k=this.options,R=x.pointers.length===k.pointers,z=x.distance<k.threshold,K=x.deltaTime<k.time;if(this.reset(),x.eventType&Ee&&this.count===0)return this.failTimeout();if(z&&K&&R){if(x.eventType!=we)return this.failTimeout();var te=this.pTime?x.timeStamp-this.pTime<k.interval:!0,Pe=!this.pCenter||Nn(this.pCenter,x.center)<k.posThreshold;this.pTime=x.timeStamp,this.pCenter=x.center,!Pe||!te?this.count=1:this.count+=1,this._input=x;var it=this.count%k.taps;if(it===0)return this.hasRequireFailures()?(this._timer=m(function(){this.state=Lt,this.tryEmit()},k.interval,this),Nt):Lt}return Gt},failTimeout:function(){return this._timer=m(function(){this.state=Gt},this.options.interval,this),Gt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Lt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function zn(x,k){return k=k||{},k.recognizers=N(k.recognizers,zn.defaults.preset),new Gr(x,k)}zn.VERSION="2.0.7",zn.defaults={domEvents:!1,touchAction:Ln,enable:!0,inputTarget:null,inputClass:null,preset:[[Ti,{enable:!1}],[Gs,{enable:!1},["rotate"]],[Qn,{direction:Yt}],[Kr,{direction:Yt},["swipe"]],[Zn],[Zn,{event:"doubletap",taps:2},["tap"]],[Ei]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Ou=1,Yr=2;function Gr(x,k){this.options=b({},zn.defaults,k||{}),this.options.inputTarget=this.options.inputTarget||x,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=x,this.input=Fs(this),this.touchAction=new qr(this,this.options.touchAction),Xr(this,!0),_(this.options.recognizers,function(R){var z=this.add(new R[0](R[1]));R[2]&&z.recognizeWith(R[2]),R[3]&&z.requireFailure(R[3])},this)}Gr.prototype={set:function(x){return b(this.options,x),x.touchAction&&this.touchAction.update(),x.inputTarget&&(this.input.destroy(),this.input.target=x.inputTarget,this.input.init()),this},stop:function(x){this.session.stopped=x?Yr:Ou},recognize:function(x){var k=this.session;if(!k.stopped){this.touchAction.preventDefaults(x);var R,z=this.recognizers,K=k.curRecognizer;(!K||K&&K.state&Lt)&&(K=k.curRecognizer=null);for(var te=0;te<z.length;)R=z[te],k.stopped!==Yr&&(!K||R==K||R.canRecognizeWith(K))?R.recognize(x):R.reset(),!K&&R.state&(Nt|jn|wn)&&(K=k.curRecognizer=R),te++}},get:function(x){if(x instanceof jt)return x;for(var k=this.recognizers,R=0;R<k.length;R++)if(k[R].options.event==x)return k[R];return null},add:function(x){if(v(x,"add",this))return this;var k=this.get(x.options.event);return k&&this.remove(k),this.recognizers.push(x),x.manager=this,this.touchAction.update(),x},remove:function(x){if(v(x,"remove",this))return this;if(x=this.get(x),x){var k=this.recognizers,R=ce(k,x);R!==-1&&(k.splice(R,1),this.touchAction.update())}return this},on:function(x,k){if(x!==r&&k!==r){var R=this.handlers;return _(oe(x),function(z){R[z]=R[z]||[],R[z].push(k)}),this}},off:function(x,k){if(x!==r){var R=this.handlers;return _(oe(x),function(z){k?R[z]&&R[z].splice(ce(R[z],k),1):delete R[z]}),this}},emit:function(x,k){this.options.domEvents&&ar(x,k);var R=this.handlers[x]&&this.handlers[x].slice();if(!(!R||!R.length)){k.type=x,k.preventDefault=function(){k.srcEvent.preventDefault()};for(var z=0;z<R.length;)R[z](k),z++}},destroy:function(){this.element&&Xr(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Xr(x,k){var R=x.element;if(R.style){var z;_(x.options.cssProps,function(K,te){z=Ne(R.style,te),k?(x.oldCssProps[z]=R.style[z],R.style[z]=K):R.style[z]=x.oldCssProps[z]||""}),k||(x.oldCssProps={})}}function ar(x,k){var R=t.createEvent("Event");R.initEvent(x,!0,!0),R.gesture=k,k.target.dispatchEvent(R)}b(zn,{INPUT_START:Ee,INPUT_MOVE:Ce,INPUT_END:we,INPUT_CANCEL:ze,STATE_POSSIBLE:Fe,STATE_BEGAN:Nt,STATE_CHANGED:jn,STATE_ENDED:wn,STATE_RECOGNIZED:Lt,STATE_CANCELLED:or,STATE_FAILED:Gt,DIRECTION_NONE:Dt,DIRECTION_LEFT:In,DIRECTION_RIGHT:un,DIRECTION_UP:vn,DIRECTION_DOWN:yi,DIRECTION_HORIZONTAL:Yt,DIRECTION_VERTICAL:_n,DIRECTION_ALL:zs,Manager:Gr,Input:ht,TouchAction:qr,TouchInput:wi,MouseInput:_i,PointerEventInput:Br,TouchMouseInput:xi,SingleTouchInput:qs,Recognizer:jt,AttrRecognizer:Jt,Tap:Zn,Pan:Kr,Swipe:Qn,Pinch:Gs,Rotate:Ti,Press:Ei,on:$,off:U,each:_,merge:C,extend:E,assign:b,inherit:T,bindFn:O,prefixed:Ne});var Ru=typeof e<"u"?e:typeof self<"u"?self:{};Ru.Hammer=zn,n.exports?n.exports=zn:e[i]=zn})(window,document,"Hammer")}(Ih)),Ih.exports}var BP=UP();const Xo=B_(BP);/*!
* chartjs-plugin-zoom v2.2.0
* https://www.chartjs.org/chartjs-plugin-zoom/2.2.0/
 * (c) 2016-2024 chartjs-plugin-zoom Contributors
 * Released under the MIT License
 */const ha=n=>n&&n.enabled&&n.modifierKey,Gv=(n,e)=>n&&e[n+"Key"],Ud=(n,e)=>n&&!e[n+"Key"];function er(n,e,t){return n===void 0?!0:typeof n=="string"?n.indexOf(e)!==-1:typeof n=="function"?n({chart:t}).indexOf(e)!==-1:!1}function Dh(n,e){return typeof n=="function"&&(n=n({chart:e})),typeof n=="string"?{x:n.indexOf("x")!==-1,y:n.indexOf("y")!==-1}:{x:!1,y:!1}}function WP(n,e){let t;return function(){return clearTimeout(t),t=setTimeout(n,e),e}}function VP({x:n,y:e},t){const i=t.scales,r=Object.keys(i);for(let o=0;o<r.length;o++){const l=i[r[o]];if(e>=l.top&&e<=l.bottom&&n>=l.left&&n<=l.right)return l}return null}function Xv(n,e,t){const{mode:i="xy",scaleMode:r,overScaleMode:o}=n||{},l=VP(e,t),u=Dh(i,t),h=Dh(r,t);if(o){const p=Dh(o,t);for(const m of["x","y"])p[m]&&(h[m]=u[m],u[m]=!1)}if(l&&h[l.axis])return[l];const d=[];return Re(t.scales,function(p){u[p.axis]&&d.push(p)}),d}const ud=new WeakMap;function Ze(n){let e=ud.get(n);return e||(e={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},ud.set(n,e)),e}function HP(n){ud.delete(n)}function Jv(n,e,t,i){const r=Math.max(0,Math.min(1,(n-e)/t||0)),o=1-r;return{min:i*r,max:i*o}}function Qv(n,e){const t=n.isHorizontal()?e.x:e.y;return n.getValueForPixel(t)}function Zv(n,e,t){const i=n.max-n.min,r=i*(e-1),o=Qv(n,t);return Jv(o,n.min,i,r)}function qP(n,e,t){const i=Qv(n,t);if(i===void 0)return{min:n.min,max:n.max};const r=Math.log10(n.min),o=Math.log10(n.max),l=Math.log10(i),u=o-r,h=u*(e-1),d=Jv(l,r,u,h);return{min:Math.pow(10,r+d.min),max:Math.pow(10,o-d.max)}}function KP(n,e){return e&&(e[n.id]||e[n.axis])||{}}function dy(n,e,t,i,r){let o=t[i];if(o==="original"){const l=n.originalScaleLimits[e.id][i];o=xe(l.options,l.scale)}return xe(o,r)}function YP(n,e,t){const i=n.getValueForPixel(e),r=n.getValueForPixel(t);return{min:Math.min(i,r),max:Math.max(i,r)}}function GP(n,{min:e,max:t,minLimit:i,maxLimit:r},o){const l=(n-t+e)/2;e-=l,t+=l;const u=o.min.options??o.min.scale,h=o.max.options??o.max.scale,d=n/1e6;return Mr(e,u,d)&&(e=u),Mr(t,h,d)&&(t=h),e<i?(e=i,t=Math.min(i+n,r)):t>r&&(t=r,e=Math.max(r-n,i)),{min:e,max:t}}function Fr(n,{min:e,max:t},i,r=!1){const o=Ze(n.chart),{options:l}=n,u=KP(n,i),{minRange:h=0}=u,d=dy(o,n,u,"min",-1/0),p=dy(o,n,u,"max",1/0);if(r==="pan"&&(e<d||t>p))return!0;const m=n.max-n.min,v=r?Math.max(t-e,h):m;if(r&&v===h&&m<=h)return!0;const _=GP(v,{min:e,max:t,minLimit:d,maxLimit:p},o.originalScaleLimits[n.id]);return l.min=_.min,l.max=_.max,o.updatedScaleLimits[n.id]=_,n.parse(_.min)!==n.min||n.parse(_.max)!==n.max}function XP(n,e,t,i){const r=Zv(n,e,t),o={min:n.min+r.min,max:n.max-r.max};return Fr(n,o,i,!0)}function JP(n,e,t,i){const r=qP(n,e,t);return Fr(n,r,i,!0)}function QP(n,e,t,i){Fr(n,YP(n,e,t),i,!0)}const fy=n=>n===0||isNaN(n)?0:n<0?Math.min(Math.round(n),-1):Math.max(Math.round(n),1);function ZP(n){const t=n.getLabels().length-1;n.min>0&&(n.min-=1),n.max<t&&(n.max+=1)}function eC(n,e,t,i){const r=Zv(n,e,t);n.min===n.max&&e<1&&ZP(n);const o={min:n.min+fy(r.min),max:n.max-fy(r.max)};return Fr(n,o,i,!0)}function tC(n){return n.isHorizontal()?n.width:n.height}function nC(n,e,t){const r=n.getLabels().length-1;let{min:o,max:l}=n;const u=Math.max(l-o,1),h=Math.round(tC(n)/Math.max(u,10)),d=Math.round(Math.abs(e/h));let p;return e<-h?(l=Math.min(l+d,r),o=u===1?l:l-u,p=l===r):e>h&&(o=Math.max(0,o-d),l=u===1?o:o+u,p=o===0),Fr(n,{min:o,max:l},t)||p}const iC={second:500,minute:30*1e3,hour:30*60*1e3,day:12*60*60*1e3,week:3.5*24*60*60*1e3,month:15*24*60*60*1e3,quarter:60*24*60*60*1e3,year:182*24*60*60*1e3};function e0(n,e,t,i=!1){const{min:r,max:o,options:l}=n,u=l.time&&l.time.round,h=iC[u]||0,d=n.getValueForPixel(n.getPixelForValue(r+h)-e),p=n.getValueForPixel(n.getPixelForValue(o+h)-e);return isNaN(d)||isNaN(p)?!0:Fr(n,{min:d,max:p},t,i?"pan":!1)}function py(n,e,t){return e0(n,e,t,!0)}const cd={category:eC,default:XP,logarithmic:JP},hd={default:QP},dd={category:nC,default:e0,logarithmic:py,timeseries:py};function rC(n,e,t){const{id:i,options:{min:r,max:o}}=n;if(!e[i]||!t[i])return!0;const l=t[i];return l.min!==r||l.max!==o}function gy(n,e){Re(n,(t,i)=>{e[i]||delete n[i]})}function js(n,e){const{scales:t}=n,{originalScaleLimits:i,updatedScaleLimits:r}=e;return Re(t,function(o){rC(o,i,r)&&(i[o.id]={min:{scale:o.min,options:o.options.min},max:{scale:o.max,options:o.options.max}})}),gy(i,t),gy(r,t),i}function my(n,e,t,i){const r=cd[n.type]||cd.default;ye(r,[n,e,t,i])}function yy(n,e,t,i){const r=hd[n.type]||hd.default;ye(r,[n,e,t,i])}function sC(n){const e=n.chartArea;return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Bd(n,e,t="none",i="api"){const{x:r=1,y:o=1,focalPoint:l=sC(n)}=typeof e=="number"?{x:e,y:e}:e,u=Ze(n),{options:{limits:h,zoom:d}}=u;js(n,u);const p=r!==1,m=o!==1,v=Xv(d,l,n);Re(v||n.scales,function(_){_.isHorizontal()&&p?my(_,r,l,h):!_.isHorizontal()&&m&&my(_,o,l,h)}),n.update(t),ye(d.onZoom,[{chart:n,trigger:i}])}function t0(n,e,t,i="none",r="api"){const o=Ze(n),{options:{limits:l,zoom:u}}=o,{mode:h="xy"}=u;js(n,o);const d=er(h,"x",n),p=er(h,"y",n);Re(n.scales,function(m){m.isHorizontal()&&d?yy(m,e.x,t.x,l):!m.isHorizontal()&&p&&yy(m,e.y,t.y,l)}),n.update(i),ye(u.onZoom,[{chart:n,trigger:r}])}function oC(n,e,t,i="none",r="api"){var u;const o=Ze(n);js(n,o);const l=n.scales[e];Fr(l,t,void 0,!0),n.update(i),ye((u=o.options.zoom)==null?void 0:u.onZoom,[{chart:n,trigger:r}])}function aC(n,e="default"){const t=Ze(n),i=js(n,t);Re(n.scales,function(r){const o=r.options;i[r.id]?(o.min=i[r.id].min.options,o.max=i[r.id].max.options):(delete o.min,delete o.max),delete t.updatedScaleLimits[r.id]}),n.update(e),ye(t.options.zoom.onZoomComplete,[{chart:n}])}function lC(n,e){const t=n.originalScaleLimits[e];if(!t)return;const{min:i,max:r}=t;return xe(r.options,r.scale)-xe(i.options,i.scale)}function uC(n){const e=Ze(n);let t=1,i=1;return Re(n.scales,function(r){const o=lC(e,r.id);if(o){const l=Math.round(o/(r.max-r.min)*100)/100;t=Math.min(t,l),i=Math.max(i,l)}}),t<1?t:i}function vy(n,e,t,i){const{panDelta:r}=i,o=r[n.id]||0;yn(o)===yn(e)&&(e+=o);const l=dd[n.type]||dd.default;ye(l,[n,e,t])?r[n.id]=0:r[n.id]=e}function n0(n,e,t,i="none"){const{x:r=0,y:o=0}=typeof e=="number"?{x:e,y:e}:e,l=Ze(n),{options:{pan:u,limits:h}}=l,{onPan:d}=u||{};js(n,l);const p=r!==0,m=o!==0;Re(t||n.scales,function(v){v.isHorizontal()&&p?vy(v,r,h,l):!v.isHorizontal()&&m&&vy(v,o,h,l)}),n.update(i),ye(d,[{chart:n}])}function i0(n){const e=Ze(n);js(n,e);const t={};for(const i of Object.keys(n.scales)){const{min:r,max:o}=e.originalScaleLimits[i]||{min:{},max:{}};t[i]={min:r.scale,max:o.scale}}return t}function cC(n){const e=Ze(n),t={};for(const i of Object.keys(n.scales))t[i]=e.updatedScaleLimits[i];return t}function hC(n){const e=i0(n);for(const t of Object.keys(n.scales)){const{min:i,max:r}=e[t];if(i!==void 0&&n.scales[t].min!==i||r!==void 0&&n.scales[t].max!==r)return!0}return!1}function _y(n){const e=Ze(n);return e.panning||e.dragging}const wy=(n,e,t)=>Math.min(t,Math.max(e,n));function qt(n,e){const{handlers:t}=Ze(n),i=t[e];i&&i.target&&(i.target.removeEventListener(e,i),delete t[e])}function Jo(n,e,t,i){const{handlers:r,options:o}=Ze(n),l=r[t];if(l&&l.target===e)return;qt(n,t),r[t]=h=>i(n,h,o),r[t].target=e;const u=t==="wheel"?!1:void 0;e.addEventListener(t,r[t],{passive:u})}function dC(n,e){const t=Ze(n);t.dragStart&&(t.dragging=!0,t.dragEnd=e,n.update("none"))}function fC(n,e){const t=Ze(n);!t.dragStart||e.key!=="Escape"||(qt(n,"keydown"),t.dragging=!1,t.dragStart=t.dragEnd=null,n.update("none"))}function fd(n,e){if(n.target!==e.canvas){const t=e.canvas.getBoundingClientRect();return{x:n.clientX-t.left,y:n.clientY-t.top}}return Hn(n,e)}function r0(n,e,t){const{onZoomStart:i,onZoomRejected:r}=t;if(i){const o=fd(e,n);if(ye(i,[{chart:n,event:e,point:o}])===!1)return ye(r,[{chart:n,event:e}]),!1}}function pC(n,e){if(n.legend){const o=Hn(e,n);if(qn(o,n.legend))return}const t=Ze(n),{pan:i,zoom:r={}}=t.options;if(e.button!==0||Gv(ha(i),e)||Ud(ha(r.drag),e))return ye(r.onZoomRejected,[{chart:n,event:e}]);r0(n,e,r)!==!1&&(t.dragStart=e,Jo(n,n.canvas.ownerDocument,"mousemove",dC),Jo(n,window.document,"keydown",fC))}function gC({begin:n,end:e},t){let i=e.x-n.x,r=e.y-n.y;const o=Math.abs(i/r);o>t?i=Math.sign(i)*Math.abs(r*t):o<t&&(r=Math.sign(r)*Math.abs(i/t)),e.x=n.x+i,e.y=n.y+r}function by(n,e,t,{min:i,max:r,prop:o}){n[i]=wy(Math.min(t.begin[o],t.end[o]),e[i],e[r]),n[r]=wy(Math.max(t.begin[o],t.end[o]),e[i],e[r])}function mC(n,e,t){const i={begin:fd(e.dragStart,n),end:fd(e.dragEnd,n)};if(t){const r=n.chartArea.width/n.chartArea.height;gC(i,r)}return i}function s0(n,e,t,i){const r=er(e,"x",n),o=er(e,"y",n),{top:l,left:u,right:h,bottom:d,width:p,height:m}=n.chartArea,v={top:l,left:u,right:h,bottom:d},_=mC(n,t,i&&r&&o);r&&by(v,n.chartArea,_,{min:"left",max:"right",prop:"x"}),o&&by(v,n.chartArea,_,{min:"top",max:"bottom",prop:"y"});const S=v.right-v.left,b=v.bottom-v.top;return{...v,width:S,height:b,zoomX:r&&S?1+(p-S)/p:1,zoomY:o&&b?1+(m-b)/m:1}}function yC(n,e){const t=Ze(n);if(!t.dragStart)return;qt(n,"mousemove");const{mode:i,onZoomComplete:r,drag:{threshold:o=0,maintainAspectRatio:l}}=t.options.zoom,u=s0(n,i,{dragStart:t.dragStart,dragEnd:e},l),h=er(i,"x",n)?u.width:0,d=er(i,"y",n)?u.height:0,p=Math.sqrt(h*h+d*d);if(t.dragStart=t.dragEnd=null,p<=o){t.dragging=!1,n.update("none");return}t0(n,{x:u.left,y:u.top},{x:u.right,y:u.bottom},"zoom","drag"),t.dragging=!1,t.filterNextClick=!0,ye(r,[{chart:n}])}function vC(n,e,t){if(Ud(ha(t.wheel),e)){ye(t.onZoomRejected,[{chart:n,event:e}]);return}if(r0(n,e,t)!==!1&&(e.cancelable&&e.preventDefault(),e.deltaY!==void 0))return!0}function _C(n,e){const{handlers:{onZoomComplete:t},options:{zoom:i}}=Ze(n);if(!vC(n,e,i))return;const r=e.target.getBoundingClientRect(),o=i.wheel.speed,l=e.deltaY>=0?2-1/(1-o):1+o,u={x:l,y:l,focalPoint:{x:e.clientX-r.left,y:e.clientY-r.top}};Bd(n,u,"zoom","wheel"),ye(t,[{chart:n}])}function wC(n,e,t,i){t&&(Ze(n).handlers[e]=WP(()=>ye(t,[{chart:n}]),i))}function bC(n,e){const t=n.canvas,{wheel:i,drag:r,onZoomComplete:o}=e.zoom;i.enabled?(Jo(n,t,"wheel",_C),wC(n,"onZoomComplete",o,250)):qt(n,"wheel"),r.enabled?(Jo(n,t,"mousedown",pC),Jo(n,t.ownerDocument,"mouseup",yC)):(qt(n,"mousedown"),qt(n,"mousemove"),qt(n,"mouseup"),qt(n,"keydown"))}function xC(n){qt(n,"mousedown"),qt(n,"mousemove"),qt(n,"mouseup"),qt(n,"wheel"),qt(n,"click"),qt(n,"keydown")}function SC(n,e){return function(t,i){const{pan:r,zoom:o={}}=e.options;if(!r||!r.enabled)return!1;const l=i&&i.srcEvent;return l&&!e.panning&&i.pointerType==="mouse"&&(Ud(ha(r),l)||Gv(ha(o.drag),l))?(ye(r.onPanRejected,[{chart:n,event:i}]),!1):!0}}function kC(n,e){const t=Math.abs(n.clientX-e.clientX),i=Math.abs(n.clientY-e.clientY),r=t/i;let o,l;return r>.3&&r<1.7?o=l=!0:t>i?o=!0:l=!0,{x:o,y:l}}function o0(n,e,t){if(e.scale){const{center:i,pointers:r}=t,o=1/e.scale*t.scale,l=t.target.getBoundingClientRect(),u=kC(r[0],r[1]),h=e.options.zoom.mode,d={x:u.x&&er(h,"x",n)?o:1,y:u.y&&er(h,"y",n)?o:1,focalPoint:{x:i.x-l.left,y:i.y-l.top}};Bd(n,d,"zoom","pinch"),e.scale=t.scale}}function EC(n,e,t){if(e.options.zoom.pinch.enabled){const i=Hn(t,n);ye(e.options.zoom.onZoomStart,[{chart:n,event:t,point:i}])===!1?(e.scale=null,ye(e.options.zoom.onZoomRejected,[{chart:n,event:t}])):e.scale=1}}function TC(n,e,t){e.scale&&(o0(n,e,t),e.scale=null,ye(e.options.zoom.onZoomComplete,[{chart:n}]))}function a0(n,e,t){const i=e.delta;i&&(e.panning=!0,n0(n,{x:t.deltaX-i.x,y:t.deltaY-i.y},e.panScales),e.delta={x:t.deltaX,y:t.deltaY})}function PC(n,e,t){const{enabled:i,onPanStart:r,onPanRejected:o}=e.options.pan;if(!i)return;const l=t.target.getBoundingClientRect(),u={x:t.center.x-l.left,y:t.center.y-l.top};if(ye(r,[{chart:n,event:t,point:u}])===!1)return ye(o,[{chart:n,event:t}]);e.panScales=Xv(e.options.pan,u,n),e.delta={x:0,y:0},a0(n,e,t)}function CC(n,e){e.delta=null,e.panning&&(e.panning=!1,e.filterNextClick=!0,ye(e.options.pan.onPanComplete,[{chart:n}]))}const pd=new WeakMap;function xy(n,e){const t=Ze(n),i=n.canvas,{pan:r,zoom:o}=e,l=new Xo.Manager(i);o&&o.pinch.enabled&&(l.add(new Xo.Pinch),l.on("pinchstart",u=>EC(n,t,u)),l.on("pinch",u=>o0(n,t,u)),l.on("pinchend",u=>TC(n,t,u))),r&&r.enabled&&(l.add(new Xo.Pan({threshold:r.threshold,enable:SC(n,t)})),l.on("panstart",u=>PC(n,t,u)),l.on("panmove",u=>a0(n,t,u)),l.on("panend",()=>CC(n,t))),pd.set(n,l)}function Sy(n){const e=pd.get(n);e&&(e.remove("pinchstart"),e.remove("pinch"),e.remove("pinchend"),e.remove("panstart"),e.remove("pan"),e.remove("panend"),e.destroy(),pd.delete(n))}function OC(n,e){var l,u,h,d;const{pan:t,zoom:i}=n,{pan:r,zoom:o}=e;return((u=(l=i==null?void 0:i.zoom)==null?void 0:l.pinch)==null?void 0:u.enabled)!==((d=(h=o==null?void 0:o.zoom)==null?void 0:h.pinch)==null?void 0:d.enabled)||(t==null?void 0:t.enabled)!==(r==null?void 0:r.enabled)||(t==null?void 0:t.threshold)!==(r==null?void 0:r.threshold)}var RC="2.2.0";function Jl(n,e,t){const i=t.zoom.drag,{dragStart:r,dragEnd:o}=Ze(n);if(i.drawTime!==e||!o)return;const{left:l,top:u,width:h,height:d}=s0(n,t.zoom.mode,{dragStart:r,dragEnd:o},i.maintainAspectRatio),p=n.ctx;p.save(),p.beginPath(),p.fillStyle=i.backgroundColor||"rgba(225,225,225,0.3)",p.fillRect(l,u,h,d),i.borderWidth>0&&(p.lineWidth=i.borderWidth,p.strokeStyle=i.borderColor||"rgba(225,225,225)",p.strokeRect(l,u,h,d)),p.restore()}var AC={id:"zoom",version:RC,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(n,e,t){const i=Ze(n);i.options=t,Object.prototype.hasOwnProperty.call(t.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(t.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(t.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),Xo&&xy(n,t),n.pan=(r,o,l)=>n0(n,r,o,l),n.zoom=(r,o)=>Bd(n,r,o),n.zoomRect=(r,o,l)=>t0(n,r,o,l),n.zoomScale=(r,o,l)=>oC(n,r,o,l),n.resetZoom=r=>aC(n,r),n.getZoomLevel=()=>uC(n),n.getInitialScaleBounds=()=>i0(n),n.getZoomedScaleBounds=()=>cC(n),n.isZoomedOrPanned=()=>hC(n),n.isZoomingOrPanning=()=>_y(n)},beforeEvent(n,{event:e}){if(_y(n))return!1;if(e.type==="click"||e.type==="mouseup"){const t=Ze(n);if(t.filterNextClick)return t.filterNextClick=!1,!1}},beforeUpdate:function(n,e,t){const i=Ze(n),r=i.options;i.options=t,OC(r,t)&&(Sy(n),xy(n,t)),bC(n,t)},beforeDatasetsDraw(n,e,t){Jl(n,"beforeDatasetsDraw",t)},afterDatasetsDraw(n,e,t){Jl(n,"afterDatasetsDraw",t)},beforeDraw(n,e,t){Jl(n,"beforeDraw",t)},afterDraw(n,e,t){Jl(n,"afterDraw",t)},stop:function(n){xC(n),Xo&&Sy(n),HP(n)},panFunctions:dd,zoomFunctions:cd,zoomRectFunctions:hd};on.register(AC);function ky(n){const[e,t]=n.split(":"),[i,r]=t.split(".");return parseInt(e,10)*60+parseInt(i,10)+parseInt(r.padEnd(3,"0"),10)/1e3}function MC(){return"#"+Math.floor(Math.random()*16777215).toString(16).padStart(6,"0")}const IC=({year:n,grandPrix:e,session:t})=>{const i=je.useRef(null),r=je.useRef(null),{data:o}=Kx(n,e,t),{data:l}=Sd(n,e,t),[u,h]=je.useState(null),[d,p]=je.useState([]),[m,v]=je.useState({}),[_,S]=je.useState([]);je.useEffect(()=>{if(!o)return;const T=o,O={};l.forEach(N=>{N.TeamColor&&(O[N.Abbreviation]=N.TeamColor)});const M=l.slice().sort((N,$)=>N.Position-$.Position).map(N=>N.Abbreviation);v(O),S(M),h(T),p(T.podium||M.slice(0,3))},[o,l]),je.useEffect(()=>{if(!u||!i.current)return;const T={id:"verticalLine",afterDraw:V=>{const X=V.ctx,J=V.tooltip;if(J&&J.getActiveElements&&J.getActiveElements().length>0){const B=J.getActiveElements()[0].element.x;X.save(),X.strokeStyle="#888",X.lineWidth=1,X.beginPath(),X.moveTo(B,V.chartArea.top),X.lineTo(B,V.chartArea.bottom),X.stroke(),X.restore()}}},O=Array.isArray(u.laps)?u.laps:[],M=O.map(V=>ky(V.lapTime)),N=Math.min(...M),$=Math.max(...M),U=$-N,H=U>0?U*.2:1,Z=N-H,oe=$+H,ce=O.map(V=>V.lapNumber),de=Math.max(...ce),Ie=1,Ne=de,Se={},ve={type:"line",data:{datasets:O.filter(V=>d.includes(V.driver)).reduce((V,X)=>{const J=X.driver,D=m[J]||MC();Se[D]=(Se[D]||0)+1;const B=Se[D]>1?[5,5]:[];let ue=V.find(he=>he.label===J);return ue||(ue={label:J,data:[],borderColor:D,borderDash:B,pointBackgroundColor:D,pointRadius:4,pointHoverRadius:8,pointHoverBorderWidth:2,pointHoverBackgroundColor:"#fff",tension:.2,fill:!1,borderWidth:1},V.push(ue)),ue.data.push({x:X.lapNumber,y:ky(X.lapTime)}),V},[])},options:{maintainAspectRatio:!1,scales:{x:{type:"linear",title:{display:!0,text:"Lap Number"},min:Ie,max:Ne,grid:{display:!0,color:"#333"}},y:{title:{display:!1},min:Z,max:oe,grid:{display:!0,color:"#333"},ticks:{callback:V=>{const X=Number(V),J=Math.floor(X/60),D=Math.round(X%60).toString().padStart(2,"0");return`${J}:${D}`}}}},plugins:{datalabels:!1,legend:{display:!1},tooltip:{enabled:!0,padding:10,titleFont:{size:14},bodyFont:{size:14},boxWidth:10,boxHeight:10,callbacks:{label:V=>{const X=V.parsed.y,J=Math.floor(X/60),D=Math.floor(X%60).toString().padStart(2,"0"),B=Math.round((X-Math.floor(X))*1e3).toString().padStart(3,"0");return`${V.dataset.label}: ${J}:${D}.${B}`}}},zoom:{zoom:{wheel:{enabled:!1},pinch:{enabled:!1},drag:{enabled:!0,borderColor:"#888",backgroundColor:"rgba(136,136,136,0.3)"},mode:"x",onZoomComplete({chart:V}){const X=V.scales.x,J=V.scales.y,D=X.min,B=X.max,ue=[];if(V.data.datasets.forEach((he,ke)=>{V.isDatasetVisible(ke)&&he.data.forEach(_e=>{_e.x>=D&&_e.x<=B&&ue.push(_e.y)})}),ue.length){const he=Math.min(...ue),ke=Math.max(...ue),_e=ke-he,Ee=_e>0?_e*.2:1,Ce=he-Ee,we=ke+Ee;J.options.min=Ce,J.options.max=we,J.options.ticks.callback=ze=>{const Dt=Number(ze),In=Math.floor(Dt/60),un=Math.floor(Dt%60).toString().padStart(2,"0"),vn=Math.round((Dt-Math.floor(Dt))*1e3).toString().padStart(3,"0");return`${In}:${un}.${vn}`},V.update()}}},pan:{enabled:!1,mode:"x"}}},interaction:{mode:"index",intersect:!1}},plugins:[T]};return r.current&&r.current.destroy(),r.current=new on(i.current,ve),()=>{r.current&&r.current.destroy()}},[u,d,m]);const b=T=>{p(O=>O.includes(T)?O.filter(M=>M!==T):[...O,T])},E=()=>{!_||_.length===0||p(_.slice(0,3))},C=u&&Array.isArray(u.laps)?u.laps:[];return W.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl border border-gray-700 p-5",children:[W.jsxs("div",{className:"flex justify-between items-center mb-4",children:[W.jsx("h3",{className:"text-lg font-bold text-white",children:"Lap Times Chart"}),W.jsx("button",{onMouseDown:T=>T.preventDefault(),onClick:E,className:"px-3 py-1 bg-gray-600 hover:bg-gray-500 text-white rounded cursor-pointer transition-colors text-sm",children:"Reset"})]}),W.jsx("div",{className:"bg-gray-900 rounded-lg p-4",style:{height:400},children:W.jsx("canvas",{ref:i})}),W.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:u&&_.filter(T=>C.some(O=>O.driver===T)).map(T=>{const O=d.includes(T);return W.jsx("button",{onMouseDown:M=>M.preventDefault(),onClick:()=>b(T),className:"px-3 py-1 rounded cursor-pointer transition-all text-sm font-semibold",style:{backgroundColor:O?m[T]:"#374151",color:O?"#fff":m[T]||"#fff",border:O?`2px solid ${m[T]}`:"2px solid transparent"},children:T},T)})})]})};class DC extends je.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Error caught by ErrorBoundary:",e,t)}render(){return this.state.hasError?W.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:W.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[W.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),W.jsx("p",{className:"text-gray-700 mb-4",children:"An unexpected error occurred while rendering the application."}),this.state.error&&W.jsxs("details",{className:"mb-4",children:[W.jsx("summary",{className:"cursor-pointer text-sm text-gray-600 hover:text-gray-800",children:"Error details"}),W.jsx("pre",{className:"mt-2 text-xs bg-gray-100 p-2 rounded overflow-auto",children:this.state.error.toString()})]}),W.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700 transition",children:"Reload Page"})]})}):this.props.children}}const NC=()=>{const[n,e]=je.useState(null),[t,i]=je.useState(null),[r,o]=je.useState(null),l=h=>{e(h),i(null),o(null)},u=h=>{i(h),o(null)};return W.jsx(DC,{children:W.jsxs("div",{className:"container mx-auto px-4 py-8",children:[W.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[W.jsx(Jx,{onSelect:l}),n&&W.jsx(Qx,{year:n,onSelect:u}),n&&t&&W.jsx(Zx,{year:n,grandPrix:t,onSelect:o})]}),n&&t&&r&&W.jsxs("div",{className:"space-y-8",children:[W.jsx(cS,{year:n,grandPrix:t,session:r}),W.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[W.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[W.jsx(vP,{year:n,grandPrix:t,session:r}),W.jsx(uS,{year:n,grandPrix:t,session:r}),W.jsx(yP,{year:n,grandPrix:t,session:r})]}),W.jsx("div",{children:W.jsx(iS,{year:n,grandPrix:t,session:r})})]}),W.jsx($P,{year:n,grandPrix:t,session:r}),W.jsx(IC,{year:n,grandPrix:t,session:r})]})]})})};J_.createRoot(document.getElementById("root")).render(W.jsx(je.StrictMode,{children:W.jsx(NC,{})}));
